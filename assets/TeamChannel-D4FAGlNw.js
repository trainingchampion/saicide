import{v as i,j as t,M as v,ax as j,cv as w,cx as y,bW as N}from"./vendor-react-tt7m-l12.js";import{f as C}from"./index.dev-vR_ZKarG.js";const S=({currentUser:s,teamMembers:c,isFloating:d,onToggleFloat:f})=>{const[l,x]=i.useState("chat"),[a,h]=i.useState([{id:"msg1",author:"Alex Chen",initials:"AC",message:"Hey team, I just pushed the initial auth logic. Can someone take a look?",timestamp:"10:32 AM"},{id:"msg2",author:"Sarah Jones",initials:"SJ",message:"On it! Pulling now.",timestamp:"10:33 AM"}]),[o,m]=i.useState(""),u=i.useRef(null);i.useEffect(()=>{var e;(e=u.current)==null||e.scrollIntoView({behavior:"smooth"})},[a]),i.useEffect(()=>{if(a.length>0&&a[a.length-1].author===s.name){const e=setTimeout(()=>{const n=c.filter(r=>r.id!==s.id),p=n[Math.floor(Math.random()*n.length)],b={id:`msg-${Date.now()}`,author:p.name,initials:p.initials,message:"Got it, thanks for the update!",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};h(r=>[...r,b])},1500+Math.random()*1e3);return()=>clearTimeout(e)}},[a,s,c]);const g=()=>{if(!o.trim())return;const e={id:`msg-${Date.now()}`,author:s.name,initials:s.initials,message:o,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};h(n=>[...n,e]),m("")};return t.jsxs("div",{className:"flex-1 flex flex-col bg-slate-100 border-t border-slate-200 min-h-0",children:[t.jsxs("div",{className:"p-2 border-b border-slate-200 flex items-center justify-between",children:[t.jsxs("div",{className:"flex bg-slate-200 p-1 rounded-lg",children:[t.jsxs("button",{onClick:()=>x("chat"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-1 text-[10px] font-black uppercase rounded ${l==="chat"?"bg-white text-slate-900 shadow-sm":"text-gray-500 hover:text-black"}`,children:[t.jsx(v,{size:12})," Chat"]}),t.jsxs("button",{onClick:()=>x("activity"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-1 text-[10px] font-black uppercase rounded ${l==="activity"?"bg-white text-slate-900 shadow-sm":"text-gray-500 hover:text-black"}`,children:[t.jsx(j,{size:12})," Pulse"]})]}),t.jsx("button",{onClick:f,title:d?"Dock Channel":"Pop Out Channel",className:"p-1.5 text-slate-500 hover:text-slate-800 hover:bg-slate-200 rounded-lg",children:d?t.jsx(w,{size:16}):t.jsx(y,{size:16})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4 custom-scrollbar",children:[l==="chat"?a.map(e=>t.jsxs("div",{className:`flex items-start gap-2 ${e.author===s.name?"flex-row-reverse":""}`,children:[t.jsx("div",{className:`w-6 h-6 rounded-full bg-slate-300 flex items-center justify-center text-[9px] font-bold shrink-0 text-slate-600 ${e.author===s.name?"bg-blue-600 text-white":""}`,children:e.initials}),t.jsx("div",{className:`p-2 rounded-lg max-w-[80%] ${e.author===s.name?"bg-blue-600 text-white rounded-br-none":"bg-slate-200 text-slate-800 rounded-bl-none"}`,children:t.jsx("p",{className:"text-xs leading-relaxed",children:e.message})})]},e.id)):C.map(e=>t.jsxs("div",{className:"flex items-center gap-3 p-2 text-xs text-gray-500",children:[e.icon,t.jsx("span",{className:"flex-1",children:e.text}),t.jsx("span",{className:"text-gray-400",children:e.time})]},e.id)),t.jsx("div",{ref:u})]}),l==="chat"&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-white",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("textarea",{value:o,onChange:e=>m(e.target.value),onKeyDown:e=>{e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),g())},placeholder:"Type your message...",className:"flex-1 bg-slate-100 border border-slate-300 rounded-lg px-3 py-2 text-xs resize-none outline-none focus:border-[var(--color-accent)]",rows:1}),t.jsx("button",{onClick:g,className:"p-2 bg-[var(--color-accent)] rounded-lg hover:bg-[var(--color-accent-hover)] transition-colors text-white",children:t.jsx(N,{size:16})})]})})]})};export{S as T};
