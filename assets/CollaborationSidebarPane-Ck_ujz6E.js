import{v as m,j as e,C as E,bV as f,br as F,ct as M,aq as n,A as j,bq as q,bi as H,al as O,_ as B,i as I,cr as K}from"./vendor-react-tt7m-l12.js";const Y=({isLive:v,onStartSession:y,onStopSession:N,onInvite:o,teamMembers:c,currentUser:d,onCollapse:w,collaborationState:k={},inviteDockLocation:a="header",onMoveInvite:C,onPopOut:U,agendaItems:r,onAddAgendaItem:z,onToggleAgendaItem:S,onDeleteAgendaItem:L,onInviteSent:x})=>{const l=c.filter(s=>s.status==="online"),h=c.filter(s=>s.status!=="online"),[i,p]=m.useState(!1),[b,u]=m.useState(""),T=s=>{s.preventDefault(),z(b),u("")},$=()=>{navigator.clipboard.writeText(`https://sai.sh/join/${Math.random().toString(36).substring(7)}`),p(!0),setTimeout(()=>p(!1),2e3),x&&x()},P=r.filter(s=>s.completed).length,A=r.length>0?P/r.length*100:0,R=s=>{alert(`Nudged ${s} to join!`)};return e.jsxs("div",{className:"p-2 h-full flex flex-col bg-[var(--color-background-secondary)] text-white",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 flex-shrink-0",children:[e.jsx("h2",{className:"text-xs font-bold uppercase text-[var(--color-text-secondary)] tracking-widest",children:"Collaboration"}),e.jsx("button",{onClick:w,title:"Collapse Panel",className:"text-[var(--color-text-secondary)] hover:text-white p-1 rounded-md hover:bg-[var(--color-background-tertiary)]",children:e.jsx(E,{size:18})})]}),e.jsxs("div",{className:"p-2 space-y-3",children:[v?e.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl text-sm font-bold bg-red-500/20 text-red-400 hover:bg-red-500/30 border border-red-500/50 transition-all shadow-lg shadow-red-500/10 active:scale-95",children:[e.jsx(f,{size:16,className:"animate-pulse"}),e.jsx("span",{children:"End Live Session"})]}):e.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl text-sm font-bold bg-green-500 text-white hover:bg-green-600 transition-all shadow-lg shadow-green-500/20 active:scale-95",children:[e.jsx(f,{size:16}),e.jsx("span",{children:"Start Live Session"})]}),e.jsxs("div",{className:`p-4 rounded-2xl transition-all relative overflow-hidden group ${a==="sidebar"?"bg-gradient-to-br from-cyan-600/20 to-blue-600/10 border border-cyan-500/30 shadow-xl":"bg-white/5 border border-white/5"}`,children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg text-cyan-400",children:e.jsx(F,{size:18})}),e.jsx("span",{className:"text-xs font-black uppercase text-white tracking-wider",children:"Invite Hub"})]}),e.jsx("button",{onClick:C,className:"p-1.5 hover:bg-white/10 rounded-lg text-gray-500 hover:text-white transition-colors",title:a==="sidebar"?"Dock to Header":"Keep in Sidebar",children:e.jsx(M,{size:14,className:a==="sidebar"?"text-cyan-400":""})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-sm font-bold bg-blue-600 hover:bg-blue-500 text-white transition-all shadow-lg shadow-blue-900/40 active:scale-[0.98]",children:[e.jsx(n,{size:16}),e.jsx("span",{children:"Invite Teammates"})]}),e.jsxs("button",{onClick:$,className:`w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-xs font-bold transition-all border ${i?"bg-green-500/20 border-green-500/30 text-green-400":"bg-white/5 border-white/10 text-gray-300 hover:bg-white/10"}`,children:[i?e.jsx(j,{size:14}):e.jsx(q,{size:14}),i?"Link Copied!":"Copy Magic Link"]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/5",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest mb-2 px-1",children:"Recent Collaborators"}),e.jsxs("div",{className:"flex -space-x-1 px-1",children:[l.slice(0,4).map((s,t)=>e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-800 border-2 border-[var(--color-background-secondary)] flex items-center justify-center text-[8px] font-bold text-gray-400",title:s.name,children:s.initials},t)),e.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-500/20 border-2 border-[var(--color-background-secondary)] flex items-center justify-center text-[10px] text-cyan-400 cursor-pointer hover:bg-cyan-500/30 transition-colors",onClick:o,children:e.jsx(n,{size:10})})]})]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/10 blur-[40px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/2 group-hover:bg-cyan-500/20 transition-all duration-500"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto mt-4 border-t border-[var(--color-border)]",children:[e.jsxs("div",{className:"p-2",children:[e.jsxs("h3",{className:"text-xs font-bold uppercase text-[var(--color-text-secondary)] mb-3 px-1 flex items-center gap-2",children:[e.jsx(H,{size:14}),"Session Agenda"]}),e.jsx("div",{className:"w-full bg-gray-800 rounded-full h-1.5 mb-4",children:e.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${A}%`}})}),e.jsx("div",{className:"space-y-2 mb-3",children:r.map(s=>e.jsxs("div",{className:"flex items-center gap-2 group p-1.5 rounded-md hover:bg-white/5 transition-colors",children:[e.jsx("button",{onClick:()=>S(s.id),className:`flex-shrink-0 w-4 h-4 rounded border flex items-center justify-center transition-colors ${s.completed?"bg-green-500 border-green-500":"border-gray-500 hover:border-gray-300"}`,children:s.completed&&e.jsx(j,{size:12,className:"text-black"})}),e.jsx("span",{className:`text-sm flex-1 ${s.completed?"text-gray-500 line-through":"text-gray-200"}`,children:s.text}),e.jsx("button",{onClick:()=>L(s.id),className:"opacity-0 group-hover:opacity-100 text-gray-500 hover:text-red-400 transition-opacity",children:e.jsx(O,{size:12})})]},s.id))}),e.jsxs("form",{onSubmit:T,className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",value:b,onChange:s=>u(s.target.value),placeholder:"Add task...",className:"flex-1 bg-[var(--color-background-tertiary)] border border-[var(--color-border)] rounded px-2 py-1 text-xs focus:outline-none focus:border-[var(--color-accent)]"}),e.jsx("button",{type:"submit",className:"bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white p-1 rounded",children:e.jsx(n,{size:14})})]})]}),e.jsxs("div",{className:"p-2 border-t border-[var(--color-border)] mt-2",children:[e.jsxs("h3",{className:"text-xs font-bold uppercase text-[var(--color-text-secondary)] mb-3 px-1 flex items-center gap-2",children:[e.jsx(B,{size:14}),"Participants (",l.length,")"]}),e.jsxs("div",{className:"space-y-3",children:[l.map(s=>{const t=k[s.id],g=t==null?void 0:t.activeFile;return e.jsxs("div",{className:"flex flex-col gap-1 px-1",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xs font-bold border border-gray-600",children:s.initials}),e.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 border-2 border-[var(--color-background-secondary)] rounded-full animate-pulse"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-200",children:[s.name," ",s.id===d.id?"(You)":""]}),e.jsx("p",{className:"text-[10px] text-gray-500",children:s.role})]})]})}),g&&s.id!==d.id&&e.jsxs("div",{className:"ml-11 flex items-center gap-1.5 text-[10px] text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded w-fit",children:[e.jsx(I,{size:10}),e.jsx("span",{className:"truncate max-w-[120px]",children:g})]})]},s.id)}),h.length>0&&e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-800/50",children:[e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase mb-2 px-1",children:"Offline"}),h.map(s=>e.jsxs("div",{className:"flex items-center justify-between px-1 py-1 group",children:[e.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center text-xs border border-gray-700",children:s.initials}),e.jsx("span",{className:"text-sm text-gray-400",children:s.name})]}),e.jsx("button",{onClick:()=>R(s.name),className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-full hover:bg-white/10 text-gray-400 hover:text-yellow-400 transition-all",title:"Nudge to join",children:e.jsx(K,{size:14})})]},s.id))]})]})]})]})]})};export{Y as default};
