import{v as r,j as e,au as f,A as y,az as j,ah as b}from"./vendor-react-tt7m-l12.js";import{a as w}from"./index.dev-B-tTqmd2.js";import"./vendor-mcp-DCT6vnr2.js";import"./vendor-misc-euQLCzIo.js";import"./vendor-network-aHtHbEbM.js";import"./vendor-terminal-D4sCRDlA.js";import"./vendor-ai-BVRLdj29.js";const I=({isOpen:o,onClose:l,activeFileContent:m,activeFileName:a,activeModelId:h})=>{const[c,i]=r.useState([]),[n,x]=r.useState(!1),[p,d]=r.useState(null);r.useEffect(()=>{o&&a?g():i([])},[o,a]);const g=async()=>{x(!0);try{const s=await w.getCodeSuggestions(m||"",a||"unknown",h||"gemini-2.5-flash");i(s)}catch{i(["Unable to fetch suggestions. Please try again later."])}finally{x(!1)}},u=(s,t)=>{navigator.clipboard.writeText(s),d(t),setTimeout(()=>d(null),2e3)};return o?e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 animate-fade-in p-4",onClick:l,children:e.jsxs("div",{className:"bg-[#131b2c] rounded-2xl p-6 w-full max-w-lg text-white border border-gray-700 shadow-xl flex flex-col max-h-[85vh]",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-yellow-400"}),"AI Suggestions"]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Smart suggestions for ",e.jsx("span",{className:"font-mono text-cyan-300",children:a})]})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-white/10",children:"Ã—"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-1",children:n?e.jsxs("div",{className:"flex flex-col items-center justify-center h-40 space-y-3",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-[var(--color-accent)]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Analyzing code & generating ideas..."})]}):c.length>0?c.map((s,t)=>e.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 hover:border-gray-500 transition-colors group",children:e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsx("p",{className:"text-sm text-gray-200 leading-relaxed font-mono whitespace-pre-wrap",children:s}),e.jsx("button",{onClick:()=>u(s,t),className:"text-gray-500 hover:text-white transition-colors p-1.5 rounded hover:bg-white/10 flex-shrink-0",title:"Copy to clipboard",children:p===t?e.jsx(y,{size:14,className:"text-green-400"}):e.jsx(j,{size:14})})]})},t)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No suggestions found."})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-between items-center",children:[e.jsxs("button",{onClick:g,disabled:n,className:"flex items-center gap-2 text-xs text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:[e.jsx(b,{size:12,className:n?"animate-spin":""}),"Regenerate"]}),e.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Close"})]})]})}):null};export{I as default};
