import{v as a,j as e,S as N,X as w,e as k,F as v,cP as C,d as z,ao as B,aF as S,k as R,aV as h,Q as E,ah as D,E as P}from"./vendor-react-tt7m-l12.js";const W=({isOpen:c,onClose:i,onRunBuild:u,onOpenGit:b,onOpenDeploy:g,activeFile:s})=>{const[l,n]=a.useState("project"),[o,p]=a.useState("local"),[j,r]=a.useState("npm run build"),[d,x]=a.useState(!1),[f,m]=a.useState(null);a.useEffect(()=>{c&&(x(!1),m(null),p("local"),s&&(s.name==="Dockerfile"||s.name.endsWith(".go")||s.name.endsWith(".rs"))?n("file"):n("project"))},[c,s]),a.useEffect(()=>{if(l==="project")switch(o){case"docker":r("docker build -t my-app:latest .");break;case"gcr":r("gcloud builds submit --tag gcr.io/my-project/my-app .");break;default:r("npm run build");break}else if(s){const t=s.name.toLowerCase();t.endsWith(".ts")||t.endsWith(".tsx")?r(`tsc ${s.name}`):r(`echo "Processing ${s.name}..."`)}},[l,s,o]);const y=()=>{x(!0),m(null),setTimeout(()=>{x(!1),m("success"),u()},1500)};return c?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[200] animate-fade-in p-4",onClick:i,children:e.jsxs("div",{className:"bg-[#131b2c] rounded-3xl p-8 w-full max-w-lg text-white border border-white/10 shadow-2xl overflow-hidden relative",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/5 rounded-xl text-cyan-400",children:e.jsx(N,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold tracking-tight",children:"Build Control"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest",children:"Workspace Synthesis Engine"})]})]}),e.jsx("button",{onClick:i,className:"p-2 text-gray-500 hover:text-white transition-colors hover:bg-white/5 rounded-full",children:e.jsx(w,{size:20})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>n("project"),className:`flex items-center gap-3 p-4 rounded-2xl border transition-all ${l==="project"?"bg-cyan-500/10 border-cyan-500/50 shadow-lg":"bg-black/20 border-white/5 hover:border-white/20"}`,children:[e.jsx(k,{size:20,className:l==="project"?"text-cyan-400":"text-gray-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-bold",children:"Project"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Root Synthesis"})]})]}),e.jsxs("button",{onClick:()=>n("file"),disabled:!s,className:`flex items-center gap-3 p-4 rounded-2xl border transition-all ${s?l==="file"?"bg-cyan-500/10 border-cyan-500/50 shadow-lg":"bg-black/20 border-white/5 hover:border-white/20":"opacity-30 grayscale cursor-not-allowed"}`,children:[e.jsx(v,{size:20,className:l==="file"?"text-cyan-400":"text-gray-600"}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("p",{className:"text-sm font-bold",children:"Active File"}),e.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:s?s.name:"No file open"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest ml-1",children:"Destination"}),e.jsx("div",{className:"flex gap-2 p-1.5 bg-black/40 rounded-2xl border border-white/5",children:[{id:"local",icon:e.jsx(C,{size:14}),label:"Local"},{id:"docker",icon:e.jsx(z,{size:14}),label:"Docker"},{id:"gcr",icon:e.jsx(B,{size:14}),label:"Cloud"}].map(t=>e.jsxs("button",{onClick:()=>p(t.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o===t.id?"bg-white/10 text-white shadow-inner":"text-gray-500 hover:text-gray-400"}`,children:[t.icon," ",t.label]},t.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest ml-1",children:"Generated Command"}),e.jsxs("div",{className:"bg-black/60 rounded-xl p-4 border border-white/5 font-mono text-xs text-emerald-400 shadow-inner break-all",children:["$ ",j]})]}),f==="success"?e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-2xl flex items-center gap-3",children:[e.jsx(S,{size:18,className:"text-emerald-500"}),e.jsx("span",{className:"text-xs font-bold text-emerald-400",children:"Synthesis Complete. Log data streamed to terminal."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-600 uppercase tracking-widest ml-1",children:"Next Logical Steps"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>{b(),i()},className:"w-full p-4 bg-white/5 border border-white/10 hover:border-blue-500/50 hover:bg-blue-500/10 rounded-2xl flex items-center justify-between group transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{size:18,className:"text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-bold text-gray-200",children:"Commit to Repository"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Version these build artifacts"})]})]}),e.jsx(h,{size:16,className:"text-gray-600 group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]}),e.jsxs("button",{onClick:()=>{g(),i()},className:"w-full p-4 bg-white/5 border border-white/10 hover:border-purple-500/50 hover:bg-purple-500/10 rounded-2xl flex items-center justify-between group transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{size:18,className:"text-purple-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-bold text-gray-200",children:"Deploy to Cloud"}),e.jsx("p",{className:"text-[10px] text-gray-500",children:"Initiate global provisioning"})]})]}),e.jsx(h,{size:16,className:"text-gray-600 group-hover:text-purple-400 group-hover:translate-x-1 transition-all"})]})]})]})]}):e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:y,disabled:d,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white rounded-2xl font-black text-xs uppercase tracking-[0.3em] shadow-xl shadow-cyan-900/40 transition-all flex items-center justify-center gap-3 active:scale-[0.98] disabled:opacity-50",children:[d?e.jsx(D,{size:18,className:"animate-spin"}):e.jsx(P,{size:18,fill:"currentColor"}),d?"Running Build...":"Execute Synthesis"]})})]})]})}):null};export{W as default};
