import{v as o,j as r}from"./vendor-react-tt7m-l12.js";import m from"./PreviewPane-DBc_0zk1.js";import{T as c}from"./index.dev-vR_ZKarG.js";import"./vendor-mcp-CN8JrFe1.js";import"./vendor-misc-sHEHZw9n.js";import"./vendor-network-DBeEYzJJ.js";import"./vendor-terminal-D4sCRDlA.js";import"./vendor-ai-BVRLdj29.js";const h=()=>{const[a,i]=o.useState(null),[n]=o.useState(localStorage.getItem("sai_theme")||"S.AI Default");return o.useEffect(()=>{document.title="SAI Live Preview";const s=()=>{const t=localStorage.getItem("sai_workspace_fs");if(t)try{i(JSON.parse(t))}catch(l){console.error("Failed to sync workspace",l)}};s();const e=t=>{t.key==="sai_workspace_fs"&&s()};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),o.useEffect(()=>{const s=c.find(e=>e.name===n)||c[0];Object.entries(s.colors).forEach(([e,t])=>{document.documentElement.style.setProperty(e,t)})},[n]),a?r.jsx("div",{className:"h-screen w-screen bg-[var(--color-background)]",children:r.jsx(m,{onCollapse:()=>window.close(),fileStructure:a})}):r.jsxs("div",{className:"w-screen h-screen bg-[#0b0e14] flex flex-col items-center justify-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 border-4 border-green-500 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.3em]",children:"Syncing Workspace..."})]})};export{h as default};
