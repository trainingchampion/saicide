import{v as i,j as e,au as U,ah as I,Z as T,A as L,bn as he,F as O,Q as ue,as as W,X as Z,ap as ee,K as be,bh as ge,aR as fe,aQ as je,d as G,bE as ye,w as Ne,aS as ve,aq as we,e as ke,aJ as Ce,E as X,al as Y,aB as Se,am as ze,T as Re}from"./vendor-react-tt7m-l12.js";import{a as se,I as De}from"./index.dev-vR_ZKarG.js";import"./vendor-mcp-CN8JrFe1.js";import"./vendor-misc-sHEHZw9n.js";import"./vendor-network-DBeEYzJJ.js";import"./vendor-terminal-D4sCRDlA.js";import"./vendor-ai-BVRLdj29.js";const Pe=[{id:"node",label:"Node.js",prompt:"Optimized multi-stage Node.js build using Alpine Linux, including yarn/npm cache optimization."},{id:"python",label:"Python",prompt:"Python 3.11 web service with Gunicorn, non-root user setup, and dependency layering."},{id:"go",label:"Go",prompt:"Static Go binary build with distroless runtime for minimal footprint and maximum security."},{id:"rust",label:"Rust",prompt:"Cargo-chef optimized Rust build using binary stripping for tiny images."}],$e=({onSaveFile:S,activeModelId:p,policies:z})=>{const[m,r]=i.useState(""),[o,d]=i.useState(""),[h,g]=i.useState(!1),[k,f]=i.useState(!1),b=i.useCallback(async c=>{const w=c||m;if(w.trim()){g(!0),d(""),f(!1);try{const y=await se.generateDockerfile(w,p,z);d(y.trim())}catch(y){console.error("Error generating Dockerfile:",y),d("# Error in synthesis. Please verify your connection.")}finally{g(!1)}}},[m,p,z]),j=()=>{o&&(S("Dockerfile",o),f(!0),setTimeout(()=>f(!1),2e3))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/[0.02] border border-white/5 rounded-2xl p-5 shadow-inner",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-gray-400 tracking-[0.2em] mb-4 flex items-center gap-2",children:[e.jsx(U,{size:14,className:"text-purple-400"}),"Neural Synthesis"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:m,onChange:c=>r(c.target.value),placeholder:"Specify environment and dependencies...",className:"w-full h-28 bg-[#131b2c] border border-white/5 rounded-xl p-4 text-sm text-white resize-none focus:outline-none focus:border-purple-500/50 placeholder-gray-600 shadow-inner"}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsxs("button",{onClick:()=>b(),disabled:h||!m.trim(),className:"bg-purple-600 hover:bg-purple-500 text-white font-black py-2 px-6 rounded-xl text-[10px] uppercase tracking-widest transition-all shadow-lg shadow-purple-900/20 disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[h?e.jsx(I,{size:14,className:"animate-spin"}):e.jsx(T,{size:14,fill:"currentColor"}),h?"Synthesizing...":"Build Artifact"]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest ml-1",children:"Synthesis Blueprints"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Pe.map(c=>e.jsx("button",{onClick:()=>{r(c.prompt),b(c.prompt)},className:"px-3 py-1.5 bg-white/5 border border-white/5 rounded-lg text-[10px] font-bold text-gray-400 hover:text-white hover:bg-white/10 transition-all",children:c.label},c.id))})]})]})]}),o&&e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Synthesis complete"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:j,className:"text-[10px] font-black text-cyan-400 uppercase tracking-widest hover:underline flex items-center gap-1.5",children:[k?e.jsx(L,{size:12}):e.jsx(he,{size:12}),k?"Injected":"Save to Workspace"]})})]}),e.jsxs("div",{className:"bg-[#0b0c10] rounded-2xl border border-white/5 overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"bg-white/5 px-4 py-2 border-b border-white/5 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{size:12,className:"text-gray-500"}),e.jsx("span",{className:"text-[10px] font-mono text-gray-400",children:"Dockerfile"})]})}),e.jsx("pre",{className:"p-5 text-xs font-mono text-cyan-100/80 overflow-auto max-h-[300px] custom-scrollbar leading-relaxed",children:e.jsx("code",{children:o})})]}),e.jsxs("div",{className:"p-4 bg-purple-500/5 border border-purple-500/10 rounded-xl flex items-start gap-3",children:[e.jsx(ue,{size:18,className:"text-purple-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-widest mb-1",children:"Architectural Review"}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-normal",children:"This configuration has been synthesized using Gemini 3 Pro and verified against your active security policies."})]})]})]})]})},$=[{id:"dockerhub",name:"Docker Hub",url:"https://index.docker.io/v1/",icon:"ðŸ³"},{id:"github",name:"GitHub Container Registry",url:"ghcr.io",icon:"ðŸ™"},{id:"gitlab",name:"GitLab Registry",url:"registry.gitlab.com",icon:"ðŸ¦Š"},{id:"aws",name:"AWS ECR",url:"aws_account_id.dkr.ecr.region.amazonaws.com",icon:"â˜ï¸"},{id:"azure",name:"Azure ACR",url:"myregistry.azurecr.io",icon:"ðŸŸ¦"},{id:"custom",name:"Custom Registry",url:"",icon:"ðŸŒ"}],Ae=({isOpen:S,onClose:p,onConnect:z})=>{const[m,r]=i.useState($[0].id),[o,d]=i.useState($[0].url),[h,g]=i.useState(""),[k,f]=i.useState(""),[b,j]=i.useState(!1),[c,w]=i.useState(!1),[y,R]=i.useState(""),B=n=>{const u=n.target.value;r(u);const N=$.find(A=>A.id===u);N&&N.id!=="custom"?d(N.url):d("")},D=async n=>{if(n.preventDefault(),R(""),!h||!k||!o){R("All fields are required.");return}w(!0);try{if(await new Promise(N=>setTimeout(N,1500)),h.toLowerCase()==="fail")throw new Error("Authentication failed");const u=$.find(N=>N.id===m);z({name:(u==null?void 0:u.name)||"Custom Registry",url:o,username:h,provider:m}),p(),g(""),f(""),j(!1)}catch{R("Failed to connect. Please check your credentials.")}finally{w(!1)}};return S?e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 animate-fade-in",onClick:p,children:e.jsxs("div",{className:"bg-[#131b2c] rounded-2xl p-8 w-full max-w-md text-white border border-gray-700 shadow-xl",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(W,{size:24,className:"text-[var(--color-accent)]"}),"Connect Registry"]}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-white p-1 rounded-full hover:bg-white/10",children:e.jsx(Z,{size:20})})]}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Provider"}),e.jsx("select",{value:m,onChange:B,className:"w-full bg-[#0f1117] border border-gray-700 rounded-lg px-3 py-2.5 text-sm text-white focus:outline-none focus:border-[var(--color-accent)]",children:$.map(n=>e.jsxs("option",{value:n.id,children:[n.icon," ",n.name]},n.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Registry URL"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:e.jsx(ee,{size:16})}),e.jsx("input",{type:"text",value:o,onChange:n=>d(n.target.value),placeholder:"e.g. https://index.docker.io/v1/",className:"w-full bg-[#0f1117] border border-gray-700 rounded-lg pl-9 pr-3 py-2.5 text-sm text-white focus:outline-none focus:border-[var(--color-accent)] font-mono text-gray-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:e.jsx(be,{size:16})}),e.jsx("input",{type:"text",value:h,onChange:n=>g(n.target.value),placeholder:"Username",className:"w-full bg-[#0f1117] border border-gray-700 rounded-lg pl-9 pr-3 py-2.5 text-sm text-white focus:outline-none focus:border-[var(--color-accent)]"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide block mb-2",children:"Password / Access Token"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:e.jsx(ge,{size:16})}),e.jsx("input",{type:b?"text":"password",value:k,onChange:n=>f(n.target.value),placeholder:"Secret",className:"w-full bg-[#0f1117] border border-gray-700 rounded-lg pl-9 pr-11 py-2.5 text-sm text-white focus:outline-none focus:border-[var(--color-accent)] font-mono text-gray-300"}),e.jsx("button",{type:"button",onClick:()=>j(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors",title:b?"Hide password":"Show password",children:b?e.jsx(fe,{size:18}):e.jsx(je,{size:18})})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"We recommend using a Personal Access Token (PAT)."})]}),y&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 text-xs p-3 rounded-lg flex items-center gap-2",children:[e.jsx(Z,{size:14})," ",y]}),e.jsxs("div",{className:"pt-2 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 rounded-lg bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white text-sm font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:16})," Connect"]})})]})]})]})}):null},v="http://localhost:4000/api/docker",Ue=({onSaveFile:S,activeModelId:p,onCollapse:z,policies:m,onWriteToTerminal:r,fileStructure:o})=>{const[d,h]=i.useState("build"),[g,k]=i.useState([]),[f,b]=i.useState(!1),[j,c]=i.useState(null),[w,y]=i.useState(null),[R,B]=i.useState(""),[D,n]=i.useState([]),[u,N]=i.useState([]),[A,J]=i.useState(!1),[H,q]=i.useState(null),[te,_]=i.useState(!1),[V,K]=i.useState([]);i.useEffect(()=>{ae()},[]);const ae=async()=>{try{const t=await(await fetch(`${v}/status`)).json();y(t.available),B(t.version||""),t.available&&(E(),P())}catch{y(!1)}},E=async()=>{try{const t=await(await fetch(`${v}/images`)).json();t.success&&n(t.images)}catch(s){console.error("Failed to fetch images:",s)}},P=async()=>{try{const t=await(await fetch(`${v}/containers?all=true`)).json();t.success&&N(t.containers)}catch(s){console.error("Failed to fetch containers:",s)}},re=i.useCallback(async()=>{J(!0),await Promise.all([E(),P()]),J(!1)},[]);i.useEffect(()=>{const s=(t,a="")=>{let l=[];const x=a?`${a}/${t.name}`:t.name;return t.type==="file"&&(t.name.toLowerCase()==="dockerfile"||t.name.endsWith(".dockerfile"))&&l.push(x),t.children&&t.children.forEach(C=>{l=[...l,...s(C,x==="sai-monorepo"?"":x)]}),l};k(s(o))},[o]);const ie=async s=>{var a,l;const t=((a=s.split("/").shift())==null?void 0:a.toLowerCase().replace(/[^a-z0-9]/g,"-"))||"app";q(s),r([`$ docker build -f ${s} -t ${t}:latest .`,"Building image..."]);try{const C=await(await fetch(`${v}/build`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dockerfilePath:s,imageName:t,tag:"latest",context:"."})})).json();C.success?(r(["âœ“ Build completed successfully!",((l=C.output)==null?void 0:l.slice(-500))||""]),E()):r(["âœ— Build failed:",C.error||"Unknown error"])}catch(x){r(["âœ— Build error:",x.message])}finally{q(null)}},le=async s=>{var a;const t=`${s.Repository.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}`;r([`$ docker run -d --name ${t} ${s.Repository}:${s.Tag}`]);try{const x=await(await fetch(`${v}/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:`${s.Repository}:${s.Tag}`,name:t,detach:!0})})).json();x.success?(r([`âœ“ Container started: ${(a=x.containerId)==null?void 0:a.slice(0,12)}`]),P()):r(["âœ— Failed to start container:",x.error])}catch(l){r(["âœ— Error:",l.message])}},ne=async s=>{r([`$ docker stop ${s.slice(0,12)}`]);try{const a=await(await fetch(`${v}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({containerId:s})})).json();a.success?(r(["âœ“ Container stopped"]),P()):r(["âœ— Failed:",a.error])}catch(t){r(["âœ— Error:",t.message])}},ce=async s=>{r([`$ docker rm -f ${s.slice(0,12)}`]);try{const a=await(await fetch(`${v}/rm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({containerId:s,force:!0})})).json();a.success?(r(["âœ“ Container removed"]),P()):r(["âœ— Failed:",a.error])}catch(t){r(["âœ— Error:",t.message])}},oe=async s=>{r([`$ docker rmi ${s.slice(0,12)}`]);try{const a=await(await fetch(`${v}/rmi`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:s,force:!0})})).json();a.success?(r(["âœ“ Image removed"]),E()):r(["âœ— Failed:",a.error])}catch(t){r(["âœ— Error:",t.message])}},de=async s=>{const a=((l,x)=>{var M;const C=x.split("/");let F=l;for(const pe of C){const Q=(M=F.children)==null?void 0:M.find(me=>me.name===pe);if(!Q)return null;F=Q}return F.content||null})(o,s);if(a){b(!0),c(null);try{const l=await se.optimizeDockerfile(a,p);c(l)}catch(l){console.error(l)}finally{b(!1)}}},xe=async s=>{r([`$ docker login ${s.url}`,`Authenticating as ${s.username}...`]);try{const a=await(await fetch(`${v}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registry:s.url,username:s.username,password:""})})).json();a.success?(K(l=>[...l,s]),r(["âœ“ Login Succeeded"])):r(["âœ— Login failed:",a.error])}catch{K(a=>[...a,s]),r(["âœ“ Registry configured (login required)"])}};return e.jsxs("div",{className:"h-full flex flex-col bg-[#0b0e14] text-[var(--color-text-primary)]",children:[e.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-white/5 bg-[#0f111a]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-xl text-blue-400",children:e.jsx(G,{size:18})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-black uppercase tracking-[0.3em] text-white",children:"Docker Studio"}),e.jsx("p",{className:"text-[9px] text-gray-600 font-bold uppercase",children:"Real-time Engine: Active"})]})]}),e.jsx("button",{onClick:z,className:"text-gray-600 hover:text-white transition-colors",children:De.COLLAPSE_LEFT})]}),e.jsx("div",{className:"flex bg-white/[0.03] p-1 rounded-xl w-full",children:[{id:"build",label:"Synthesis",icon:T},{id:"fleet",label:"Workspace",icon:ye},{id:"security",label:"Hardening",icon:Ne}].map(s=>e.jsxs("button",{onClick:()=>h(s.id),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${d===s.id?"bg-white/5 text-white shadow-lg":"text-gray-600 hover:text-gray-400"}`,children:[e.jsx(s.icon,{size:12}),s.label]},s.id))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#0b0e14]",children:[d==="build"&&e.jsx("div",{className:"p-4 animate-fade-in",children:e.jsx($e,{onSaveFile:S,activeModelId:p,policies:m})}),d==="fleet"&&e.jsxs("div",{className:"p-4 animate-fade-in space-y-6",children:[w===!1&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3",children:[e.jsx(ve,{size:20,className:"text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-red-400",children:"Docker Not Available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Make sure Docker Desktop is running"})]})]}),w&&e.jsxs("div",{className:"p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsxs("span",{className:"text-xs font-bold text-emerald-400",children:["Docker Engine v",R]})]}),e.jsx("button",{onClick:re,disabled:A,className:"p-1.5 rounded-lg hover:bg-white/5 text-gray-400 hover:text-white transition-colors",children:e.jsx(I,{size:14,className:A?"animate-spin":""})})]}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest flex items-center gap-2",children:[e.jsx(W,{size:12})," Connected Registries"]}),e.jsxs("button",{onClick:()=>_(!0),className:"text-[9px] font-black uppercase text-blue-400 hover:text-blue-300 flex items-center gap-1 transition-colors",children:[e.jsx(we,{size:12})," Connect"]})]}),e.jsx("div",{className:"space-y-2",children:V.length>0?V.map((s,t)=>e.jsxs("div",{className:"p-3 bg-blue-500/5 border border-blue-500/10 rounded-xl flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:e.jsx(ee,{size:14})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-xs font-bold text-white truncate",children:s.name}),e.jsx("p",{className:"text-[9px] text-gray-500 font-mono truncate",children:s.url})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-bold text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:[e.jsx(L,{size:10})," AUTHED"]})]},t)):e.jsx("div",{className:"p-4 bg-white/[0.02] border border-dashed border-white/10 rounded-xl text-center",children:e.jsx("p",{className:"text-[10px] text-gray-600 font-medium italic",children:"No external registries connected"})})})]}),e.jsx("div",{className:"h-px bg-white/5"}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest flex items-center gap-2",children:[e.jsx(ke,{size:12})," Docker Images"]}),e.jsxs("span",{className:"text-[9px] font-bold text-cyan-500",children:[D.length," Images"]})]}),D.length>0?e.jsx("div",{className:"space-y-2",children:D.map((s,t)=>{var a;return e.jsx("div",{className:"p-3 bg-white/[0.03] border border-white/5 rounded-xl group hover:border-blue-500/30 transition-all",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400",children:e.jsx(Ce,{size:14})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-white",children:[s.Repository,":",s.Tag]}),e.jsxs("p",{className:"text-[9px] text-gray-500 font-mono",children:[(a=s.ID)==null?void 0:a.slice(7,19)," â€¢ ",s.Size]})]})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>le(s),className:"p-1.5 rounded-lg bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20",title:"Run Container",children:e.jsx(X,{size:12,fill:"currentColor"})}),e.jsx("button",{onClick:()=>oe(s.ID),className:"p-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20",title:"Remove Image",children:e.jsx(Y,{size:12})})]})]})},t)})}):e.jsx("div",{className:"p-4 bg-white/[0.02] border border-dashed border-white/10 rounded-xl text-center",children:e.jsx("p",{className:"text-[10px] text-gray-600 font-medium italic",children:"No Docker images found"})})]}),e.jsx("div",{className:"h-px bg-white/5"}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest flex items-center gap-2",children:[e.jsx(G,{size:12})," Containers"]}),e.jsxs("span",{className:"text-[9px] font-bold text-cyan-500",children:[u.length," Total"]})]}),u.length>0?e.jsx("div",{className:"space-y-2",children:u.map((s,t)=>{var l;const a=s.State==="running";return e.jsx("div",{className:"p-3 bg-white/[0.03] border border-white/5 rounded-xl group hover:border-blue-500/30 transition-all",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${a?"bg-emerald-500/10 text-emerald-400":"bg-gray-500/10 text-gray-400"}`,children:e.jsx(G,{size:14})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-xs font-bold text-white",children:s.Names}),e.jsx("span",{className:`text-[8px] font-bold uppercase px-1.5 py-0.5 rounded ${a?"bg-emerald-500/20 text-emerald-400":"bg-gray-500/20 text-gray-400"}`,children:s.State})]}),e.jsxs("p",{className:"text-[9px] text-gray-500 font-mono",children:[s.Image," â€¢ ",(l=s.ID)==null?void 0:l.slice(0,12)]})]})]}),e.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a?e.jsx("button",{onClick:()=>ne(s.ID),className:"p-1.5 rounded-lg bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20",title:"Stop Container",children:e.jsx(Se,{size:12,fill:"currentColor"})}):e.jsx("button",{onClick:()=>ce(s.ID),className:"p-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20",title:"Remove Container",children:e.jsx(Y,{size:12})})})]})},t)})}):e.jsx("div",{className:"p-4 bg-white/[0.02] border border-dashed border-white/10 rounded-xl text-center",children:e.jsx("p",{className:"text-[10px] text-gray-600 font-medium italic",children:"No containers found"})})]}),e.jsx("div",{className:"h-px bg-white/5"}),e.jsxs("section",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest flex items-center gap-2",children:[e.jsx(O,{size:12})," Workspace Dockerfiles"]}),e.jsxs("span",{className:"text-[9px] font-bold text-cyan-500",children:[g.length," Found"]})]}),g.length>0?e.jsx("div",{className:"space-y-2",children:g.map(s=>e.jsx("div",{className:"p-3 bg-white/[0.03] border border-white/5 rounded-xl group hover:border-blue-500/30 transition-all",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:e.jsx(O,{size:14})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-white",children:s}),e.jsx("p",{className:"text-[9px] text-gray-500",children:"Build context: ."})]})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>de(s),disabled:f,className:"p-1.5 rounded-lg bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 disabled:opacity-50",title:"AI Optimize",children:e.jsx(U,{size:12})}),e.jsx("button",{onClick:()=>ie(s),disabled:H===s,className:"p-1.5 rounded-lg bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 disabled:opacity-50",title:"Build Image",children:H===s?e.jsx(I,{size:12,className:"animate-spin"}):e.jsx(X,{size:12,fill:"currentColor"})})]})]})},s))}):e.jsxs("div",{className:"py-10 text-center flex flex-col items-center opacity-50",children:[e.jsx(O,{size:32,strokeWidth:1,className:"mb-3"}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No Dockerfiles"}),e.jsx("button",{onClick:()=>h("build"),className:"mt-3 text-[10px] text-blue-400 hover:underline font-black",children:"Create with AI â†’"})]})]})]}),d==="security"&&e.jsxs("div",{className:"p-4 animate-fade-in space-y-6",children:[j?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xs font-black uppercase text-emerald-500 tracking-widest flex items-center gap-2",children:[e.jsx(U,{size:14})," Optimization Ready"]}),e.jsx("button",{onClick:()=>c(null),className:"text-xs text-gray-500 hover:text-white",children:"Clear"})]}),e.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/5",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase mb-2",children:"Neural Explanation"}),e.jsxs("p",{className:"text-xs text-gray-300 leading-relaxed italic",children:['"',j.explanation,'"']})]}),e.jsxs("div",{className:"bg-[#0b0c10] rounded-xl border border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"bg-white/5 px-4 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] font-mono text-gray-400",children:"Patched Dockerfile"}),e.jsx("button",{onClick:()=>S("Dockerfile.optimized",j.content),className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest hover:underline",children:"Apply Changes"})]}),e.jsx("pre",{className:"p-4 text-[10px] font-mono text-cyan-100/70 overflow-auto max-h-[300px]",children:e.jsx("code",{children:j.content})})]})]}):e.jsxs("div",{className:"bg-purple-500/5 border border-purple-500/10 rounded-2xl p-6 text-center",children:[e.jsx(ze,{size:32,className:"mx-auto mb-4 text-purple-400"}),e.jsx("h3",{className:"text-sm font-bold text-white mb-2",children:"Neural Hardening"}),e.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed mb-6",children:["Select a Dockerfile from the ",e.jsx("span",{className:"text-gray-300",children:"Workspace"})," tab to analyze and apply production-grade security patches using ",p,"."]}),f&&e.jsxs("div",{className:"flex items-center justify-center gap-3 text-purple-400 animate-pulse font-black text-[10px] uppercase tracking-widest",children:[e.jsx(I,{size:14,className:"animate-spin"})," Analyzing Layers..."]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest ml-1",children:"Active Guardrails"}),e.jsx("div",{className:"space-y-2",children:m.filter(s=>s.enabled).map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/[0.02] border border-white/5 rounded-xl",children:[e.jsx(L,{size:12,className:"text-emerald-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-400",children:s.title})]},s.id))})]})]})]}),e.jsxs("div",{className:"p-3 border-t border-white/5 bg-[#0f111a] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{size:12,className:"text-gray-600"}),e.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:"Workspace Driven"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] text-emerald-500 font-black uppercase tracking-widest",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"S.AI Logic Connected"]})]}),e.jsx(Ae,{isOpen:te,onClose:()=>_(!1),onConnect:xe})]})};export{Ue as default};
