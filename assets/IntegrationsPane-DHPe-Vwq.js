import{v as o,j as e,an as k}from"./vendor-react-tt7m-l12.js";import{g as y,I}from"./index.dev-Cip6vZM1.js";import"./vendor-mcp-DCT6vnr2.js";import"./vendor-misc-euQLCzIo.js";import"./vendor-network-aHtHbEbM.js";import"./vendor-terminal-D4sCRDlA.js";import"./vendor-ai-BVRLdj29.js";const S=({isOpen:n,onClose:d,integration:c,onConnect:b})=>{const[h,l]=o.useState({}),[x,m]=o.useState(!1);if(o.useEffect(()=>{n&&c&&(l({}),m(!1))},[n,c]),!n||!c)return null;const p=(r,u)=>{l(f=>({...f,[r]:u}))},g=()=>{m(!0),setTimeout(()=>{b(c.id,h),d()},1500)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 animate-fade-in",onClick:d,children:e.jsxs("div",{className:"bg-[#131b2c] rounded-2xl p-8 w-full max-w-lg text-white border border-gray-700 shadow-xl",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-800 rounded-lg",children:c.icon}),e.jsxs("h2",{className:"text-2xl font-bold",children:["Connect ",c.name]})]}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white p-1 rounded-full",children:"Ã—"})]}),e.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:c.description}),e.jsx("div",{className:"space-y-4",children:c.configFields.map(r=>e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 block mb-2",children:r.label}),e.jsx("input",{type:r.type,value:h[r.key]||"",onChange:u=>p(r.key,u.target.value),placeholder:`Enter ${r.label}`,className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},r.key))}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-sm font-semibold",children:"Cancel"}),e.jsxs("button",{onClick:g,disabled:x,className:"px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-sm font-semibold disabled:bg-gray-600 disabled:cursor-wait flex items-center",children:[x&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x?"Connecting...":"Connect Integration"]})]})]})})},z=({githubToken:n,onConnectGithub:d,onDisconnectGithub:c,onDeployNetlify:b,onCollapse:h})=>{const[l,x]=o.useState(""),[m,p]=o.useState(null),[g,r]=o.useState({github:!!n}),[u,f]=o.useState({github:n?"Syncing main branch":""});k.useEffect(()=>{r(s=>({...s,github:!!n}))},[n]);const N=(s,a)=>{if(s==="github")d();else{r(i=>({...i,[s]:!0}));let t="Connected";s==="slack"&&(t="Posting to #deployments"),s==="jira"&&(t="Syncing Project S.AI"),s==="sentry"&&(t="Monitoring active"),f(i=>({...i,[s]:t}))}},w=s=>{s==="github"?c():(r(a=>({...a,[s]:!1})),f(a=>({...a,[s]:""})))},v=o.useMemo(()=>l?y.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.description.toLowerCase().includes(l.toLowerCase())):y,[l]),C=o.useMemo(()=>{const s={};return v.forEach(a=>{s[a.category]||(s[a.category]=[]),s[a.category].push(a)}),s},[v]);return e.jsxs("div",{className:"p-2 h-full flex flex-col bg-[var(--color-background-secondary)]",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 flex-shrink-0",children:[e.jsx("h2",{className:"text-xs font-bold uppercase text-[var(--color-text-secondary)]",children:"Integrations Hub"}),e.jsx("button",{onClick:h,title:"Collapse Panel",className:"text-[var(--color-text-secondary)] hover:text-white p-1 rounded-md hover:bg-[var(--color-background-tertiary)]",children:I.COLLAPSE_LEFT})]}),e.jsx("div",{className:"px-2 pb-2 flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-[var(--color-text-secondary)]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Find tools...",value:l,onChange:s=>x(s.target.value),className:"w-full bg-[var(--color-background-tertiary)] border border-[var(--color-border)] rounded-md py-1.5 pl-8 pr-2 text-sm focus:outline-none focus:ring-1 focus:ring-[var(--color-accent)]"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-2 pb-2 space-y-4",children:Object.entries(C).map(([s,a])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] font-bold text-[var(--color-text-secondary)] uppercase mb-2 px-1 tracking-wider",children:s}),e.jsx("div",{className:"space-y-2",children:a.map(t=>{const i=g[t.id],j=u[t.id];return e.jsx("div",{className:`bg-[var(--color-background-tertiary)] rounded-lg p-3 text-sm border transition-colors ${i?"border-[var(--color-success)]/30":"border-[var(--color-border)] hover:border-[var(--color-accent)]"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-gray-800 rounded-lg shadow-inner filter brightness-110",children:t.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-white",children:t.name}),i&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),e.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mt-0.5 line-clamp-1",children:t.description}),i&&j&&e.jsx("p",{className:"text-[10px] text-green-400 mt-1 font-mono",children:j})]})]}),e.jsx("div",{className:"flex flex-col gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>w(t.id),className:"text-xs bg-[var(--color-background-hover)] hover:bg-red-900/30 hover:text-red-400 text-[var(--color-text-primary)] font-medium py-1 px-3 rounded-md transition-colors",children:"Disconnect"}),t.id==="netlify"&&e.jsx("button",{onClick:b,className:"text-xs bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-1 px-3 rounded-md shadow-sm",children:"Deploy"})]}):e.jsx("button",{onClick:()=>{t.id==="github"?d():p(t)},className:"text-xs bg-[var(--color-accent)] hover:bg-[var(--color-accent-hover)] text-white font-semibold py-1 px-3 rounded-md shadow-sm",children:"Connect"})})]})},t.id)})})]},s))}),e.jsx(S,{isOpen:!!m,onClose:()=>p(null),integration:m,onConnect:N})]})};export{z as default};
