const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SearchPane-BHYV9q6M.js","assets/vendor-react-tt7m-l12.js","assets/vendor-mcp-DCT6vnr2.js","assets/vendor-misc-euQLCzIo.js","assets/vendor-network-aHtHbEbM.js","assets/vendor-terminal-D4sCRDlA.js","assets/vendor-ai-BVRLdj29.js","assets/SourceControlPane-DxpsIPEP.js","assets/SecurityPane-ClOeaO1L.js","assets/TerraformGenerator-YYgatlVo.js","assets/creatorService-f5yvh_ft.js","assets/DockerPane-D67MpmOT.js","assets/SettingsPane-DpNHO3WQ.js","assets/HelpPane-B5uu7i_N.js","assets/PreviewPane-DBc_0zk1.js","assets/ModelMarketplace-ByOJTEIo.js","assets/PersonasPane-D_Bo1W88.js","assets/ExtensionsPane-C4Ive8tS.js","assets/UxLabPane-2BOK_RKH.js","assets/DebugPane-D_wdjKv6.js","assets/TestingPane-5aB3wDK_.js","assets/DatabasePane-DyhHrVCS.js","assets/KanbanPane-BeSgkkaN.js","assets/ApiForgePane-C2CXrhH0.js","assets/RecorderPane-LDWMptZm.js","assets/DocumentEditorPane-DIPbKQGn.js","assets/CollaborationSidebarPane-Ck_ujz6E.js","assets/TeamCollaborationPane-D7P8trNP.js","assets/InviteMemberModal-Bs8xVX5_.js","assets/TeamChannel-Cpkockhf.js","assets/GhostAgent-BFNZC7BX.js","assets/DeploymentCenter-BUgjRBMo.js","assets/TeamHub-DrcQ8it_.js","assets/FloatingChatWidget-B2VlPKGD.js","assets/VideoGrid-BXfVL_9s.js","assets/LiveSessionChat-jTGbm1Yz.js","assets/IntegrationsPane-DHPe-Vwq.js","assets/TemplateLibrary-CRtPK39Q.js","assets/MicaAssistant-B-snqZMB.js","assets/MlStudioPane-BIjR6YiW.js","assets/CommandPaletteModal-3vpI4sIh.js","assets/OnboardingModal-D9aMS-6U.js","assets/SaveToGithubModal-DarYln1-.js","assets/AiSuggestionModal-SBs7Rh5-.js","assets/FileTypeModal-BNPTkSWJ.js","assets/AuthModal-BbaZsPQ2.js","assets/SwitchProjectModal-BfeJpP5T.js","assets/IdentityDashboardModal-BDy54a_G.js","assets/CreateProjectModal-DUocNBPU.js","assets/UpgradeModal-ClteX_uG.js","assets/AboutModal-BkINnO31.js","assets/VoiceCommandModal-Bo5P88g_.js","assets/ScreenRecorderModal-DBy_63nN.js","assets/CloneRepoModal-D2lmioVR.js","assets/NetlifyDeployModal-C-yobEaa.js","assets/ConnectCloudModal-CyHGEA-f.js","assets/CommentThreadModal-04YzJVIa.js","assets/BuildPreviewModal-BJIKQtG_.js","assets/CreatePersonaModal-VlclLuJj.js","assets/PaymentModal-BRr3bO7O.js","assets/StandaloneEditor-D_ZZ5D92.js","assets/StandalonePreview-C7o50R8o.js"])))=>i.map(i=>d[i]);
var ci=Object.defineProperty;var di=(t,s,r)=>s in t?ci(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var Ua=(t,s,r)=>di(t,typeof s!="symbol"?s+"":s,r);import{j as e,C as ln,G as cn,B as ga,H as mi,b as ge,d as Cs,e as Ut,f as dn,F as $t,h as mn,i as bt,S as kt,D as wa,T as ut,k as Pt,l as Sa,m as Ja,n as St,Z as ks,M as es,L as ui,o as un,p as xi,q as xn,r as pi,s as qa,t as pn,u as Xa,v as a,w as Qt,P as hn,x as gn,y as xr,z as Vs,A as As,U as pr,R as hr,E as Ks,I as Ys,J as hi,K as gi,N as va,O as fi,Q as ms,X as Ue,V as bi,W as zs,Y as gr,_ as ts,$ as yi,a0 as Js,a1 as fr,a2 as wi,a3 as Is,a4 as br,a5 as vi,a6 as Qa,a7 as ji,a8 as Ni,a9 as fn,aa as yr,ab as ki,ac as Si,ad as Za,ae as Ws,af as Ci,ag as er,ah as Es,ai as Ts,aj as ls,ak as bn,al as Wt,am as zi,an as H,ao as Fs,ap as Zt,aq as ss,ar as Fr,as as Ii,at as tr,au as Ft,av as sr,aw as Wa,ax as Gr,ay as ua,az as Gt,aA as Ei,aB as yn,aC as ar,aD as wn,aE as Ti,aF as cs,aG as Ur,aH as ds,aI as Ai,aJ as Ca,aK as vn,aL as Di,aM as Pi,aN as Ri,aO as Hs,aP as jn,aQ as rr,aR as Bi,aS as fa,aT as Mi,aU as Oi,aV as wr,aW as vr,aX as Li,aY as Nn,aZ as _i,a_ as $i,a$ as Fi,b0 as Gi,b1 as Ui,b2 as Wi,b3 as Hi,b4 as kn,b5 as Vi,b6 as Ki,b7 as Yi,b8 as jr,b9 as Sn,ba as Gs,bb as Wr,bc as Ji,bd as qi,be as Cn,bf as Hr,bg as Xi,bh as Vr,bi as zn,bj as Qi,bk as In,bl as Zi,bm as Kr,bn as Ha,bo as el,bp as tl,bq as sl,br as al,bs as Yr,bt as rl,bu as nl,bv as ol,bw as il,bx as ll}from"./vendor-react-tt7m-l12.js";import{S as cl,C as dl}from"./vendor-mcp-DCT6vnr2.js";import{x as ml,a as ul,b as xl,c as pl,d as hl}from"./vendor-terminal-D4sCRDlA.js";import{l as gl}from"./vendor-network-aHtHbEbM.js";import{G as nr,T as Us}from"./vendor-ai-BVRLdj29.js";import"./vendor-misc-euQLCzIo.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const j of g.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&c(j)}).observe(document,{childList:!0,subtree:!0});function r(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerPolicy&&(g.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?g.credentials="include":l.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(l){if(l.ep)return;l.ep=!0;const g=r(l);fetch(l.href,g)}})();const fl="modulepreload",bl=function(t){return"/"+t},Jr={},X=function(s,r,c){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const j=document.querySelector("meta[property=csp-nonce]"),x=(j==null?void 0:j.nonce)||(j==null?void 0:j.getAttribute("nonce"));l=Promise.allSettled(r.map(h=>{if(h=bl(h),h in Jr)return;Jr[h]=!0;const b=h.endsWith(".css"),f=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const p=document.createElement("link");if(p.rel=b?"stylesheet":fl,b||(p.as="script"),p.crossOrigin="",p.href=h,x&&p.setAttribute("nonce",x),document.head.appendChild(p),b)return new Promise((E,C)=>{p.addEventListener("load",E),p.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${h}`)))})}))}function g(j){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=j,window.dispatchEvent(x),!x.defaultPrevented)throw j}return l.then(j=>{for(const x of j||[])x.status==="rejected"&&g(x.reason);return s().catch(g)})};var ft=(t=>(t.HUB="HUB",t.WORKSPACE="WORKSPACE",t.TEMPLATES="TEMPLATES",t))(ft||{}),I=(t=>(t.FILES="FILES",t.SEARCH="SEARCH",t.CHAT="CHAT",t.SOURCE_CONTROL="SOURCE_CONTROL",t.SECURITY="SECURITY",t.TERRAFORM="TERRAFORM",t.DOCKER="DOCKER",t.EXTENSIONS="EXTENSIONS",t.TEAM="TEAM",t.INTEGRATIONS="INTEGRATIONS",t.AI_MARKETPLACE="AI_MARKETPLACE",t.PERSONAS="PERSONAS",t.STITCH_STUDIO="STITCH_STUDIO",t.RECORDER="RECORDER",t.SETTINGS="SETTINGS",t.HELP="HELP",t.DEBUG="DEBUG",t.TESTING="TESTING",t.DATABASE="DATABASE",t.KANBAN="KANBAN",t.PREVIEW="PREVIEW",t.API_STUDIO="API_STUDIO",t.WHITEBOARD="WHITEBOARD",t.DOCUMENT="DOCUMENT",t.TERMINAL="TERMINAL",t.DEPLOYMENT="DEPLOYMENT",t.ML_STUDIO="ML_STUDIO",t))(I||{}),yt=(t=>(t.CRITICAL="Critical",t.HIGH="High",t.MEDIUM="Medium",t.LOW="Low",t))(yt||{}),yl=(t=>(t.AWS="AWS",t.GCP="GCP",t.AZURE="Azure",t.OCI="Oracle Cloud",t))(yl||{}),Ss=(t=>(t.ACTIVE="active",t.REVIEW="review",t.DEPLOYED="deployed",t))(Ss||{});const lt={NEW_FILE:e.jsx(Xa,{size:18}),NEW_FOLDER:e.jsx(pn,{size:18}),BUILD:e.jsx(qa,{size:18}),COLLAPSE_ALL:e.jsx(pi,{size:18}),COLLAPSE_LEFT:e.jsx(ln,{size:18}),FOLDER:e.jsx(xn,{size:16,className:"text-blue-400"}),TS_FILE:e.jsx($t,{size:16,className:"text-blue-300"}),JS_FILE:e.jsx($t,{size:16,className:"text-yellow-300"}),JSON_FILE:e.jsx(mn,{size:16,className:"text-yellow-500"}),PYTHON_FILE:e.jsx(ge,{size:16,className:"text-blue-500"}),YAML_FILE:e.jsx(Ja,{size:16,className:"text-purple-400"}),HTML_FILE:e.jsx(ge,{size:16,className:"text-orange-500"}),CSS_FILE:e.jsx(ge,{size:16,className:"text-blue-400"}),DOCKERFILE:e.jsx(Cs,{size:16,className:"text-blue-500"}),DEFAULT_FILE:e.jsx(xi,{size:16,className:"text-gray-400"})},wl=[{id:"1",title:"Implement Auth Flow",tag:"Feature",assignee:"AC",status:"done",commentsCount:2,attachmentsCount:1,dueDate:"Oct 24"},{id:"2",title:"Fix CSS Grid on Mobile",tag:"Bug",assignee:"MR",status:"in-progress",commentsCount:5},{id:"3",title:"Optimize Database Queries",tag:"Refactor",assignee:"SJ",status:"todo"},{id:"4",title:"Update Landing Page Hero",tag:"Design",status:"review",attachmentsCount:3,dueDate:"Tomorrow"}],En=[{id:"1",text:"Review Code Changes",completed:!1},{id:"2",text:"Deploy to Staging",completed:!1}],nm=[{label:"C",extension:"c",description:"C source file",icon:e.jsx(ga,{size:14,className:"text-purple-400"})},{label:"C#",extension:"cs",description:"C# source file",icon:e.jsx(mi,{size:14,className:"text-green-400"})},{label:"CSS",extension:"css",description:"Cascading Style Sheets",icon:e.jsx(ge,{size:14,className:"text-blue-400"})},{label:"Dockerfile",extension:"",filename:"Dockerfile",description:"Docker Configuration",icon:e.jsx(Cs,{size:14,className:"text-blue-500"})},{label:"Go",extension:"go",description:"Go Source",icon:e.jsx(Ut,{size:14,className:"text-cyan-400"})},{label:"HTML",extension:"html",description:"HyperText Markup",icon:e.jsx(ge,{size:14,className:"text-orange-500"})},{label:"Java",extension:"java",description:"Java source file",icon:e.jsx(dn,{size:14,className:"text-red-400"})},{label:"JavaScript",extension:"js",description:"JavaScript File",icon:e.jsx($t,{size:14,className:"text-yellow-300"})},{label:"JSON",extension:"json",description:"JSON Data",icon:e.jsx(mn,{size:14,className:"text-yellow-500"})},{label:"Markdown",extension:"md",description:"Documentation",icon:e.jsx(bt,{size:14,className:"text-gray-400"})},{label:"Python",extension:"py",description:"Python Script",icon:e.jsx(ge,{size:14,className:"text-blue-500"})},{label:"Rust",extension:"rs",description:"Rust Source",icon:e.jsx(kt,{size:14,className:"text-orange-400"})},{label:"TypeScript",extension:"ts",description:"Typed JavaScript",icon:e.jsx($t,{size:14,className:"text-blue-300"})},{label:"TypeScript React",extension:"tsx",description:"React Components",icon:e.jsx($t,{size:14,className:"text-blue-300"})},{label:"Terraform",extension:"tf",description:"Infrastructure as Code",icon:e.jsx(Ut,{size:14,className:"text-purple-400"})},{label:"YAML",extension:"yaml",description:"YAML Configuration",icon:e.jsx(bt,{size:14,className:"text-red-400"})},{label:"XML",extension:"xml",description:"XML Document",icon:e.jsx(ge,{size:14,className:"text-orange-400"})},{label:"SQL",extension:"sql",description:"SQL Database Script",icon:e.jsx(wa,{size:14,className:"text-blue-400"})},{label:"Shell Script",extension:"sh",description:"Bash/Shell Script",icon:e.jsx(ut,{size:14,className:"text-green-400"})},{label:"PowerShell",extension:"ps1",description:"PowerShell Script",icon:e.jsx(ut,{size:14,className:"text-blue-500"})},{label:"Ruby",extension:"rb",description:"Ruby Source",icon:e.jsx(ge,{size:14,className:"text-red-500"})},{label:"PHP",extension:"php",description:"PHP Script",icon:e.jsx(ge,{size:14,className:"text-purple-500"})},{label:"Swift",extension:"swift",description:"Swift Source",icon:e.jsx(ge,{size:14,className:"text-orange-500"})},{label:"Kotlin",extension:"kt",description:"Kotlin Source",icon:e.jsx(ge,{size:14,className:"text-purple-400"})},{label:"Scala",extension:"scala",description:"Scala Source",icon:e.jsx(ge,{size:14,className:"text-red-400"})},{label:"SCSS",extension:"scss",description:"SCSS Stylesheet",icon:e.jsx(ge,{size:14,className:"text-pink-400"})},{label:"LESS",extension:"less",description:"LESS Stylesheet",icon:e.jsx(ge,{size:14,className:"text-indigo-400"})},{label:"Plain Text",extension:"txt",description:"Plain Text File",icon:e.jsx(bt,{size:14,className:"text-gray-400"})},{label:"Environment",extension:"env",description:"Environment Variables",icon:e.jsx(kt,{size:14,className:"text-yellow-400"})},{label:"C++",extension:"cpp",description:"C++ Source File",icon:e.jsx(ga,{size:14,className:"text-blue-400"})},{label:"C Header",extension:"h",description:"C/C++ Header File",icon:e.jsx(ga,{size:14,className:"text-gray-400"})},{label:"Objective-C",extension:"m",description:"Objective-C Source",icon:e.jsx(ge,{size:14,className:"text-blue-300"})},{label:"Dart",extension:"dart",description:"Dart/Flutter Source",icon:e.jsx(ge,{size:14,className:"text-cyan-400"})},{label:"Lua",extension:"lua",description:"Lua Script",icon:e.jsx(ge,{size:14,className:"text-blue-600"})},{label:"Perl",extension:"pl",description:"Perl Script",icon:e.jsx(ge,{size:14,className:"text-purple-300"})},{label:"R",extension:"r",description:"R Statistical Script",icon:e.jsx(ge,{size:14,className:"text-blue-400"})},{label:"Julia",extension:"jl",description:"Julia Source",icon:e.jsx(ge,{size:14,className:"text-purple-500"})},{label:"Haskell",extension:"hs",description:"Haskell Source",icon:e.jsx(ge,{size:14,className:"text-purple-400"})},{label:"Elixir",extension:"ex",description:"Elixir Source",icon:e.jsx(ge,{size:14,className:"text-purple-500"})},{label:"Erlang",extension:"erl",description:"Erlang Source",icon:e.jsx(ge,{size:14,className:"text-red-400"})},{label:"Clojure",extension:"clj",description:"Clojure Source",icon:e.jsx(ge,{size:14,className:"text-green-500"})},{label:"F#",extension:"fs",description:"F# Source",icon:e.jsx(ge,{size:14,className:"text-blue-500"})},{label:"Vue",extension:"vue",description:"Vue.js Component",icon:e.jsx($t,{size:14,className:"text-green-400"})},{label:"Svelte",extension:"svelte",description:"Svelte Component",icon:e.jsx($t,{size:14,className:"text-orange-500"})},{label:"GraphQL",extension:"graphql",description:"GraphQL Schema/Query",icon:e.jsx(ge,{size:14,className:"text-pink-500"})},{label:"Protocol Buffers",extension:"proto",description:"Protobuf Definition",icon:e.jsx(ge,{size:14,className:"text-blue-400"})},{label:"TOML",extension:"toml",description:"TOML Configuration",icon:e.jsx(bt,{size:14,className:"text-orange-400"})},{label:"INI",extension:"ini",description:"INI Configuration",icon:e.jsx(bt,{size:14,className:"text-gray-500"})},{label:"Makefile",extension:"",filename:"Makefile",description:"Build Configuration",icon:e.jsx(kt,{size:14,className:"text-green-400"})},{label:"CMakeLists",extension:"",filename:"CMakeLists.txt",description:"CMake Build File",icon:e.jsx(kt,{size:14,className:"text-blue-400"})},{label:"Gradle",extension:"gradle",description:"Gradle Build Script",icon:e.jsx(kt,{size:14,className:"text-green-500"})},{label:"Apache Config",extension:"conf",description:"Configuration File",icon:e.jsx(kt,{size:14,className:"text-red-400"})},{label:"Nginx Config",extension:"",filename:"nginx.conf",description:"Nginx Configuration",icon:e.jsx(kt,{size:14,className:"text-green-500"})},{label:"Docker Compose",extension:"",filename:"docker-compose.yml",description:"Docker Compose Config",icon:e.jsx(Cs,{size:14,className:"text-blue-400"})},{label:".gitignore",extension:"",filename:".gitignore",description:"Git Ignore Rules",icon:e.jsx(Pt,{size:14,className:"text-orange-400"})},{label:"README",extension:"",filename:"README.md",description:"Project Documentation",icon:e.jsx(bt,{size:14,className:"text-blue-400"})},{label:"License",extension:"",filename:"LICENSE",description:"License File",icon:e.jsx(Sa,{size:14,className:"text-yellow-400"})},{label:"Jupyter Notebook",extension:"ipynb",description:"Python Notebook",icon:e.jsx(ge,{size:14,className:"text-orange-400"})},{label:"CSV",extension:"csv",description:"Comma Separated Values",icon:e.jsx(Ja,{size:14,className:"text-green-400"})},{label:"TSV",extension:"tsv",description:"Tab Separated Values",icon:e.jsx(Ja,{size:14,className:"text-blue-400"})},{label:"Log File",extension:"log",description:"Log File",icon:e.jsx(bt,{size:14,className:"text-gray-500"})},{label:"Batch Script",extension:"bat",description:"Windows Batch File",icon:e.jsx(ut,{size:14,className:"text-gray-400"})},{label:"Assembly",extension:"asm",description:"Assembly Language",icon:e.jsx(St,{size:14,className:"text-gray-500"})},{label:"Solidity",extension:"sol",description:"Ethereum Smart Contract",icon:e.jsx(ge,{size:14,className:"text-gray-400"})},{label:"Zig",extension:"zig",description:"Zig Source",icon:e.jsx(ks,{size:14,className:"text-orange-400"})},{label:"Nim",extension:"nim",description:"Nim Source",icon:e.jsx(ge,{size:14,className:"text-yellow-400"})},{label:"Crystal",extension:"cr",description:"Crystal Source",icon:e.jsx(ge,{size:14,className:"text-gray-300"})},{label:"V",extension:"v",description:"V Language Source",icon:e.jsx(ge,{size:14,className:"text-blue-400"})},{label:"Prisma",extension:"prisma",description:"Prisma Schema",icon:e.jsx(wa,{size:14,className:"text-teal-400"})},{label:"Bicep",extension:"bicep",description:"Azure Bicep IaC",icon:e.jsx(Ut,{size:14,className:"text-blue-500"})},{label:"HCL",extension:"hcl",description:"HashiCorp Config",icon:e.jsx(Ut,{size:14,className:"text-purple-500"})}],vl={name:"alphabet-explorer",type:"folder",children:[{name:"index.html",type:"file",content:`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alphabet Explorer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <h1>Alphabet Explorer</h1>
        <div id="letter-display">A</div>
        <div id="feedback">Press the correct key!</div>
        <div id="score">Score: 0</div>
    </div>
    <script src="app.js"><\/script>
</body>
</html>`},{name:"styles.css",type:"file",content:`body {
    font-family: sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f0f8ff;
    color: #333;
}

#game-container {
    text-align: center;
}

#letter-display {
    font-size: 10rem;
    font-weight: bold;
    color: #4682b4;
    margin: 2rem;
}

#feedback {
    font-size: 1.5rem;
    height: 2rem;
    color: #555;
}

#score {
    font-size: 1.2rem;
    margin-top: 2rem;
}`},{name:"app.js",type:"file",content:`// Alphabet Explorer Game Logic
// TODO: Implement letter generation, keyboard input handling,
// scoring, TTS, and difficulty modes.

console.log('Alphabet Explorer script loaded!');`},{name:"README.md",type:"file",content:`# Alphabet Explorer

Alphabet Explorer is a playful, interactive letter-recognition game designed for early learners. It features Text-to-Speech (TTS) integration to help children associate sounds with symbols, multiple difficulty modes, and an engaging visual feedback system using CSS animations.`}]},Tn=[{id:"pt1",title:"Quantum CRM Dashboard",category:"Dashboards",description:"A high-frequency trading style CRM with real-time websocket updates and holographic data visualization.",prompt:'Synthesize a React-based CRM dashboard with a dark "Cyber-Executive" aesthetic. Include a real-time candlestick chart for sales velocity, a holographic contact grid, and a command-line interface for quick data entry. Use Tailwind CSS for glassmorphism effects.',previewImage:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=600&auto=format&fit=crop",author:{name:"Nexus Architect",avatar:"https://i.pravatar.cc/150?u=nexus"},stats:{views:"45K",likes:"3.2K"},price:"Free"},{id:"pt2",title:"Nebula Chat Interface",category:"Apps",description:"A futuristic, fluid chat interface designed for LLM interactions with streaming typography.",prompt:'Create a "Nebula" chat interface. Key features: Floating message bubbles with blur effects, a "thinking" particle animation for the AI, and a sidebar that collapses into a neural network graph. The color palette should be deep purple and neon blue.',previewImage:"https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=600&auto=format&fit=crop",author:{name:"Aether Design",avatar:"https://i.pravatar.cc/150?u=aether"},stats:{views:"32K",likes:"1.8K"},price:"Free"},{id:"pt3",title:"Orbital Analytics Core",category:"Cloud/API",description:"Serverless backend template for processing high-volume telemetry data with edge caching.",prompt:'Generate a serverless architecture code plan for "Orbital Analytics". Use Node.js for Lambda functions, DynamoDB for hot storage, and S3 for cold archives. Include a Terraform setup that defines a global CDN distribution.',previewImage:"https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=600&auto=format&fit=crop",author:{name:"DevOps Prime",avatar:"https://i.pravatar.cc/150?u=devops"},stats:{views:"12K",likes:"900"},price:"1 Credit"},{id:"pt4",title:"Neon Snake Retro",category:"Games",description:"Classic snake game with a futuristic vaporwave aesthetic and synthwave soundtrack.",prompt:"Create a classic Snake game using HTML5 Canvas and JavaScript. Use a neon vaporwave color palette (hot pink, cyan, dark purple). Include a scoring system, high-score persistence in localStorage, and increasing difficulty speeds.",previewImage:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=600&auto=format&fit=crop",author:{name:"Arcade Master",avatar:"https://i.pravatar.cc/150?u=arcade"},stats:{views:"8.4K",likes:"942"},price:"Free"},{id:"pt5",title:"Holographic Portfolio",category:"Landing Pages",description:"3D-enabled portfolio site using Three.js elements for a truly immersive experience.",prompt:"Synthesize a personal portfolio site that treats projects as floating 3D cards in a void. Use React Three Fiber for the 3D elements. The background should be a subtle starfield that reacts to mouse movement.",previewImage:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=600&auto=format&fit=crop",author:{name:"Sarah Studio",avatar:"https://i.pravatar.cc/150?u=sarah"},stats:{views:"22K",likes:"3.1K"},price:"Free"},{id:"pt6",title:"Defi Crypto Exchange",category:"Apps",description:"Secure, high-speed interface for a decentralized exchange with wallet connection.",prompt:'Build a frontend scaffold for a DeFi exchange (DEX). Include a "Swap" card with token selection modals, a slippage settings menu, and a "Connect Wallet" button mock. Use a dark, high-contrast finance aesthetic.',previewImage:"https://images.unsplash.com/photo-1621504450168-b8c437542052?q=80&w=600&auto=format&fit=crop",author:{name:"Block Chain",avatar:"https://i.pravatar.cc/150?u=block"},stats:{views:"18K",likes:"1.5K"},price:"2 Credits"}];for(let t=7;t<=20;t++){const r=["Apps","Games","Landing Pages","Dashboards","Cloud/API"][t%5];Tn.push({id:`pt${t}`,title:`Template ${t}`,category:r,description:`High-quality template for ${r} development. Optimized for rapid prototyping.`,prompt:`Generate a robust ${r} implementation focused on scalability and modern best practices...`,previewImage:`https://picsum.photos/seed/sai${t}/600/400`,author:{name:"Community Dev",avatar:`https://i.pravatar.cc/150?u=${t}`},stats:{views:`${Math.floor(Math.random()*20)}K`,likes:`${Math.floor(Math.random()*1e3)}`},price:t%12===0?"1 Credit":"Free"})}const om=Tn,qr=vl,jl=[{id:"1",name:"Alex Chen",initials:"AC",role:"Full Stack",status:"online",email:"alex@sai.sh",password:"password123",plan:"Hobby",hasAcceptedInvite:!0,avatarUrl:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=200&q=80"},{id:"2",name:"Sarah Jones",initials:"SJ",role:"DevOps",status:"online",email:"sarah@sai.sh",password:"password123",plan:"Enterprise",hasAcceptedInvite:!0,avatarUrl:"https://images.unsplash.com/photo-1580489944761-15a19d654956?auto=format&fit=crop&w=200&q=80"},{id:"3",name:"Mike Ross",initials:"MR",role:"Frontend",status:"away",email:"mike@sai.sh",password:"password123",plan:"Hobby",hasAcceptedInvite:!1,avatarUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=200&q=80"},{id:"4",name:"Emily Blunt",initials:"EB",role:"Product",status:"online",email:"emily@sai.sh",password:"password123",plan:"Pro",hasAcceptedInvite:!1,avatarUrl:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=200&q=80"}],ja=jl,Nl=[{id:"no-public-s3",title:"No Public S3 Buckets",severity:"critical",description:"S3 buckets should not have public read/write access.",enabled:!0,violationsCount:0,issueTypes:[yt.CRITICAL]},{id:"iam-root",title:"No Root IAM User",severity:"high",description:"Avoid using the root account for daily tasks.",enabled:!0,violationsCount:0,issueTypes:[yt.HIGH]},{id:"port-22",title:"Restricted SSH Access",severity:"medium",description:"Port 22 should not be open to 0.0.0.0/0.",enabled:!1,violationsCount:0,issueTypes:[yt.MEDIUM]},{id:"resource-tags",title:"Mandatory Tagging",severity:"low",description:'All resources must have a "CostCenter" tag.',enabled:!0,violationsCount:0,issueTypes:[yt.LOW]},{id:"encrypt-rds",title:"Encrypt RDS Instances",severity:"high",description:"RDS instances must have storage encryption enabled.",enabled:!0,violationsCount:0,issueTypes:[yt.HIGH]}],im=[{id:"soc2",standard:"SOC 2 Type II",description:"Security, Availability, Processing Integrity, Confidentiality, and Privacy.",status:"pass"},{id:"hipaa",standard:"HIPAA",description:"Health Insurance Portability and Accountability Act.",status:"pass"},{id:"gdpr",standard:"GDPR",description:"General Data Protection Regulation.",status:"pass"},{id:"pci",standard:"PCI DSS",description:"Payment Card Industry Data Security Standard.",status:"pass"}],lm=[{id:"c1",control:"VPC Flow Logs Enabled",description:"Ensure VPC Flow Logs are enabled for all VPCs.",status:"pass"},{id:"c2",control:"MFA on Root Account",description:"Multi-Factor Authentication enabled on root account.",status:"pass"},{id:"c3",control:"EBS Volumes Encrypted",description:"Ensure all EBS volumes attached to EC2 instances are encrypted.",status:"pass"},{id:"c4",control:"S3 Bucket Versioning",description:"Versioning enabled on all S3 buckets.",status:"pass"},{id:"c5",control:"RDS Multi-AZ",description:"Production databases should be Multi-AZ.",status:"pass"}],kl=[],Sl=kl,or=[{id:"google-opal",name:"Opal (App Engine)",provider:"Google",description:"High-fidelity synthesis engine for comprehensive application building."},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",provider:"Google",description:"Most capable reasoning model with 1M context window."},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",provider:"Google",description:"Ultra-fast multimodal model for rapid iterations."},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:"Google",description:"Latest stable Flash model with enhanced speed."},{id:"claude-4-opus",name:"Claude 4 Opus",provider:"Anthropic",description:"Most capable Claude model for complex tasks."},{id:"claude-4-sonnet",name:"Claude 4 Sonnet",provider:"Anthropic",description:"Balanced intelligence and speed for production."},{id:"claude-3.5-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic",description:"Expert in coding with exceptional accuracy."},{id:"claude-3.5-haiku",name:"Claude 3.5 Haiku",provider:"Anthropic",description:"Fast and efficient for quick responses."},{id:"gpt-4.1",name:"GPT-4.1",provider:"OpenAI",description:"Latest GPT-4 variant with enhanced reasoning."},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",description:"Omni model for text, audio, and vision."},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",description:"Lightweight GPT-4o for cost-effective tasks."},{id:"o3",name:"o3",provider:"OpenAI",description:"Advanced reasoning model for complex problems."},{id:"o3-mini",name:"o3 Mini",provider:"OpenAI",description:"Efficient reasoning model for everyday use."},{id:"o4-mini",name:"o4 Mini",provider:"OpenAI",description:"Next-gen mini reasoning model."},{id:"grok-3",name:"Grok 3",provider:"xAI",description:"Real-time knowledge with X/Twitter integration."},{id:"grok-3-mini",name:"Grok 3 Mini",provider:"xAI",description:"Efficient Grok model for quick responses."},{id:"llama-4-maverick",name:"Llama 4 Maverick",provider:"Meta",description:"Latest Llama 4 open-weight model."},{id:"llama-4-scout",name:"Llama 4 Scout",provider:"Meta",description:"Efficient Llama 4 for diverse tasks."},{id:"llama-3.3-70b",name:"Llama 3.3 70B",provider:"Meta",description:"Powerful open-source model for production."},{id:"llama-3.1-405b",name:"Llama 3.1 405B",provider:"Meta",description:"Largest Llama model with frontier capabilities."},{id:"deepseek-r1",name:"DeepSeek R1",provider:"DeepSeek",description:"State-of-the-art reasoning with chain-of-thought."},{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",description:"Cost-effective frontier model with 671B params."},{id:"deepseek-coder-v2",name:"DeepSeek Coder V2",provider:"DeepSeek",description:"Specialized for code generation and analysis."},{id:"mistral-large",name:"Mistral Large",provider:"Mistral",description:"Flagship model with top-tier reasoning."},{id:"mistral-medium",name:"Mistral Medium",provider:"Mistral",description:"Balanced performance and efficiency."},{id:"codestral",name:"Codestral",provider:"Mistral",description:"Specialized coding model from Mistral."},{id:"pixtral-large",name:"Pixtral Large",provider:"Mistral",description:"Multimodal model with vision capabilities."},{id:"command-r-plus",name:"Command R+",provider:"Cohere",description:"Enterprise-grade RAG and reasoning."},{id:"command-r",name:"Command R",provider:"Cohere",description:"Optimized for retrieval-augmented generation."},{id:"embed-v4",name:"Embed V4",provider:"Cohere",description:"State-of-the-art text embeddings."},{id:"jamba-1.5-large",name:"Jamba 1.5 Large",provider:"AI21",description:"Hybrid SSM-Transformer with 256K context."},{id:"jamba-1.5-mini",name:"Jamba 1.5 Mini",provider:"AI21",description:"Efficient Jamba for cost-effective tasks."},{id:"sonar-pro",name:"Sonar Pro",provider:"Perplexity",description:"Real-time web search with citations."},{id:"sonar",name:"Sonar",provider:"Perplexity",description:"Fast online model with web access."},{id:"groq-llama-3.3-70b",name:"Llama 3.3 70B (Groq)",provider:"Groq",description:"Ultra-fast inference on LPU hardware."},{id:"groq-mixtral-8x7b",name:"Mixtral 8x7B (Groq)",provider:"Groq",description:"MoE model with blazing speed on Groq."},{id:"together-qwen-2.5-72b",name:"Qwen 2.5 72B",provider:"Together",description:"Leading open-source model from Alibaba."},{id:"together-yi-large",name:"Yi Large",provider:"Together",description:"Powerful bilingual model."},{id:"amazon-titan-text",name:"Amazon Titan Text",provider:"Amazon",description:"AWS native LLM for enterprise."},{id:"amazon-nova-pro",name:"Nova Pro",provider:"Amazon",description:"Amazon flagship multimodal model."},{id:"azure-gpt-4o",name:"GPT-4o (Azure)",provider:"Azure",description:"Enterprise GPT-4o with Azure compliance."},{id:"azure-gpt-4-turbo",name:"GPT-4 Turbo (Azure)",provider:"Azure",description:"High-performance GPT-4 on Azure."},{id:"ollama-local",name:"Ollama (Local)",provider:"Local",description:"Run LLMs locally with Ollama."},{id:"lmstudio-local",name:"LM Studio (Local)",provider:"Local",description:"Local LLM inference with LM Studio."},{id:"llamacpp-local",name:"llama.cpp (Local)",provider:"Local",description:"Efficient local inference with llama.cpp."},{id:"qwen-max",name:"Qwen Max",provider:"Alibaba",description:"Flagship Qwen model with 200K context."},{id:"qwen-turbo",name:"Qwen Turbo",provider:"Alibaba",description:"Fast and efficient Qwen variant."},{id:"minimax-abab7",name:"MiniMax ABAB 7",provider:"MiniMax",description:"Leading Chinese language model."},{id:"kuaishou-kling",name:"Kling",provider:"Kuaishou",description:"Multimodal model from Kuaishou."},{id:"zhipu-glm4",name:"GLM-4",provider:"Zhipu",description:"Bilingual model with strong reasoning."},{id:"baichuan-4",name:"Baichuan 4",provider:"Baichuan",description:"Advanced Chinese language understanding."},{id:"moonshot-kimi",name:"Kimi",provider:"Moonshot",description:"Long-context model with 200K tokens."}],Cl=[{id:"gemini-2.5-flash-image",name:"Gemini Flash Image",provider:"Google",description:"Rapid image generation."},{id:"imagen-4.0-generate-001",name:"Imagen 3",provider:"Google",description:"High fidelity image generation."}],zl=[{id:"flow-1.0-generate-preview",name:"Google Flow",provider:"Google",description:"State-of-the-art cinematic video generation."},{id:"veo-3.1-fast-generate-preview",name:"Veo Fast",provider:"Google",description:"Rapid video generation preview."},{id:"veo-3.1-generate-preview",name:"Veo Pro",provider:"Google",description:"High quality video generation."}],Il=[{id:"gemini-2.5-flash-preview-tts",name:"Gemini TTS",provider:"Google",description:"Natural sounding speech."}],El=[],cm=[{id:"ms-python.python",name:"Python",publisher:"Microsoft",description:"IntelliSense, linting, debugging for Python.",iconUrl:"https://ms-python.gallerycdn.vsassets.io/extensions/ms-python/python/2024.2.1/1707162393176/Microsoft.VisualStudio.Services.Icons.Default",downloads:"102M",rating:4.8,category:"Programming Languages"},{id:"esbenp.prettier-vscode",name:"Prettier - Code formatter",publisher:"Prettier",description:"Code formatter for consistent style.",iconUrl:"https://esbenp.gallerycdn.vsassets.io/extensions/esbenp/prettier-vscode/10.1.0/1690825686837/Microsoft.VisualStudio.Services.Icons.Default",downloads:"45M",rating:4.5,category:"Formatters"}],Tl=[{id:"1",name:"General Developer",description:"All-around coding assistant for any task.",category:"Engineering",systemInstruction:"You are a highly efficient Full-Stack Developer. Help with code generation, explanations, debugging, and general programming logic. Prioritize clean, modern, readable, and accessible code. Always explain your reasoning."},{id:"2",name:"Frontend Specialist",description:"Expert in React, Vue, CSS, and modern UI.",category:"Engineering",systemInstruction:"You are a Senior Frontend Engineer specializing in React, Vue, TypeScript, and modern CSS (Tailwind, CSS Grid, Flexbox). Focus on component architecture, state management, performance optimization, and accessibility (WCAG). Write pixel-perfect, responsive code."},{id:"3",name:"Backend Engineer",description:"APIs, databases, and server-side logic.",category:"Engineering",systemInstruction:"You are a Senior Backend Engineer. Specialize in RESTful APIs, GraphQL, database design (SQL/NoSQL), authentication, caching, and microservices. Prioritize security, scalability, and clean architecture patterns (DDD, CQRS)."},{id:"4",name:"Python Expert",description:"Python specialist for scripts, APIs, and data.",category:"Engineering",systemInstruction:"You are a Python expert. Help with Python scripts, FastAPI/Flask/Django backends, data processing with pandas/numpy, type hints, testing with pytest, and Pythonic best practices. Follow PEP 8 guidelines."},{id:"5",name:"Rust Developer",description:"Systems programming with memory safety.",category:"Engineering",systemInstruction:"You are a Rust expert. Help with systems programming, memory safety, ownership/borrowing, async Rust, error handling with Result/Option, and performance optimization. Explain lifetime annotations clearly."},{id:"6",name:"Go Developer",description:"Concurrent, efficient Go applications.",category:"Engineering",systemInstruction:"You are a Go expert. Help with concurrent programming (goroutines, channels), HTTP servers, CLI tools, and idiomatic Go patterns. Prioritize simplicity, readability, and Go conventions."},{id:"10",name:"Senior Cloud Architect",description:"System design, IaC, and scalability expert.",category:"Infrastructure",systemInstruction:"You are a Senior Cloud Architect with expertise in AWS, GCP, and Azure. Focus on scalability, high availability, disaster recovery, cost optimization, and Infrastructure as Code (Terraform, Pulumi). Scrutinize architectures for security and reliability."},{id:"11",name:"DevOps Engineer",description:"CI/CD, containers, and automation.",category:"Infrastructure",systemInstruction:"You are a DevOps Engineer. Specialize in CI/CD pipelines (GitHub Actions, GitLab CI, Jenkins), Docker, Kubernetes, monitoring (Prometheus, Grafana), and infrastructure automation. Focus on reliability, observability, and deployment best practices."},{id:"12",name:"Kubernetes Specialist",description:"Container orchestration and cloud-native apps.",category:"Infrastructure",systemInstruction:"You are a Kubernetes expert. Help with deployments, services, ingress, Helm charts, operators, resource management, and troubleshooting. Explain K8s concepts clearly and provide production-ready manifests."},{id:"13",name:"Database Administrator",description:"SQL, NoSQL, and database optimization.",category:"Infrastructure",systemInstruction:"You are a Database Administrator expert in PostgreSQL, MySQL, MongoDB, Redis, and database design. Help with query optimization, indexing strategies, migrations, replication, and data modeling. Prioritize performance and data integrity."},{id:"20",name:"Security Auditor",description:"Vulnerability analysis and secure coding.",category:"Security",systemInstruction:"You are a Security Auditor and Penetration Tester. Analyze code for vulnerabilities (OWASP Top 10), review authentication/authorization implementations, identify injection risks, and recommend secure coding practices. Be thorough and security-paranoid."},{id:"21",name:"Compliance Expert",description:"GDPR, SOC2, HIPAA, and regulatory compliance.",category:"Security",systemInstruction:"You are a Compliance and Privacy Expert. Help with GDPR, SOC2, HIPAA, PCI-DSS requirements, data handling policies, audit preparation, and privacy-by-design principles. Provide actionable compliance checklists."},{id:"30",name:"UI/UX Designer",description:"Design systems, accessibility, and aesthetics.",category:"Frontend",systemInstruction:"You are a UI/UX Designer with strong coding skills. Focus on design systems, color theory, typography, spacing, accessibility (WCAG AA/AAA), micro-interactions, and user-centered design. Create beautiful, functional interfaces."},{id:"31",name:"CSS Wizard",description:"Advanced CSS, animations, and layouts.",category:"Frontend",systemInstruction:"You are a CSS expert. Specialize in complex layouts (Grid, Flexbox), animations, transitions, responsive design, CSS variables, and modern CSS features. Write clean, maintainable stylesheets without unnecessary complexity."},{id:"32",name:"React Expert",description:"React hooks, patterns, and performance.",category:"Frontend",systemInstruction:"You are a React expert. Specialize in hooks, context, performance optimization (memo, useMemo, useCallback), state management (Zustand, Redux), Server Components, and React 19 features. Write idiomatic, performant React code."},{id:"40",name:"Code Reviewer",description:"Thorough code review and best practices.",category:"Utility",systemInstruction:"You are a meticulous Code Reviewer. Analyze code for bugs, security issues, performance problems, readability, and adherence to best practices. Be constructive but thorough. Suggest specific improvements with examples."},{id:"41",name:"Documentation Writer",description:"Clear docs, READMEs, and API references.",category:"Utility",systemInstruction:"You are a Technical Writer. Create clear, comprehensive documentation including READMEs, API references, tutorials, and inline code comments. Focus on clarity, examples, and helping developers understand quickly."},{id:"42",name:"Debugging Detective",description:"Track down bugs and fix issues.",category:"Utility",systemInstruction:"You are a Debugging Specialist. Analyze error messages, stack traces, and code to identify root causes. Think systematically, ask clarifying questions, and provide step-by-step debugging strategies. Explain why bugs occur."},{id:"43",name:"Refactoring Expert",description:"Clean code and architecture improvements.",category:"Utility",systemInstruction:"You are a Refactoring Expert. Improve code structure, reduce complexity, eliminate duplication, apply design patterns appropriately, and enhance maintainability. Explain the rationale behind each refactoring decision."},{id:"44",name:"Performance Optimizer",description:"Speed up apps and reduce resource usage.",category:"Utility",systemInstruction:"You are a Performance Optimization Expert. Analyze and improve application performance: load times, memory usage, database queries, algorithm efficiency, and caching strategies. Provide measurable optimization recommendations."},{id:"45",name:"Test Engineer",description:"Unit tests, integration tests, and TDD.",category:"Utility",systemInstruction:"You are a Test Engineering Expert. Write comprehensive unit tests, integration tests, and E2E tests. Practice TDD, achieve high coverage, use mocking appropriately, and ensure tests are maintainable. Support Jest, Pytest, Go testing, and other frameworks."},{id:"50",name:"Data Scientist",description:"ML, analytics, and data pipelines.",category:"Data & AI",systemInstruction:"You are a Data Scientist. Help with machine learning models, data analysis, pandas/numpy, visualization, feature engineering, and statistical methods. Explain concepts clearly and provide working code examples."},{id:"51",name:"ML Engineer",description:"Model deployment and MLOps.",category:"Data & AI",systemInstruction:"You are a Machine Learning Engineer. Specialize in model training, deployment (TensorFlow Serving, TorchServe), MLOps pipelines, model monitoring, and optimization. Bridge the gap between research and production."},{id:"52",name:"Prompt Engineer",description:"LLM prompts and AI integration.",category:"Data & AI",systemInstruction:"You are a Prompt Engineering Expert. Design effective prompts for LLMs, implement RAG systems, optimize token usage, handle context windows, and integrate AI APIs. Help build reliable AI-powered applications."},{id:"60",name:"iOS Developer",description:"Swift, SwiftUI, and Apple platforms.",category:"Mobile",systemInstruction:"You are an iOS Developer expert in Swift, SwiftUI, UIKit, and Apple platform development. Help with app architecture (MVVM, TCA), Core Data, networking, and App Store guidelines. Write modern, Swift-idiomatic code."},{id:"61",name:"Android Developer",description:"Kotlin, Jetpack Compose, and Android.",category:"Mobile",systemInstruction:"You are an Android Developer expert in Kotlin, Jetpack Compose, and Android architecture components. Help with MVVM, Room, Coroutines, and Google Play guidelines. Write clean, modern Android code."},{id:"62",name:"React Native Dev",description:"Cross-platform mobile with React Native.",category:"Mobile",systemInstruction:"You are a React Native expert. Help with cross-platform mobile development, native modules, navigation, state management, and performance optimization. Bridge React knowledge to mobile contexts."}],Al=Tl,dm=[{id:"agent-auto-fixer",name:"Auto-Fixer",isEnabled:!0,description:"Automatically fixes lint errors and code issues"},{id:"agent-code-reviewer",name:"Code Reviewer",isEnabled:!0,description:"Reviews code changes and suggests improvements"},{id:"agent-refactor",name:"Refactor Assistant",isEnabled:!1,description:"Suggests refactoring opportunities"},{id:"agent-dead-code",name:"Dead Code Detector",isEnabled:!1,description:"Finds unused code and imports"},{id:"agent-complexity",name:"Complexity Analyzer",isEnabled:!1,description:"Identifies overly complex functions"},{id:"agent-doc-generator",name:"Doc Generator",isEnabled:!1,description:"Generates documentation from code"},{id:"agent-readme",name:"README Writer",isEnabled:!1,description:"Creates and updates README files"},{id:"agent-changelog",name:"Changelog Generator",isEnabled:!1,description:"Auto-generates changelogs from commits"},{id:"agent-api-docs",name:"API Doc Generator",isEnabled:!1,description:"Creates OpenAPI/Swagger docs"},{id:"agent-test-writer",name:"Test Writer",isEnabled:!1,description:"Creates unit tests for functions"},{id:"agent-test-coverage",name:"Coverage Analyzer",isEnabled:!1,description:"Identifies untested code paths"},{id:"agent-e2e-generator",name:"E2E Test Generator",isEnabled:!1,description:"Creates end-to-end test scenarios"},{id:"agent-security-scanner",name:"Security Scanner",isEnabled:!0,description:"Scans for security vulnerabilities"},{id:"agent-secret-detector",name:"Secret Detector",isEnabled:!0,description:"Finds exposed API keys and secrets"},{id:"agent-dependency-audit",name:"Dependency Auditor",isEnabled:!0,description:"Checks for vulnerable dependencies"},{id:"agent-license-checker",name:"License Checker",isEnabled:!1,description:"Validates open source licenses"},{id:"agent-perf-analyzer",name:"Performance Analyzer",isEnabled:!1,description:"Analyzes performance bottlenecks"},{id:"agent-bundle-analyzer",name:"Bundle Analyzer",isEnabled:!1,description:"Analyzes bundle size and dependencies"},{id:"agent-memory-profiler",name:"Memory Profiler",isEnabled:!1,description:"Detects memory leaks and issues"},{id:"agent-a11y-checker",name:"Accessibility Checker",isEnabled:!1,description:"Checks for accessibility issues"},{id:"agent-i18n",name:"i18n Helper",isEnabled:!1,description:"Extracts and manages translations"},{id:"agent-type-checker",name:"Type Inference",isEnabled:!1,description:"Suggests TypeScript types"},{id:"agent-dockerfile",name:"Dockerfile Generator",isEnabled:!1,description:"Creates optimized Dockerfiles"},{id:"agent-ci-generator",name:"CI/CD Generator",isEnabled:!1,description:"Creates GitHub Actions/GitLab CI"},{id:"agent-terraform",name:"Terraform Helper",isEnabled:!1,description:"Generates infrastructure code"},{id:"agent-k8s",name:"K8s Manifest Generator",isEnabled:!1,description:"Creates Kubernetes manifests"},{id:"agent-commit-msg",name:"Commit Message Writer",isEnabled:!0,description:"Generates meaningful commit messages"},{id:"agent-pr-description",name:"PR Description Writer",isEnabled:!1,description:"Creates PR descriptions from changes"},{id:"agent-code-explainer",name:"Code Explainer",isEnabled:!1,description:"Explains complex code blocks"},{id:"agent-snippet-saver",name:"Snippet Manager",isEnabled:!1,description:"Saves and organizes code snippets"}],mm=[{id:"google",name:"Google Gemini",isConfigured:!1},{id:"anthropic",name:"Anthropic Claude",isConfigured:!1},{id:"openai",name:"OpenAI",isConfigured:!1},{id:"xai",name:"xAI Grok",isConfigured:!1},{id:"mistral",name:"Mistral AI",isConfigured:!1},{id:"cohere",name:"Cohere",isConfigured:!1},{id:"deepseek",name:"DeepSeek",isConfigured:!1},{id:"groq",name:"Groq",isConfigured:!1},{id:"together",name:"Together AI",isConfigured:!1},{id:"perplexity",name:"Perplexity",isConfigured:!1},{id:"ollama",name:"Ollama (Local)",isConfigured:!1}],um=[{id:"github",name:"GitHub",description:"Sync repositories, pull requests, and actions.",category:"Source Control",icon:e.jsx(cn,{size:20}),configFields:[{label:"Personal Access Token",type:"password",key:"token"}]}],Dl=[{id:"c1",message:"Initial commit",author:"Alex Chen",date:"3 days ago",branch:"main",parentIds:[],color:"#4ade80"}],Pl=[{id:"act1",icon:e.jsx(ge,{size:14,className:"text-blue-400"}),text:"Alex committed to 'feat/new-auth'",time:"2m ago"},{id:"act2",icon:e.jsx(ks,{size:14,className:"text-purple-400"}),text:"Sarah deployed 'hyper-commerce'",time:"15m ago"},{id:"act3",icon:e.jsx(es,{size:14,className:"text-green-400"}),text:"Mike commented on 'UI Bug'",time:"45m ago"}],xm=Pl,An=[{user:"alexchen",icon:e.jsx(ui,{size:16,className:"text-green-400"}),title:"Feature Request: VSCode Theme Sync",time:"2 hours ago"},{user:"sarahjones",icon:e.jsx(un,{size:16,className:"text-purple-400"}),title:"How to connect to a private Docker registry?",time:"5 hours ago"}],Xr=[{name:"Neural Ink (Default)",colors:{"--color-background":"#080a0f","--color-background-secondary":"#11141b","--color-background-tertiary":"#1b2028","--color-background-hover":"#252c38","--color-text-primary":"#ffffff","--color-text-secondary":"#9ca3af","--color-text-accent":"#67e8f9","--color-border":"#2d333b","--color-accent":"#0891b2","--color-accent-hover":"#06b6d4","--color-selection":"rgba(6, 182, 212, 0.4)","--color-success":"#4ade80","--color-danger":"#f87171","--color-warning":"#fbbf24","--color-info":"#60a5fa","--color-terminal-background":"#000000","--color-glow":"rgba(103, 232, 249, 0.5)","--color-card-glow":"rgba(103, 232, 249, 0.1)","--color-background-nav":"#05070a"}},{name:"Yellow Notepad",colors:{"--color-background":"#fefce8","--color-background-secondary":"#fef9c3","--color-background-tertiary":"#fef08a","--color-background-hover":"#fde047","--color-text-primary":"#1e3a8a","--color-text-secondary":"#1e40af","--color-text-accent":"#dc2626","--color-border":"#1e3a8a","--color-accent":"#1e3a8a","--color-accent-hover":"#1d4ed8","--color-selection":"rgba(30, 58, 138, 0.1)","--color-success":"#059669","--color-danger":"#dc2626","--color-warning":"#d97706","--color-info":"#2563eb","--color-terminal-background":"#fefce8","--color-glow":"rgba(30, 58, 138, 0.2)","--color-card-glow":"rgba(30, 58, 138, 0.05)","--color-background-nav":"#1e3a8a"}},{name:"Chalkboard",colors:{"--color-background":"#2d3748","--color-background-secondary":"#1a202c","--color-background-tertiary":"#4a5568","--color-background-hover":"#718096","--color-text-primary":"#f7fafc","--color-text-secondary":"#cbd5e0","--color-text-accent":"#f6e05e","--color-border":"rgba(255, 255, 255, 0.6)","--color-accent":"#ecc94b","--color-accent-hover":"#f6e05e","--color-selection":"rgba(255, 255, 255, 0.15)","--color-success":"#48bb78","--color-danger":"#f56565","--color-warning":"#ed8936","--color-info":"#4299e1","--color-terminal-background":"#1a202c","--color-glow":"rgba(255, 255, 255, 0.3)","--color-card-glow":"rgba(255, 255, 255, 0.05)","--color-background-nav":"#1a202c"}},{name:"Comic Pop",colors:{"--color-background":"#ffde03","--color-background-secondary":"#03a9f4","--color-background-tertiary":"#f44336","--color-background-hover":"#ffffff","--color-text-primary":"#000000","--color-text-secondary":"#1a1a1a","--color-text-accent":"#000000","--color-border":"#000000","--color-accent":"#000000","--color-accent-hover":"#333333","--color-selection":"rgba(0, 0, 0, 0.2)","--color-success":"#4caf50","--color-danger":"#f44336","--color-warning":"#ff9800","--color-info":"#2196f3","--color-terminal-background":"#ffffff","--color-glow":"rgba(0, 0, 0, 0.4)","--color-card-glow":"rgba(0, 0, 0, 0.1)","--color-background-nav":"#000000"}},{name:"Charcoal Sketch",colors:{"--color-background":"#d1d5db","--color-background-secondary":"#9ca3af","--color-background-tertiary":"#6b7280","--color-background-hover":"#4b5563","--color-text-primary":"#111827","--color-text-secondary":"#374151","--color-text-accent":"#ffffff","--color-border":"#111827","--color-accent":"#111827","--color-accent-hover":"#000000","--color-selection":"rgba(17, 24, 39, 0.15)","--color-success":"#10b981","--color-danger":"#ef4444","--color-warning":"#f59e0b","--color-info":"#3b82f6","--color-terminal-background":"#e5e7eb","--color-glow":"rgba(0, 0, 0, 0.3)","--color-card-glow":"rgba(0, 0, 0, 0.05)","--color-background-nav":"#111827"}},{name:"Cyber Scribe",colors:{"--color-background":"#050505","--color-background-secondary":"#0a0a0a","--color-background-tertiary":"#111111","--color-background-hover":"#1a1a1a","--color-text-primary":"#00ff41","--color-text-secondary":"#008f11","--color-text-accent":"#00ff41","--color-border":"#00ff41","--color-accent":"#00ff41","--color-accent-hover":"#00ff81","--color-selection":"rgba(0, 255, 65, 0.2)","--color-success":"#00ff41","--color-danger":"#ff0000","--color-warning":"#ffff00","--color-info":"#00ffff","--color-terminal-background":"#000000","--color-glow":"rgba(0, 255, 65, 0.6)","--color-card-glow":"rgba(0, 255, 65, 0.1)","--color-background-nav":"#000000"}},{name:"Blueprint Pro",colors:{"--color-background":"#002b55","--color-background-secondary":"#001a33","--color-background-tertiary":"#003a73","--color-background-hover":"#004a93","--color-text-primary":"#ffffff","--color-text-secondary":"#aaccff","--color-text-accent":"#ffff00","--color-border":"rgba(255, 255, 255, 0.4)","--color-accent":"#ffff00","--color-accent-hover":"#facc15","--color-selection":"rgba(255, 255, 255, 0.25)","--color-success":"#4ade80","--color-danger":"#f87171","--color-warning":"#fbbf24","--color-info":"#60a5fa","--color-terminal-background":"#001a33","--color-glow":"rgba(255, 255, 0, 0.4)","--color-card-glow":"rgba(255, 255, 255, 0.1)","--color-background-nav":"#001122"}},{name:"Graph Paper",colors:{"--color-background":"#ffffff","--color-background-secondary":"#f9fafb","--color-background-tertiary":"#f3f4f6","--color-background-hover":"#e5e7eb","--color-text-primary":"#1f2937","--color-text-secondary":"#6b7280","--color-text-accent":"#3b82f6","--color-border":"#e5e7eb","--color-accent":"#3b82f6","--color-accent-hover":"#2563eb","--color-selection":"rgba(59, 130, 246, 0.1)","--color-success":"#16a34a","--color-danger":"#dc2626","--color-warning":"#f59e0b","--color-info":"#60a5fa","--color-terminal-background":"#000000","--color-glow":"rgba(59, 130, 246, 0.2)","--color-card-glow":"rgba(59, 130, 246, 0.05)","--color-background-nav":"#0b1221"}},{name:"Midnight Manga",colors:{"--color-background":"#000000","--color-background-secondary":"#111111","--color-background-tertiary":"#222222","--color-background-hover":"#333333","--color-text-primary":"#ffffff","--color-text-secondary":"#cccccc","--color-text-accent":"#ffffff","--color-border":"#ffffff","--color-accent":"#ffffff","--color-accent-hover":"#dddddd","--color-selection":"rgba(255, 255, 255, 0.3)","--color-success":"#ffffff","--color-danger":"#ffffff","--color-warning":"#ffffff","--color-info":"#ffffff","--color-terminal-background":"#000000","--color-glow":"rgba(255, 255, 255, 0.6)","--color-card-glow":"rgba(255, 255, 255, 0.15)","--color-background-nav":"#000000"}},{name:"Neon Scribble",colors:{"--color-background":"#0d0221","--color-background-secondary":"#19043d","--color-background-tertiary":"#26065c","--color-background-hover":"#3a098d","--color-text-primary":"#ffffff","--color-text-secondary":"#d1d1e9","--color-text-accent":"#ff00ff","--color-border":"#ff00ff","--color-accent":"#ff00ff","--color-accent-hover":"#ff40ff","--color-selection":"rgba(255, 0, 255, 0.3)","--color-success":"#00ff00","--color-danger":"#ff0033","--color-warning":"#ffff00","--color-info":"#00ffff","--color-terminal-background":"#050110","--color-glow":"rgba(255, 0, 255, 0.7)","--color-card-glow":"rgba(255, 0, 255, 0.2)","--color-background-nav":"#050110"}},{name:"Solarized Light",colors:{"--color-background":"#fdf6e3","--color-background-secondary":"#eee8d5","--color-background-tertiary":"#d7d0c0","--color-background-hover":"#d7d0c0","--color-text-primary":"#586e75","--color-text-secondary":"#839496","--color-text-accent":"#268bd2","--color-border":"#eee8d5","--color-accent":"#268bd2","--color-accent-hover":"#1a6a9d","--color-selection":"rgba(38, 139, 210, 0.2)","--color-success":"#859900","--color-danger":"#dc322f","--color-warning":"#b58900","--color-info":"#2aa198","--color-terminal-background":"#fdf6e3","--color-glow":"rgba(38, 139, 210, 0.2)","--color-card-glow":"rgba(38, 139, 210, 0.1)","--color-background-nav":"#f6f0de"}},{name:"Monokai",colors:{"--color-background":"#272822","--color-background-secondary":"#2D2A2E","--color-background-tertiary":"#414339","--color-background-hover":"#555544","--color-text-primary":"#F8F8F2","--color-text-secondary":"#939290","--color-text-accent":"#F92672","--color-border":"#414339","--color-accent":"#F92672","--color-accent-hover":"#f75c93","--color-selection":"rgba(249, 38, 114, 0.3)","--color-success":"#A6E22E","--color-danger":"#F92672","--color-warning":"#E6DB74","--color-info":"#66D9EF","--color-terminal-background":"#272822","--color-glow":"rgba(249, 38, 114, 0.3)","--color-card-glow":"rgba(249, 38, 114, 0.1)","--color-background-nav":"#1e1f1a"}},{name:"Nord",colors:{"--color-background":"#2E3440","--color-background-secondary":"#3B4252","--color-background-tertiary":"#434C5E","--color-background-hover":"#4C566A","--color-text-primary":"#ECEFF4","--color-text-secondary":"#D8DEE9","--color-text-accent":"#88C0D0","--color-border":"#434C5E","--color-accent":"#88C0D0","--color-accent-hover":"#9dc9d6","--color-selection":"rgba(136, 192, 208, 0.3)","--color-success":"#A3BE8C","--color-danger":"#BF616A","--color-warning":"#EBCB8B","--color-info":"#81A1C1","--color-terminal-background":"#2E3440","--color-glow":"rgba(136, 192, 208, 0.2)","--color-card-glow":"rgba(136, 192, 208, 0.1)","--color-background-nav":"#292e39"}},{name:"Dracula",colors:{"--color-background":"#282a36","--color-background-secondary":"#383A59","--color-background-tertiary":"#44475a","--color-background-hover":"#525575","--color-text-primary":"#f8f8f2","--color-text-secondary":"#bd93f9","--color-text-accent":"#ff79c6","--color-border":"#44475a","--color-accent":"#ff79c6","--color-accent-hover":"#ff9ed9","--color-selection":"rgba(255, 121, 198, 0.3)","--color-success":"#50fa7b","--color-danger":"#ff5555","--color-warning":"#f1fa8c","--color-info":"#8be9fd","--color-terminal-background":"#282a36","--color-glow":"rgba(255, 121, 198, 0.3)","--color-card-glow":"rgba(255, 121, 198, 0.1)","--color-background-nav":"#22232b"}},{name:"GitHub Dark",colors:{"--color-background":"#0d1117","--color-background-secondary":"#161b22","--color-background-tertiary":"#21262d","--color-background-hover":"#2e343b","--color-text-primary":"#c9d1d9","--color-text-secondary":"#8b949e","--color-text-accent":"#58a6ff","--color-border":"#30363d","--color-accent":"#58a6ff","--color-accent-hover":"#80b6ff","--color-selection":"rgba(88, 166, 255, 0.2)","--color-success":"#3fb950","--color-danger":"#f85149","--color-warning":"#d29922","--color-info":"#58a6ff","--color-terminal-background":"#0d1117","--color-glow":"rgba(88, 166, 255, 0.2)","--color-card-glow":"rgba(88, 166, 255, 0.1)","--color-background-nav":"#010409"}},{name:"Evergreen",colors:{"--color-background":"#1e2b28","--color-background-secondary":"#283834","--color-background-tertiary":"#3a4f4a","--color-background-hover":"#4b655f","--color-text-primary":"#dce3e1","--color-text-secondary":"#a8b5b1","--color-text-accent":"#56c271","--color-border":"#3a4f4a","--color-accent":"#56c271","--color-accent-hover":"#72d48c","--color-selection":"rgba(86, 194, 113, 0.2)","--color-success":"#56c271","--color-danger":"#e06c75","--color-warning":"#b08868","--color-info":"#61afef","--color-terminal-background":"#1e2b28","--color-glow":"rgba(86, 194, 113, 0.2)","--color-card-glow":"rgba(86, 194, 113, 0.1)","--color-background-nav":"#192421"}},{name:"Sakura",colors:{"--color-background":"#fef6f6","--color-background-secondary":"#fdebeb","--color-background-tertiary":"#fcd7d7","--color-background-hover":"#fac4c4","--color-text-primary":"#594a4e","--color-text-secondary":"#7b6a6f","--color-text-accent":"#fe8dc6","--color-border":"#fcd7d7","--color-accent":"#fe8dc6","--color-accent-hover":"#fc6cb8","--color-selection":"rgba(254, 141, 198, 0.2)","--color-success":"#70a9a1","--color-danger":"#db6363","--color-warning":"#d9a374","--color-info":"#6699cc","--color-terminal-background":"#fef6f6","--color-glow":"rgba(254, 141, 198, 0.2)","--color-card-glow":"rgba(254, 141, 198, 0.1)","--color-background-nav":"#fde2e2"}},{name:"Laserwave",colors:{"--color-background":"#221C44","--color-background-secondary":"#30245C","--color-background-tertiary":"#44357B","--color-background-hover":"#554593","--color-text-primary":"#EAF2F1","--color-text-secondary":"#9389BD","--color-text-accent":"#EC468C","--color-border":"#553a99","--color-accent":"#EC468C","--color-accent-hover":"#f06ca7","--color-selection":"rgba(236, 70, 140, 0.3)","--color-success":"#00D5E6","--color-danger":"#EC468C","--color-warning":"#F6E693","--color-info":"#00D5E6","--color-terminal-background":"#221C44","--color-glow":"rgba(236, 70, 140, 0.3)","--color-card-glow":"rgba(236, 70, 140, 0.1)","--color-background-nav":"#1c173a"}}],ir="sai_users",rs="sai_session",as="sai_auth_token",Na="sai_refresh_token",Dn="sai_vouchers",Nr="sai_trial",Rl=60*60*1e3,Bl=7*24*60*60*1e3,Ml={SAIPRO24:{type:"trial",days:1},TRYSAI:{type:"trial",days:1},FREETRIAL:{type:"trial",days:1},WELCOME2025:{type:"trial",days:1},DEVPRO:{type:"trial",days:1}},lr={Hobby:["view:files","edit:files","view:search","view:source-control","view:extensions","view:model-marketplace","view:ux-studio","use:terminal"],Pro:["view:files","edit:files","view:search","view:source-control","view:extensions","view:model-marketplace","view:ux-studio","use:terminal","use:ai-chat","use:live-meeting","use:whiteboard","use:document-studio","use:screen-recorder","use:debug","use:testing","use:api-studio","use:database","use:terraform","use:docker","use:security","use:deployment","use:team","use:kanban","use:integrations","use:personas","use:ml-studio"],Enterprise:["view:files","edit:files","view:search","view:source-control","view:extensions","view:model-marketplace","view:ux-studio","use:terminal","use:ai-chat","use:live-meeting","use:whiteboard","use:document-studio","use:screen-recorder","use:debug","use:testing","use:api-studio","use:database","use:terraform","use:docker","use:security","use:deployment","use:team","use:kanban","use:integrations","use:personas","use:ml-studio","admin:users","admin:billing","admin:audit-logs","use:sso","use:custom-models","use:priority-support"]},qs=t=>{let s=0;for(let r=0;r<t.length;r++){const c=t.charCodeAt(r);s=(s<<5)-s+c,s=s&s}return`$sai$${Math.abs(s).toString(16)}$${btoa(t.slice(0,2))}`},Pn=(t,s)=>s.startsWith("$sai$")?qs(t)===s:t===s,cr=(t,s)=>{const r=s==="access"?Rl:Bl,c={userId:t,type:s,iat:Date.now(),exp:Date.now()+r};return btoa(JSON.stringify(c))},Rn=t=>{try{return JSON.parse(atob(t))}catch{return null}},za=t=>{const s=Rn(t);return s?Date.now()>s.exp:!0},Et=()=>{try{const t=localStorage.getItem(ir);if(t)return JSON.parse(t);const s=ja.map(r=>({...r,password:r.password?qs(r.password):void 0}));return localStorage.setItem(ir,JSON.stringify(s)),s}catch(t){return console.error("Could not parse users from localStorage",t),ja}},wt=t=>{localStorage.setItem(ir,JSON.stringify(t))},us=t=>{const s=cr(t.id,"access"),r=cr(t.id,"refresh"),c={...t};return delete c.password,localStorage.setItem(rs,JSON.stringify(c)),localStorage.setItem(as,s),localStorage.setItem(Na,r),{user:c,accessToken:s,refreshToken:r}},Ol=(t,s,r)=>new Promise((c,l)=>{setTimeout(()=>{if(!r||r.length<6)return l(new Error("Password must be at least 6 characters long."));if(!/[A-Z]/.test(r))return l(new Error("Password must contain at least one uppercase letter."));if(!/[0-9]/.test(r))return l(new Error("Password must contain at least one number."));const g=Et();if(g.some(h=>h.email.toLowerCase()===s.toLowerCase()))return l(new Error("An account with this email already exists."));const j={id:`user-${Date.now()}`,name:t,email:s,password:qs(r),initials:t.split(" ").map(h=>h[0]).join("").toUpperCase().slice(0,2),role:"Developer",status:"online",plan:"Hobby"};g.push(j),wt(g);const{user:x}=us(j);c(x)},500)}),Ll=(t,s)=>new Promise((r,c)=>{setTimeout(()=>{if(!t||!s)return c(new Error("Email and password are required."));const l=Et(),g=l.find(h=>h.email.toLowerCase()===t.toLowerCase());if(!g)return c(new Error("No account found with this email."));if(!g.password||!Pn(s,g.password))return c(new Error("Invalid password."));const j=l.map(h=>h.id===g.id?{...h,status:"online"}:h);wt(j);const{user:x}=us({...g,status:"online"});r(x)},500)}),_l=t=>{try{const r=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),c=decodeURIComponent(atob(r).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(c)}catch(s){return console.error("Failed to decode Google credential:",s),null}},$l=(t,s)=>{var r,c;typeof window<"u"&&((c=(r=window.google)==null?void 0:r.accounts)!=null&&c.id)&&window.google.accounts.id.initialize({client_id:t,callback:s,auto_select:!1,cancel_on_tap_outside:!0})},Fl=(t,s)=>{var r,c;if(typeof window<"u"&&((c=(r=window.google)==null?void 0:r.accounts)!=null&&c.id)){const l=document.getElementById(t);l&&window.google.accounts.id.renderButton(l,{theme:(s==null?void 0:s.theme)||"outline",size:(s==null?void 0:s.size)||"large",text:(s==null?void 0:s.text)||"continue_with",width:(s==null?void 0:s.width)||320,logo_alignment:"center"})}},Bn=()=>{var t,s;typeof window<"u"&&((s=(t=window.google)==null?void 0:t.accounts)!=null&&s.id)&&window.google.accounts.id.prompt()},Gl=t=>new Promise((s,r)=>{const c=_l(t);if(!c||!c.email)return r(new Error("Failed to decode Google credential."));const l=Et();let g=l.find(j=>j.email.toLowerCase()===c.email.toLowerCase());if(g){const j={...g,name:c.name||g.name,avatar:c.picture||g.avatar,status:"online"},x=l.map(b=>b.id===g.id?j:b);wt(x);const{user:h}=us(j);s(h)}else{const j=c.name?c.name.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2):c.email.slice(0,2).toUpperCase(),x={id:`user-google-${c.sub||Date.now()}`,name:c.name||"Google User",email:c.email,initials:j,avatar:c.picture,role:"Developer",status:"online",plan:"Hobby",authProvider:"google"};l.push(x),wt(l);const{user:h}=us(x);s(h)}}),Ul=()=>new Promise((t,s)=>{var r,c;typeof window<"u"&&((c=(r=window.google)==null?void 0:r.accounts)!=null&&c.id)?(Bn(),s(new Error("Google Sign-In prompt triggered. Handle response via callback."))):s(new Error("Google Sign-In is not available. Please try again later."))}),Wl="Ov23liCaVfiCEV0jAPnX",Hl=`${window.location.origin}/auth/github/callback`,Vl=()=>{const t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return sessionStorage.setItem("github_oauth_state",t),t},Kl=t=>{const s=sessionStorage.getItem("github_oauth_state");return sessionStorage.removeItem("github_oauth_state"),s===t},Yl=()=>{const t=Vl(),s="read:user user:email",r=new URL("https://github.com/login/oauth/authorize");r.searchParams.set("client_id",Wl),r.searchParams.set("redirect_uri",Hl),r.searchParams.set("scope",s),r.searchParams.set("state",t),sessionStorage.setItem("github_oauth_redirect",window.location.href),window.location.href=r.toString()},Jl=async(t,s)=>{throw Kl(s)?new Error("GitHub OAuth requires a backend server to exchange the authorization code. Please configure your backend endpoint."):new Error("Invalid OAuth state. Please try again.")},ql=async t=>{var s;try{const[r,c]=await Promise.all([fetch("https://api.github.com/user",{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github.v3+json"}}),fetch("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github.v3+json"}})]);if(!r.ok)throw new Error("Failed to fetch GitHub user data");const l=await r.json(),j=((s=(await c.json()).find(b=>b.primary))==null?void 0:s.email)||l.email||`${l.login}@github.local`,x=Et();let h=x.find(b=>b.email.toLowerCase()===j.toLowerCase());if(h){const b={...h,name:l.name||l.login||h.name,avatar:l.avatar_url||h.avatar,status:"online"},f=x.map(E=>E.id===h.id?b:E);wt(f),localStorage.setItem("github_access_token",t);const{user:p}=us(b);return p}else{const b=l.name||l.login||"GitHub User",f=b.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),p={id:`user-github-${l.id}`,name:b,email:j,initials:f,avatar:l.avatar_url,role:"Developer",status:"online",plan:"Hobby",authProvider:"github"};x.push(p),wt(x),localStorage.setItem("github_access_token",t);const{user:E}=us(p);return E}}catch(r){throw new Error(`GitHub sign-in failed: ${r.message}`)}},Xl=()=>!0,Ql=()=>localStorage.getItem("github_access_token"),Zl=()=>new Promise(t=>{const s=Tt();if(s){const c=Et().map(l=>l.id===s.id?{...l,status:"away"}:l);wt(c)}localStorage.removeItem(rs),localStorage.removeItem(as),localStorage.removeItem(Na),localStorage.removeItem("sai_onboarded"),t()}),Ia=()=>{try{const t=localStorage.getItem(Na);if(!t||za(t))return localStorage.removeItem(rs),localStorage.removeItem(as),localStorage.removeItem(Na),!1;const s=Rn(t);if(!s)return!1;const r=cr(s.userId,"access");return localStorage.setItem(as,r),!0}catch{return!1}},Tt=()=>{try{const t=localStorage.getItem(as);if((!t||za(t))&&!Ia())return null;const s=localStorage.getItem(rs);return s?JSON.parse(s):null}catch(t){return console.error("Could not parse session from localStorage",t),null}},ec=async t=>{try{const s=await fetch("/api/paystack/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:t})});return s.ok?await s.json():(console.warn("Paystack backend verification unavailable. Simulating verification..."),{status:!0,data:{status:"success"}})}catch{return console.warn("Verification request failed. Simulating local success for demo."),{status:!0,data:{status:"success"}}}},tc=async(t,s,r)=>{if(!r||r.length<6)throw new Error("Password must be at least 6 characters long.");const c=Et();let l=c.findIndex(x=>x.email.toLowerCase()===s.toLowerCase()),g;l!==-1?(g={...c[l],plan:"Pro",role:"Pro Developer"},c[l]=g):(g={id:`user-pro-${Date.now()}`,name:t,email:s,password:qs(r),initials:t.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2),role:"Pro Developer",status:"online",plan:"Pro"},c.push(g)),wt(c);const{user:j}=us(g);return j},sc=async()=>{const t=Tt();if(!t)throw new Error("No user logged in");const s=Et(),r=s.findIndex(g=>g.id===t.id);if(r===-1)throw new Error("User not found");const c={...s[r],plan:"Pro",role:"Pro Developer"};s[r]=c,wt(s);const l={...c};return delete l.password,localStorage.setItem(rs,JSON.stringify(l)),l},ac=async t=>{const s=Tt();if(!s)throw new Error("No user logged in");const r=Et(),c=r.findIndex(f=>f.id===s.id);if(c===-1)throw new Error("User not found");const{id:l,password:g,plan:j,...x}=t,h={...r[c],...x};r[c]=h,wt(r);const b={...h};return delete b.password,localStorage.setItem(rs,JSON.stringify(b)),b},rc=async(t,s)=>{const r=Tt();if(!r)throw new Error("No user logged in");if(s.length<6)throw new Error("New password must be at least 6 characters long.");if(!/[A-Z]/.test(s))throw new Error("New password must contain at least one uppercase letter.");if(!/[0-9]/.test(s))throw new Error("New password must contain at least one number.");const c=Et(),l=c.findIndex(j=>j.id===r.id);if(l===-1)throw new Error("User not found");const g=c[l];if(g.password&&!Pn(t,g.password))throw new Error("Current password is incorrect");c[l]={...g,password:qs(s)},wt(c)},Mn=t=>{const s=Tt();return s?(lr[s.plan]||lr.Hobby).includes(t):!1},nc=t=>{const r={"ai-chat":"use:ai-chat","live-meeting":"use:live-meeting",whiteboard:"use:whiteboard","document-studio":"use:document-studio","screen-recorder":"use:screen-recorder",debug:"use:debug",testing:"use:testing","api-studio":"use:api-studio",database:"use:database",terraform:"use:terraform",docker:"use:docker",security:"use:security",deployment:"use:deployment",team:"use:team",kanban:"use:kanban",integrations:"use:integrations",personas:"use:personas","ml-studio":"use:ml-studio"}[t];return r?Mn(r):!0},oc=()=>{const t=localStorage.getItem(as);return!t||za(t)?(Ia(),localStorage.getItem(as)):t},ic=()=>{const t=localStorage.getItem(as);return t?za(t)?Ia():!0:!1},On=()=>{try{const t=localStorage.getItem(Dn);return t?JSON.parse(t):[]}catch{return[]}},kr=()=>{try{const t=localStorage.getItem(Nr);return t?JSON.parse(t):null}catch{return null}},Ln=()=>{const t=kr();if(!t)return!1;const s=Tt();return!s||t.userId!==s.id?!1:Date.now()<t.endTime},_n=()=>{const t=kr();if(!t)return 0;const s=Tt();if(!s||t.userId!==s.id)return 0;const r=t.endTime-Date.now();return r>0?r:0},lc=()=>{const t=_n();if(t<=0)return"Expired";const s=Math.floor(t/(60*60*1e3)),r=Math.floor(t%(60*60*1e3)/(60*1e3));return s>0?`${s}h ${r}m remaining`:`${r}m remaining`},$n=t=>{const s=t.trim().toUpperCase();if(!s)return{valid:!1,error:"Please enter a voucher code."};const r=Ml[s];if(!r)return{valid:!1,error:"Invalid voucher code."};const c=Tt();return c?On().some(j=>j.code===s&&j.userId===c.id)?{valid:!1,error:"You have already redeemed this voucher."}:(c.plan==="Pro"||c.plan==="Enterprise")&&!Ln()?{valid:!1,error:"You already have an active subscription."}:{valid:!0,days:r.days||1}:{valid:!1,error:"Please sign in to redeem a voucher."}},cc=async t=>{const s=$n(t);if(!s.valid)return{success:!1,message:s.error||"Invalid voucher."};const r=Tt();if(!r)return{success:!1,message:"Please sign in to redeem a voucher."};const c=t.trim().toUpperCase(),l=s.days||1,g=l*24*60*60*1e3,j={userId:r.id,startTime:Date.now(),endTime:Date.now()+g,voucherCode:c,originalPlan:r.plan};localStorage.setItem(Nr,JSON.stringify(j));const x=On();x.push({code:c,userId:r.id,redeemedAt:Date.now()}),localStorage.setItem(Dn,JSON.stringify(x));const h=Et(),b=h.findIndex(f=>f.id===r.id);if(b!==-1){h[b]={...h[b],plan:"Pro"},wt(h);const f={...h[b]};delete f.password,localStorage.setItem(rs,JSON.stringify(f))}return{success:!0,message:` Success! You now have ${l}-day Pro trial access.`,trialEndsAt:new Date(j.endTime)}},dc=()=>{const t=kr();if(!t)return;const s=Tt();if(!(!s||t.userId!==s.id)&&Date.now()>=t.endTime){const r=Et(),c=r.findIndex(l=>l.id===s.id);if(c!==-1){r[c]={...r[c],plan:t.originalPlan},wt(r);const l={...r[c]};delete l.password,localStorage.setItem(rs,JSON.stringify(l))}localStorage.removeItem(Nr)}},Ls={signUp:Ol,signIn:Ll,signInWithGoogle:Ul,signInWithGoogleCredential:Gl,initializeGoogleSignIn:$l,renderGoogleButton:Fl,promptGoogleOneTap:Bn,initiateGitHubOAuth:Yl,handleGitHubCallback:Jl,signInWithGitHubToken:ql,isGitHubOAuthConfigured:Xl,getGitHubToken:Ql,signOut:Zl,getCurrentUser:Tt,refreshSession:Ia,verifyPaystackTransaction:ec,createProUser:tc,upgradeToPro:sc,updateUser:ac,changePassword:rc,hasPermission:Mn,canAccessFeature:nc,getAccessToken:oc,isAuthenticated:ic,PERMISSIONS:lr,validateVoucher:$n,redeemVoucher:cc,hasActiveTrial:Ln,getTrialTimeRemaining:_n,formatTrialTimeRemaining:lc,checkTrialExpiry:dc};class mc{constructor(){Ua(this,"clients",new Map)}async getAvailableServers(){try{const s=await fetch("/api/mcp/available");return s.ok?await s.json():[]}catch{return console.warn("[Sai MCP] Bridge unavailable. Fallback to empty server list."),[]}}async connect(s,r){if(this.clients.has(s))return!0;try{const c=new URL(`${window.location.origin}/api/mcp/sse`);c.searchParams.append("serverId",s);const l=new cl(c),g=new dl({name:"sai-ide-client",version:"1.0.0"},{capabilities:{tools:{},resources:{}}});return await g.connect(l),this.clients.set(s,g),console.log(`[Sai MCP] Successfully connected to real server: ${s}`),!0}catch(c){return console.error(`[Sai MCP] Failed to connect to ${s}:`,c),!1}}async disconnect(s){if(this.clients.get(s)){try{await fetch("/api/mcp/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serverId:s})})}catch{}return this.clients.delete(s),!0}return!1}async listTools(s){const r=this.clients.get(s);if(!r)return[];try{return(await r.listTools()).tools.map(l=>({name:l.name,description:l.description,inputSchema:l.inputSchema}))}catch(c){return console.error(`[Sai MCP] Error listing tools for ${s}:`,c),[]}}async callTool(s,r,c){const l=this.clients.get(s);if(!l)throw new Error(`Server ${s} not connected`);try{return await l.callTool({name:r,arguments:c})}catch(g){throw console.error("[Sai MCP] Tool execution error:",g),g}}async readResource(s,r){const c=this.clients.get(s);if(!c)throw new Error(`Server ${s} not connected`);try{return await c.readResource({uri:r})}catch(l){throw console.error("[Sai MCP] Resource read error:",l),l}}}const is=new mc,uc=()=>{const[t,s]=a.useState([]),[r,c]=a.useState({}),[l,g]=a.useState(null),[j,x]=a.useState(null),h=a.useCallback(async()=>{const C=await is.getAvailableServers();s(C)},[]);a.useEffect(()=>{h()},[h]);const b=a.useCallback(async(C,A)=>{g(C),x(null);try{if(await is.connect(C,A)){const me=await is.listTools(C);s(te=>te.map(_=>_.id===C?{..._,status:"connected"}:_)),c(te=>({...te,[C]:{status:"connected",tools:me}}))}else throw new Error("Connection failed - check backend logs")}catch(U){x(U.message),s(me=>me.map(te=>te.id===C?{...te,status:"error"}:te))}finally{g(null)}},[]),f=a.useCallback(async C=>{try{await is.disconnect(C),s(A=>A.map(U=>U.id===C?{...U,status:"disconnected"}:U)),c(A=>{const U={...A};return delete U[C],U})}catch(A){console.error(A)}},[]),p=a.useCallback(async(C,A,U)=>await is.callTool(C,A,U),[]),E=a.useCallback(async(C,A)=>await is.readResource(C,A),[]);return{servers:t,connections:r,isConnecting:l,error:j,connectServer:b,disconnectServer:f,callTool:p,readResource:E,refreshServers:h}},xc=[{id:I.FILES,label:"Editor",icon:e.jsx(ge,{size:14}),minPlan:"Hobby"},{id:I.TERRAFORM,label:"Infrastructure",icon:e.jsx(St,{size:14}),minPlan:"Pro"},{id:I.SECURITY,label:"Sentinel",icon:e.jsx(Qt,{size:14}),minPlan:"Hobby"},{id:I.STITCH_STUDIO,label:"UX Studio",icon:e.jsx(hn,{size:14}),minPlan:"Hobby"}],Va=[{id:"the-blueprint",label:"Blueprint",icon:e.jsx(zs,{size:14})},{id:"model-library",label:"Registry",icon:e.jsx(St,{size:14})},{id:"pricing",label:"Pricing",icon:e.jsx(va,{size:14})},{id:"documentation",label:"Manual",icon:e.jsx(gr,{size:14})},{id:"community",label:"Hub",icon:e.jsx(ts,{size:14})}],pc=({isMicOn:t,onToggleMic:s,isMinimized:r,onToggleMinimize:c})=>e.jsxs("div",{className:"flex items-center gap-3 bg-[#2d333b] text-white rounded-full h-10 px-4 shadow-lg border border-white/10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(239,68,68,0.7)]"}),e.jsx("span",{className:"text-sm font-semibold",children:"Live Session"})]}),e.jsx("div",{className:"w-px h-5 bg-white/20"}),e.jsx("button",{onClick:s,className:"p-1 hover:bg-white/10 rounded-full transition-colors",title:"Toggle Microphone",children:t?e.jsx(Ys,{size:16}):e.jsx(yi,{size:16,className:"text-red-400"})}),e.jsx("button",{onClick:c,className:"p-1 hover:bg-white/10 rounded-full transition-colors",title:r?"Show Call":"Minimize Call",children:r?e.jsx(Js,{size:16}):e.jsx(fr,{size:16})})]}),hc=({models:t=[],activeModelId:s,onModelChange:r,teamMembers:c=[],currentUser:l,onSignIn:g,onSignOut:j,onInvite:x,isLanding:h=!1,isChatOpen:b,onToggleChat:f,isSidebarVisible:p,onToggleSidebar:E,isLive:C=!1,menuCategories:A=[],onOpenProfile:U,onOpenBilling:me,onOpenPrivacy:te,onUpgradeClick:_,inviteDockLocation:ae="header",mcpServers:S=[],onStatusChange:k,onOpenVoiceCommand:Q,activePanel:ue,onPanelChange:q,onToggleTerminal:Ie,isTerminalOpen:re,onRun:Re,onBuild:Le,isCallMinimized:ke,onToggleCallMinimize:pe,isMicOn:Y,onToggleMic:We})=>{const[Ye,fe]=a.useState(null),[Ge,Te]=a.useState(!1),[He,Be]=a.useState(!1),[Z,be]=a.useState(!1),[Ae,De]=a.useState(""),Pe=a.useRef(null);a.useEffect(()=>{const G=ne=>{Pe.current&&!Pe.current.contains(ne.target)&&(fe(null),Te(!1),be(!1))};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),a.useEffect(()=>{if(!h)return;const G={threshold:.5},ne=new IntersectionObserver(he=>{he.forEach(Ne=>{Ne.isIntersecting&&De(Ne.target.id)})},G);return Va.forEach(he=>{const Ne=document.getElementById(he.id);Ne&&ne.observe(Ne)}),()=>ne.disconnect()},[h]);const Ve=(l==null?void 0:l.plan)==="Hobby",v=G=>{switch(G){case"online":return"bg-green-500";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-500"}},z=G=>{if(h){const ne=document.getElementById(G);ne&&ne.scrollIntoView({behavior:"smooth"})}else q(G)},le=()=>{var he;const G=A.find(Ne=>Ne.label==="Edit"),ne=(he=G==null?void 0:G.items.find(Ne=>Ne.label==="Undo"))==null?void 0:he.action;ne==null||ne()},ve=()=>{var he;const G=A.find(Ne=>Ne.label==="Edit"),ne=(he=G==null?void 0:G.items.find(Ne=>Ne.label==="Redo"))==null?void 0:he.action;ne==null||ne()},je=G=>{switch(G.toLowerCase()){case"google":return e.jsx(St,{size:14,className:"text-emerald-400"});case"anthropic":return e.jsx(St,{size:14,className:"text-orange-400"});case"openai":return e.jsx(St,{size:14,className:"text-cyan-400"});default:return e.jsx(St,{size:14,className:"text-gray-500"})}},Se=a.useMemo(()=>t.find(G=>G.id===s),[t,s]);return e.jsxs("header",{ref:Pe,className:"fixed top-0 left-0 right-0 h-14 bg-[var(--color-background-nav)] border-b border-[var(--color-border)] px-3 transition-all duration-500 z-[150] select-none header-glow",children:[e.jsxs("div",{className:"max-w-[1440px] mx-auto h-full flex items-center justify-between gap-1 md:gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsx("div",{className:"flex items-center group cursor-pointer mr-1 md:mr-2",onClick:()=>h?window.scrollTo({top:0,behavior:"smooth"}):null,children:e.jsx("div",{className:"flex items-center justify-center rounded-xl transition-all duration-300 px-2 md:px-3 h-8 bg-black/20 border border-white/10 text-cyan-400 group-hover:bg-cyan-500 group-hover:text-black shadow-[0_0_15px_rgba(103,232,249,0.2)]",children:e.jsx("span",{className:"font-michroma font-bold text-[9px] md:text-[10px] tracking-widest",children:"SAI"})})}),!h&&e.jsx("button",{onClick:E,className:`flex items-center gap-2 p-1.5 rounded-lg transition-all ${p?"text-cyan-400 bg-cyan-500/10":"text-gray-500 hover:text-white hover:bg-white/5"}`,title:"Toggle Sidebar (Ctrl+B)",children:e.jsx(gn,{size:18})}),!h&&e.jsx("nav",{className:"hidden xl:flex items-center gap-0.5 ml-1",children:A.map((G,ne)=>e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>fe(Ye===ne?null:ne),className:`px-2 py-1 rounded-md text-[9px] font-black uppercase tracking-widest transition-all ${Ye===ne?"bg-white/10 text-white shadow-inner":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:G.label}),Ye===ne&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-56 bg-[#161b22] border border-white/10 rounded-xl shadow-2xl z-[200] p-1 animate-fade-in origin-top-left backdrop-blur-xl",children:G.items.map((he,Ne)=>he.divider?e.jsx("div",{className:"h-px bg-white/5 my-1 mx-1"},`div-${Ne}`):e.jsxs("button",{onClick:()=>{var qe;(qe=he.action)==null||qe.call(he),fe(null)},className:"w-full flex items-center justify-between px-3 py-2 text-xs font-bold text-gray-400 hover:text-white hover:bg-white/5 rounded-md transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[he.icon&&e.jsx("span",{className:"text-gray-500 group-hover:text-cyan-400",children:he.icon}),e.jsx("span",{children:he.label})]}),he.shortcut&&e.jsx("span",{className:"text-[9px] font-mono text-gray-600 group-hover:text-gray-500",children:he.shortcut})]},he.label))})]},G.label))})]}),e.jsx("div",{className:"flex-1 flex justify-center items-center h-full px-2 gap-4 overflow-x-auto no-scrollbar relative",children:C?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(pc,{isMicOn:Y??!0,onToggleMic:We??(()=>{}),isMinimized:ke??!1,onToggleMinimize:pe??(()=>{})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center h-full gap-0.5",children:(h?Va:xc).map(G=>{const ne=h?Ae===G.id:ue===G.id,he=!h&&Ve&&"minPlan"in G&&G.minPlan==="Pro";return e.jsxs("button",{onClick:()=>{he?_==null||_():z(G.id)},className:`h-10 px-2 md:px-4 rounded-xl flex items-center gap-2 transition-all duration-300 relative group flex-shrink-0
                                        ${ne?"text-white":"text-gray-500 hover:text-gray-300"}
                                        ${he?"opacity-60 cursor-pointer hover:bg-white/5":""}
                                    `,title:he?"Premium Feature (Upgrade to Access)":G.label,children:[e.jsx("span",{className:`${ne?"text-cyan-400":"text-gray-600 group-hover:text-gray-400"}`,children:G.icon}),e.jsx("span",{className:`text-[9px] md:text-[10px] font-black uppercase tracking-widest hidden sm:inline ${ne?"opacity-100":"opacity-60 group-hover:opacity-100"}`,children:G.label}),he&&e.jsx("div",{className:"ml-1 bg-yellow-500/10 p-0.5 rounded border border-yellow-500/20 text-yellow-500 shadow-[0_0_5px_rgba(234,179,8,0.2)]",children:e.jsx(xr,{size:8})}),ne&&e.jsx("div",{className:"absolute -bottom-[1px] left-0 right-0 h-1 bg-cyan-500/80 rounded-t-full shadow-[0_0_15px_var(--color-accent)]"})]},G.id)})}),!h&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>be(!Z),className:"flex items-center gap-2 px-3 py-1.5 bg-white/[0.03] hover:bg-white/10 border border-white/5 rounded-xl text-[10px] font-black uppercase text-gray-400 hover:text-white transition-all h-8",children:[Se&&je(Se.provider),e.jsx("span",{className:"hidden lg:inline",children:(Se==null?void 0:Se.name)||"Select Model"}),e.jsx(Vs,{size:14})]}),Z&&e.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 w-72 bg-[#161b22] border border-white/10 rounded-xl shadow-2xl z-[200] p-1.5 animate-fade-in origin-top backdrop-blur-xl",children:[t.map(G=>e.jsxs("button",{onClick:()=>{r(G.id),be(!1)},className:"w-full flex items-center justify-between px-3 py-2 text-xs font-bold text-gray-400 hover:text-white hover:bg-white/5 rounded-md transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[je(G.provider),e.jsx("span",{children:G.name})]}),G.id===s&&e.jsx(As,{size:14,className:"text-cyan-400"})]},G.id)),e.jsx("div",{className:"border-t border-white/10 mt-1.5 pt-1.5",children:e.jsxs("button",{onClick:()=>{q(I.AI_MARKETPLACE),be(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-xs font-bold text-gray-400 hover:text-white hover:bg-white/5 rounded-md transition-colors group",children:[e.jsx(kt,{size:14,className:"text-gray-500 group-hover:text-cyan-400"}),"Manage Models & Keys"]})})]})]})]})}),e.jsx("div",{className:"flex items-center gap-1 md:gap-1.5 shrink-0",children:h?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:g,className:"hidden md:block text-xs font-black uppercase text-gray-400 hover:text-white transition-colors tracking-widest",children:"Sign In"}),e.jsxs("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-500 text-white font-black text-[9px] md:text-[10px] uppercase tracking-[0.2em] px-3 md:px-5 py-2 md:py-2.5 rounded-xl transition-all shadow-[0_0_20px_rgba(37,99,235,0.3)] flex items-center gap-2 active:scale-95 border border-white/10",children:[e.jsx(ms,{size:14,fill:"currentColor"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Launch Beta"}),e.jsx("span",{className:"sm:hidden",children:"Beta"})]}),e.jsx("button",{onClick:()=>Be(!He),className:"lg:hidden p-1.5 text-gray-400 hover:text-white bg-white/5 rounded-lg border border-white/5",children:He?e.jsx(Ue,{size:18}):e.jsx(bi,{size:18})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:flex items-center h-8 px-2 border-x border-white/5 mx-1 gap-1 bg-white/[0.02] rounded-xl",children:[e.jsx("button",{onClick:le,className:"p-1.5 rounded-lg text-gray-500 hover:text-white hover:bg-white/5",title:"Undo (Ctrl+Z)",children:e.jsx(pr,{size:14})}),e.jsx("button",{onClick:ve,className:"p-1.5 rounded-lg text-gray-500 hover:text-white hover:bg-white/5",title:"Redo (Ctrl+Y)",children:e.jsx(hr,{size:14})}),e.jsx("div",{className:"w-px h-3 bg-white/10 mx-1"}),e.jsxs("button",{onClick:Ie,className:`flex items-center gap-2 px-2 py-1 rounded-lg transition-all ${re?"text-cyan-400 bg-cyan-500/10 shadow-inner border border-cyan-500/20":"text-gray-500 hover:text-white hover:bg-white/5"}`,title:"Toggle Terminal (Ctrl+J)",children:[e.jsx(ut,{size:14}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest hidden xl:inline",children:"Terminal"})]}),e.jsx("div",{className:"w-px h-3 bg-white/10 mx-1"}),e.jsx("button",{onClick:Re,className:"p-1.5 rounded-lg text-emerald-400 hover:bg-emerald-500/10 transition-all",title:"Run Active File",children:e.jsx(Ks,{size:14,fill:"currentColor"})})]}),e.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1 bg-white/[0.03] rounded-xl p-0.5 border border-white/5 h-9",children:[e.jsx("button",{onClick:Q,className:"hidden sm:flex p-1.5 rounded-lg text-gray-500 hover:text-white hover:bg-white/5 transition-all",children:e.jsx(Ys,{size:16})}),e.jsxs("button",{onClick:f,className:`flex items-center gap-2 px-2 md:px-3 py-1.5 rounded-lg transition-all ${b?"text-cyan-400 bg-cyan-500/10 shadow-inner border border-cyan-500/20":"text-gray-500 hover:text-white hover:bg-white/5"}`,title:"AI Co-pilot (Ctrl+I)",children:[e.jsx(hi,{size:18}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest hidden md:inline",children:"Chat"})]})]}),l&&e.jsxs("div",{className:"relative ml-1",children:[e.jsxs("button",{onClick:()=>Te(!Ge),className:"h-8 w-8 md:h-9 md:w-9 rounded-xl bg-gradient-to-tr from-slate-700 to-slate-900 border border-white/10 flex items-center justify-center text-[10px] font-black text-white relative group transition-transform active:scale-95",children:[l.initials,e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 md:w-3 md:h-3 rounded-full border-2 border-[#0b0e14] ${v(l.status)}`})]}),Ge&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-[#161b22] border border-white/10 rounded-xl shadow-2xl z-[200] p-1.5 animate-fade-in origin-top-right backdrop-blur-xl",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-1.5",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-500 uppercase tracking-[0.2em] mb-1",children:"Authenticated Identity"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs font-bold text-white",children:l.name}),e.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-0.5 rounded-full ${Ve?"bg-white/5 text-gray-400":"bg-cyan-500 text-black shadow-lg"}`,children:l.plan})]})]}),e.jsxs("div",{className:"px-3 py-2 space-y-1",children:[e.jsx(Ka,{icon:e.jsx(gi,{size:14}),label:"Identity Profile",onClick:()=>{U==null||U(),Te(!1)}}),e.jsx(Ka,{icon:e.jsx(va,{size:14}),label:"Billing Registry",onClick:()=>{me==null||me(),Te(!1)}}),e.jsx(Ka,{icon:e.jsx(Sa,{size:14}),label:"Security Shield",onClick:()=>{te==null||te(),Te(!1)}}),e.jsx("div",{className:"h-px bg-white/5 my-2 mx-1"}),e.jsxs("button",{onClick:()=>{j(),Te(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-xs font-bold text-red-400 hover:bg-red-500/10 rounded-md transition-colors",children:[e.jsx(fi,{size:14})," Terminate Session"]})]})]})]})]})})]}),h&&He&&e.jsxs("div",{className:"fixed inset-0 bg-[#0b0e14]/95 backdrop-blur-xl z-[200] lg:hidden animate-fade-in flex flex-col p-10 pt-20",children:[e.jsx("button",{onClick:()=>Be(!1),className:"absolute top-6 right-6 p-2 text-gray-400 hover:text-white bg-white/5 rounded-xl border border-white/5",children:e.jsx(Ue,{size:24})}),e.jsx("nav",{className:"flex flex-col gap-6",children:Va.map(G=>e.jsxs("button",{onClick:()=>{z(G.id),Be(!1)},className:"text-left flex items-center gap-4 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-gray-500 group-hover:text-cyan-400 transition-all border border-white/5",children:G.icon}),e.jsx("span",{className:"text-2xl font-black text-gray-400 group-hover:text-white tracking-widest doodle-text uppercase",children:G.label})]},G.id))}),e.jsxs("div",{className:"mt-auto pt-10 border-t border-white/5 flex flex-col gap-4",children:[e.jsx("button",{onClick:g,className:"w-full py-4 text-sm font-black text-gray-400 uppercase tracking-widest",children:"Sign In"}),e.jsx("button",{onClick:g,className:"w-full py-5 bg-blue-600 text-white font-black uppercase tracking-widest rounded-2xl shadow-xl shadow-blue-900/20",children:"Launch Beta"})]})]})]})},Ka=({icon:t,label:s,onClick:r,className:c})=>e.jsxs("button",{type:"button",onClick:r,className:`w-full text-left px-3 py-2 text-[11px] font-bold flex items-center gap-3 hover:bg-white/5 text-gray-400 hover:text-white rounded-md transition-all group ${c}`,children:[e.jsx("span",{className:"text-gray-500 group-hover:text-cyan-400 transition-colors",children:t}),e.jsx("span",{className:"tracking-tight",children:s})]}),gc=({size:t=24,className:s=""})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[e.jsx("rect",{x:"8",y:"20",width:"18",height:"18",rx:"3",stroke:"currentColor",strokeWidth:"4"}),e.jsx("rect",{x:"8",y:"40",width:"18",height:"18",rx:"3",stroke:"currentColor",strokeWidth:"4"}),e.jsx("rect",{x:"28",y:"40",width:"18",height:"18",rx:"3",stroke:"currentColor",strokeWidth:"4"}),e.jsx("rect",{x:"38",y:"12",width:"18",height:"18",rx:"3",stroke:"currentColor",strokeWidth:"4"})]}),fc=({size:t=20,className:s=""})=>e.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("path",{d:"M6 5v14"}),e.jsx("path",{d:"M12 5v8"}),e.jsx("path",{d:"M18 5v11"})]}),bc=[{label:"Core",items:[{id:I.FILES,icon:e.jsx(wi,{size:20}),label:"Explorer",minPlan:"Hobby"},{id:I.SEARCH,icon:e.jsx(Is,{size:20}),label:"Search",minPlan:"Hobby"},{id:I.SOURCE_CONTROL,icon:e.jsx(Pt,{size:20}),label:"Source Control",minPlan:"Hobby"}]},{label:"Engineering",items:[{id:I.DEBUG,icon:e.jsx(br,{size:20}),label:"Run & Debug",minPlan:"Pro"},{id:I.TESTING,icon:e.jsx(vi,{size:20}),label:"Testing & QA",minPlan:"Pro"},{id:I.API_STUDIO,icon:e.jsx(Qa,{size:20}),label:"API Studio",minPlan:"Pro"},{id:I.DATABASE,icon:e.jsx(wa,{size:20}),label:"Databases",minPlan:"Pro"}]},{label:"Cloud & Ops",items:[{id:I.TERRAFORM,icon:e.jsx(Ut,{size:20}),label:"Terraform IaC",minPlan:"Pro"},{id:I.DOCKER,icon:e.jsx(Cs,{size:20}),label:"Container Studio",minPlan:"Pro"},{id:I.SECURITY,icon:e.jsx(Qt,{size:20}),label:"Security & Governance",minPlan:"Pro"},{id:I.DEPLOYMENT,icon:e.jsx(ms,{size:20}),label:"Deployment Center",minPlan:"Pro"}]},{label:"Studio & Collab",items:[{id:I.EXTENSIONS,icon:e.jsx(gc,{size:20}),label:"Extensions",minPlan:"Hobby"},{id:I.TEAM,icon:e.jsx(ji,{size:20}),label:"Team",minPlan:"Pro"},{id:I.KANBAN,icon:e.jsx(fc,{size:20}),label:"Tasks",minPlan:"Pro"},{id:I.DOCUMENT,icon:e.jsx(Ni,{size:20}),label:"Document Studio",minPlan:"Pro"},{id:I.RECORDER,icon:e.jsx(fn,{size:20}),label:"Screen Recorder",minPlan:"Pro"},{id:I.WHITEBOARD,icon:e.jsx(yr,{size:20}),label:"Whiteboard",minPlan:"Pro"},{id:I.INTEGRATIONS,icon:e.jsx(ki,{size:20}),label:"Integrations",minPlan:"Pro"}]},{label:"Intelligence",items:[{id:I.AI_MARKETPLACE,icon:e.jsx(Si,{size:20}),label:"Model Marketplace",minPlan:"Hobby"},{id:I.PERSONAS,icon:e.jsx(Za,{size:20}),label:"AI Personas",minPlan:"Pro"},{id:I.ML_STUDIO,icon:e.jsx(Ws,{size:20}),label:"ML Studio",minPlan:"Pro"},{id:I.STITCH_STUDIO,icon:e.jsx(Ci,{size:20}),label:"UX Studio",minPlan:"Hobby"}]}],yc=({activePanel:t,onPanelChange:s,userPlan:r="Hobby",onRestrictedClick:c,pendingChangesCount:l=0})=>{const g=r==="Hobby",j=x=>{g&&x.minPlan!=="Hobby"?c(x.label):s(x.id)};return e.jsxs("nav",{className:"h-full w-14 bg-[var(--color-background-nav)] border-r border-[var(--color-border)] flex flex-col py-2 flex-shrink-0 relative select-none z-50",children:[e.jsx("div",{className:"flex-1 w-full overflow-y-auto no-scrollbar flex flex-col items-center space-y-4",children:bc.map((x,h)=>e.jsxs("div",{className:"w-full flex flex-col items-center gap-1 pb-2",children:[h!==0&&e.jsx("div",{className:"w-6 h-px bg-white/5 mb-2"}),x.items.map(b=>{const f=t===b.id,p=g&&b.minPlan!=="Hobby";return e.jsxs("button",{onClick:()=>j(b),title:p?`${b.label} (Pro Only)`:b.label,className:`relative flex items-center justify-center w-10 h-10 rounded-lg transition-all flex-shrink-0 group
                                ${f?"bg-[#0891b233] text-[#0891b2] shadow-[0_0_10px_rgba(8,145,178,0.2)]":p?"text-gray-600 hover:text-gray-400 hover:bg-white/5":"text-gray-500 hover:text-white hover:bg-white/5"}`,children:[b.icon,f&&e.jsx("span",{className:"absolute left-0 w-[2px] h-4 bg-[#0891b2] rounded-r-full"}),p&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-[#101820] p-0.5 rounded-full border border-white/5 text-gray-500 group-hover:text-yellow-500 transition-colors scale-75",children:e.jsx(xr,{size:10})}),b.id===I.SOURCE_CONTROL&&l>0&&!p&&e.jsx("div",{className:"absolute -top-1 -right-1 min-w-[16px] h-4 px-1 bg-blue-500 text-white text-[9px] font-black rounded-full flex items-center justify-center border border-blue-400 shadow-lg",children:l>99?"99+":l}),e.jsxs("div",{className:"absolute left-full ml-2 px-2 py-1 bg-black/90 text-white text-[10px] font-bold rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-[100] transition-opacity border border-white/10 translate-x-2 group-hover:translate-x-0",children:[b.label," ",p&&"(Pro)"," ",b.id===I.SOURCE_CONTROL&&l>0&&`(${l})`]})]},b.id)})]},h))}),e.jsxs("div",{className:"flex flex-col items-center flex-shrink-0 pt-2 border-t border-[var(--color-border)]/20 w-full gap-1",children:[e.jsxs("button",{onClick:()=>s(I.HELP),title:"Help & Docs",className:`relative flex items-center justify-center w-10 h-10 rounded-lg transition-all group
              ${t===I.HELP?"bg-[#0891b233] text-[#0891b2]":"text-gray-500 hover:text-white hover:bg-white/5"}`,children:[e.jsx(un,{size:20}),t===I.HELP&&e.jsx("span",{className:"absolute left-0 w-[2px] h-4 bg-[#0891b2] rounded-r-full"})]}),e.jsxs("button",{onClick:()=>s(I.SETTINGS),title:"Settings",className:`relative flex items-center justify-center w-10 h-10 rounded-lg transition-all group
              ${t===I.SETTINGS?"bg-[#0891b233] text-[#0891b2]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(kt,{size:20}),t===I.SETTINGS&&e.jsx("span",{className:"absolute left-0 w[2px] h-4 bg-[#0891b2] rounded-r-full"})]})]}),e.jsx("style",{children:`
          .no-scrollbar::-webkit-scrollbar { display: none; }
          .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})},wc=t=>{const s=t.toLowerCase();return s.endsWith(".py")||s.endsWith(".js")||s.endsWith(".ts")||s.endsWith(".sh")||s.endsWith(".go")||s.endsWith(".rs")||s.endsWith(".rb")},dr=t=>{const s=t.toLowerCase();return s==="dockerfile"?lt.DOCKERFILE:s.endsWith(".ts")||s.endsWith(".tsx")?lt.TS_FILE:s.endsWith(".js")||s.endsWith(".jsx")?lt.JS_FILE:s.endsWith(".json")?lt.JSON_FILE:s.endsWith(".py")?lt.PYTHON_FILE:s.endsWith(".yaml")||s.endsWith(".yml")?lt.YAML_FILE:s.endsWith(".html")?lt.HTML_FILE:s.endsWith(".css")?lt.CSS_FILE:s.endsWith(".go")?e.jsx(Ut,{size:16,className:"text-cyan-400"}):s.endsWith(".rs")?e.jsx(kt,{size:16,className:"text-orange-400"}):s.endsWith(".java")?e.jsx(dn,{size:16,className:"text-red-400"}):s.endsWith(".c")||s.endsWith(".cpp")?e.jsx(ga,{size:16,className:"text-purple-400"}):lt.DEFAULT_FILE},Fn=({node:t,securityIssues:s,path:r,onContextMenu:c,...l})=>{const[g,j]=a.useState(!0),[x,h]=a.useState(t.name),[b,f]=a.useState(!1),p=a.useRef(null);a.useEffect(()=>{l.collapseAllTrigger>0&&j(!1)},[l.collapseAllTrigger]),a.useEffect(()=>{t.isRenaming&&(h(t.name),setTimeout(()=>{var k;return(k=p.current)==null?void 0:k.focus()},50))},[t.isRenaming,t.name]);const E=t.type==="folder",C=!E&&l.activeFile&&l.activeFile.name===t.name,A=!E&&s.some(k=>k.file===t.name),U=()=>E?j(!g):l.onFileSelect(t,r),me=k=>{k.dataTransfer.setData("sourceNodeName",t.name),k.dataTransfer.effectAllowed="move"},te=k=>{E&&(k.preventDefault(),f(!0),k.dataTransfer.dropEffect="move")},_=()=>f(!1),ae=k=>{if(E){k.preventDefault(),f(!1);const Q=k.dataTransfer.getData("sourceNodeName");Q&&Q!==t.name&&l.onMoveNode(Q,t.name)}},S=k=>{k.preventDefault(),k.stopPropagation(),c(k,t,r)};return t.isRenaming?e.jsxs("div",{className:"flex items-center p-1 rounded-md text-sm",style:{paddingLeft:`${l.level*1.25}rem`},children:[E?lt.FOLDER:dr(x),e.jsx("input",{ref:p,type:"text",value:x,onChange:k=>h(k.target.value),onKeyDown:k=>{k.key==="Enter"&&l.onRenameFile(t.name,x),k.key==="Escape"&&l.onRenameFile(t.name,t.name)},onBlur:()=>{x.trim()?l.onRenameFile(t.name,x):l.onDeleteFile(r,!0)},className:"ml-1 w-full bg-[var(--color-background-hover)] border border-[var(--color-accent)] rounded-md py-0 px-1 text-sm focus:outline-none text-white",autoFocus:!0})]}):e.jsxs("div",{children:[e.jsxs("div",{draggable:!0,onDragStart:me,onDragOver:te,onDragLeave:_,onDrop:ae,onClick:U,onContextMenu:S,className:`flex items-center justify-between p-1 rounded-md cursor-pointer text-sm group pr-2 transition-colors 
                    ${C?"bg-[var(--color-selection)]/20 text-[var(--color-text-accent)] border-l-2 border-[var(--color-accent)]":"hover:bg-[var(--color-background-tertiary)] border-l-2 border-transparent text-[var(--color-text-primary)]"}
                    ${b?"bg-[var(--color-accent)]/10 ring-1 ring-[var(--color-accent)]/30":""}
                `,style:{paddingLeft:`${C?l.level*1.25-.125:l.level*1.25}rem`},children:[e.jsxs("div",{className:"flex items-center truncate flex-1 min-w-0 pointer-events-none",children:[E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-1 transition-transform duration-200 flex-shrink-0 flex items-center justify-center",children:g?e.jsx(Vs,{size:14}):e.jsx(Ts,{size:14})}),lt.FOLDER]}):e.jsx("div",{className:"w-4 h-4 mr-1 flex-shrink-0 flex items-center justify-center",children:dr(t.name)}),e.jsx("span",{className:"ml-1 truncate",children:t.name}),A&&e.jsx(zi,{size:12,className:"text-red-500 ml-2 animate-pulse",title:"Governance Violation Detected"})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 flex-shrink-0",children:[e.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),l.onStartRenaming(t.name)},className:`p-1 hover:text-white transition-opacity ${C?"text-[var(--color-text-accent)]":"text-gray-400"}`,children:e.jsx(bn,{size:12})}),e.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),l.onDeleteFile(r)},className:`p-1 hover:text-red-400 transition-opacity ${C?"text-[var(--color-text-accent)]":"text-gray-400"}`,title:"Delete",children:e.jsx(Wt,{size:12})})]})]}),E&&g&&t.children&&e.jsx("div",{children:t.children.map((k,Q)=>e.jsx(Fn,{node:k,securityIssues:s||[],...l,level:l.level+1,path:`${r}/${k.name}`,onContextMenu:c},`${k.name}-${Q}`))})]})},vc=({rootNode:t,onFileSelect:s,onNewFile:r,onNewFolder:c,onRefresh:l,onSaveToGithub:g,onBuild:j,onRenameFile:x,onStartRenaming:h,onDeleteFile:b,onMoveNode:f,collaborationState:p={},teamMembers:E=[],activeFile:C,onCollapse:A,securityIssues:U=[],onOpenDocuments:me,onPanelChange:te,onOpenInTerminal:_,onRunFile:ae,onCopyPath:S,terminalCwd:k})=>{var Be;const[Q,ue]=a.useState(""),[q,Ie]=a.useState(""),[re,Re]=a.useState(0),[Le,ke]=a.useState(!1),[pe,Y]=a.useState(null),[We,Ye]=a.useState(null);a.useEffect(()=>{if(We){const Z=setTimeout(()=>Ye(null),2e3);return()=>clearTimeout(Z)}},[We]),a.useEffect(()=>{const Z=setTimeout(()=>{Ie(Q)},300);return()=>clearTimeout(Z)},[Q]),a.useEffect(()=>{const Z=()=>Y(null);return window.addEventListener("click",Z),()=>window.removeEventListener("click",Z)},[]);const fe=a.useMemo(()=>{var Ae;if(!q)return t;const Z=(De,Pe)=>{var v;const Ve=Pe.toLowerCase();if(De.type==="file")return De.name.toLowerCase().includes(Ve)?De:null;if(De.type==="folder"){const z=(v=De.children)==null?void 0:v.map(le=>Z(le,Pe)).filter(le=>le!==null);if(De.name.toLowerCase().includes(Ve)||z&&z.length>0)return{...De,children:z}}return null},be=(Ae=t.children)==null?void 0:Ae.map(De=>Z(De,q)).filter(De=>De!==null);return{...t,children:be}},[t,q]),Ge=a.useMemo(()=>{const Z=Pe=>{let Ve=Pe.type==="file"?1:0;return Pe.children&&Pe.children.forEach(v=>Ve+=Z(v)),Ve},be=Z(t),Ae=(U==null?void 0:U.length)||0,De=be>0?Math.max(0,Math.round((be-Ae)/be*100)):100;return{fileCount:be,issueCount:Ae,integrity:De}},[t,U]),Te=Z=>{Z.stopPropagation(),ke(!0),l(),setTimeout(()=>ke(!1),800)},He=(Z,be,Ae)=>{Y({visible:!0,x:Z.clientX,y:Z.clientY,node:be,path:Ae})};return e.jsxs("div",{className:"p-0 h-full flex flex-col bg-[var(--color-background-secondary)] text-[var(--color-text-primary)] relative",children:[e.jsxs("div",{className:"p-3 bg-black/20 border-b border-white/5 flex items-center justify-between gap-2 overflow-x-auto no-scrollbar",children:[e.jsxs("div",{className:"flex flex-col items-start gap-1 p-2 sketch-border bg-white/[0.03]",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-500 uppercase tracking-widest",children:"Files"}),e.jsx("span",{className:"text-xs font-black text-white",children:Ge.fileCount})]}),e.jsx("div",{className:"w-px h-6 bg-white/5"}),e.jsxs("div",{className:"flex flex-col items-start gap-1 p-2 sketch-border bg-white/[0.03]",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-500 uppercase tracking-widest",children:"Security"}),e.jsx("span",{className:`text-xs font-black ${Ge.issueCount>0?"text-rose-400":"text-emerald-400"}`,children:Ge.issueCount})]}),e.jsx("div",{className:"w-px h-6 bg-white/5"}),e.jsxs("div",{className:"flex flex-col items-start gap-1 p-2 sketch-border bg-white/[0.03]",children:[e.jsx("span",{className:"text-[8px] font-black text-gray-500 uppercase tracking-widest",children:"Integrity"}),e.jsxs("span",{className:`text-xs font-black ${Ge.integrity<80?"text-amber-400":"text-emerald-400"}`,children:[Ge.integrity,"%"]})]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{onClick:A,className:"p-1.5 rounded-lg hover:bg-white/5 text-gray-500 transition-all hover:text-white transform active:scale-90",title:"Hide Explorer",children:e.jsx(ln,{size:16})})]}),k&&e.jsxs("div",{className:"px-3 py-2 bg-cyan-500/5 border-b border-cyan-500/10 flex items-center gap-2 overflow-hidden",children:[e.jsx(ut,{size:12,className:"text-cyan-400 shrink-0"}),e.jsx("span",{className:"text-[9px] font-bold text-cyan-400/80 uppercase tracking-wider shrink-0",children:"Terminal:"}),e.jsx("span",{className:"text-[10px] text-gray-400 truncate font-mono",title:k,children:k})]}),We&&e.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-emerald-500/90 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg",children:[e.jsx(er,{size:12}),"Path copied!"]})}),e.jsxs("div",{className:"flex justify-between items-center p-3 flex-shrink-0",children:[e.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--color-text-secondary)]",children:"Explorer"}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),r()},title:"New File",className:"p-1.5 hover:bg-white/5 rounded-md text-gray-400 hover:text-white transition-all transform active:scale-90",children:lt.NEW_FILE}),e.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),c()},title:"New Folder",className:"p-1.5 hover:bg-white/5 rounded-md text-gray-400 hover:text-white transition-all transform active:scale-90",children:lt.NEW_FOLDER}),e.jsx("button",{onClick:Te,className:`p-1.5 rounded-md hover:bg-white/5 text-gray-400 hover:text-white transition-all transform active:scale-90 ${Le?"animate-spin text-cyan-400":""}`,title:"Refresh",children:e.jsx(Es,{size:18})}),e.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),j()},title:"Build Project",className:"p-1.5 hover:bg-white/5 rounded-md text-gray-400 hover:text-[var(--color-accent)] transition-all transform active:scale-90",children:lt.BUILD}),e.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),Re(be=>be+1)},title:"Collapse All",className:"p-1.5 hover:bg-white/5 rounded-md text-gray-400 hover:text-white transition-all transform active:scale-90",children:lt.COLLAPSE_ALL})]})]}),e.jsx("div",{className:"px-3 pb-3 flex-shrink-0",children:e.jsxs("div",{className:"relative group",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2.5 text-gray-500 group-focus-within:text-[var(--color-accent)] transition-colors",children:e.jsx(Is,{size:12})}),e.jsx("input",{type:"text",placeholder:"Find in workspace...",value:Q,onChange:Z=>ue(Z.target.value),className:"w-full bg-black/20 border border-white/5 rounded-lg py-1.5 pl-8 pr-2 text-xs focus:outline-none focus:border-[var(--color-accent)] transition-all placeholder-gray-600"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-2 pb-6 custom-scrollbar",children:(Be=fe.children)==null?void 0:Be.map((Z,be)=>e.jsx(Fn,{node:Z,onFileSelect:s,level:0,collapseAllTrigger:re,onRenameFile:x,onStartRenaming:h,onDeleteFile:b,onMoveNode:f,activeFile:C,securityIssues:U||[],path:Z.name,onContextMenu:He},`${Z.name}-${be}`))}),pe&&e.jsxs("div",{className:"fixed z-[1000] min-w-[200px] bg-[#1a1f2e]/95 backdrop-blur-xl border-4 border-white/10 sketch-border shadow-2xl p-1.5 animate-fade-in ring-1 ring-cyan-500/20",style:{left:pe.x,top:pe.y},onClick:Z=>Z.stopPropagation(),children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 mb-1 flex items-center gap-2 overflow-hidden",children:[e.jsx("div",{className:"shrink-0",children:pe.node.type==="folder"?e.jsx(Ts,{size:14,className:"text-blue-400"}):dr(pe.node.name)}),e.jsx("span",{className:"text-[10px] font-black text-gray-300 uppercase truncate tracking-widest",children:pe.node.name})]}),e.jsx(os,{icon:e.jsx(ut,{size:14,className:"text-cyan-400"}),label:"Open in Terminal",shortcut:"T",onClick:()=>{_==null||_(pe.path),Y(null)}}),pe.node.type==="file"&&wc(pe.node.name)&&e.jsx(os,{icon:e.jsx(Ks,{size:14,className:"text-green-400"}),label:"Run File",shortcut:"",onClick:()=>{ae==null||ae(pe.path),Y(null)}}),e.jsx(os,{icon:e.jsx(ls,{size:14,className:"text-blue-400"}),label:pe.node.type==="folder"?"Reveal in Explorer":"Open to the Side",onClick:()=>Y(null)}),e.jsx("div",{className:"h-px bg-white/5 my-1 mx-1"}),e.jsx(os,{icon:e.jsx(er,{size:14,className:"text-gray-400"}),label:"Copy Path",shortcut:"C",onClick:()=>{S==null||S(pe.path,!1),navigator.clipboard.writeText(pe.path),Ye(pe.path),Y(null)}}),e.jsx(os,{icon:e.jsx($t,{size:14,className:"text-gray-400"}),label:"Copy Relative Path",onClick:()=>{S==null||S(pe.path,!0),navigator.clipboard.writeText(pe.path),Ye(pe.path),Y(null)}}),e.jsx("div",{className:"h-px bg-white/5 my-1 mx-1"}),e.jsx(os,{icon:e.jsx(bn,{size:14,className:"text-amber-400"}),label:"Rename",shortcut:"F2",onClick:()=>{h(pe.node.name),Y(null)}}),e.jsx(os,{icon:e.jsx(Wt,{size:14,className:"text-rose-500"}),label:"Delete",shortcut:"",onClick:()=>{b(pe.path),Y(null)},className:"text-rose-400 hover:bg-rose-500/10"})]})]})},os=({icon:t,label:s,onClick:r,className:c,shortcut:l})=>e.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-xs font-bold text-gray-400 hover:text-white hover:bg-white/5 transition-all group ${c}`,children:[e.jsx("span",{className:"group-hover:scale-110 transition-transform",children:t}),e.jsx("span",{className:"flex-1 text-left",children:s}),l&&e.jsx("span",{className:"text-[9px] text-gray-600 font-mono",children:l})]}),ba=async(t,s=3,r=1e3)=>{var c;try{return await t()}catch(l){const g=l.status===429||l.status>=500&&l.status<600||((c=l.message)==null?void 0:c.includes("quota"));if(s>0&&g){const j=l.status===429?r*2:r;return await new Promise(x=>setTimeout(x,j)),ba(t,s-1,r*2)}throw l}},Xt=t=>{try{return JSON.parse(t),t}catch{let r=t.replace(/```json/g,"").replace(/```/g,"").trim();const c=Math.min(r.indexOf("{")===-1?1/0:r.indexOf("{"),r.indexOf("[")===-1?1/0:r.indexOf("[")),l=Math.max(r.lastIndexOf("}"),r.lastIndexOf("]"));return c!==1/0&&l!==-1?r.substring(c,l+1):r}},ya=()=>{const t=typeof localStorage<"u"?localStorage.getItem("sai_gemini_api_key"):null;return t||"AIzaSyBjI2MaChsNJKQvyQElqByfDoWHtqtRuH0"},at=async t=>{var te;const{contents:s,model:r,systemInstruction:c,useThinking:l,useMaps:g,useGoogleSearch:j,location:x,responseMimeType:h,responseSchema:b,abortSignal:f,tools:p}=t,E=ya();if(!E)throw new Error("No API key configured. Please add your Gemini API key in Settings > AI Providers.");const C=new nr({apiKey:E});let A=r;!r.startsWith("gemini")&&!r.startsWith("veo")&&!r.startsWith("imagen")&&(A="gemini-3-pro-preview");const U={systemInstruction:c,responseMimeType:h,responseSchema:b};if(l&&(A.includes("gemini-3")||A.includes("gemini-2.5"))){const _=A.includes("gemini-3-pro")?32768:24576;U.thinkingConfig={thinkingBudget:_}}const me=[];g&&me.push({googleMaps:{}}),j&&me.push({googleSearch:{}}),p&&p.length>0&&me.push({functionDeclarations:p}),me.length>0&&(U.tools=me),(g||j)&&x&&(U.toolConfig={retrievalConfig:{latLng:x}});try{return await ba(()=>C.models.generateContent({model:A,contents:s,config:U,signal:f}))}catch(_){const ae=_.status===429||((te=_.message)==null?void 0:te.includes("quota"));if(ae&&A.includes("pro")){const S="gemini-3-flash-preview";return console.warn(`Quota exceeded for ${A}. Falling back to ${S}`),await ba(()=>C.models.generateContent({model:S,contents:s,config:{...U,thinkingConfig:void 0},signal:f}))}if(ae&&A.includes("flash")&&!A.includes("lite")){const S="gemini-flash-lite-latest";return console.warn(`Flash quota exceeded. Trying Lite fallback: ${S}`),await ba(()=>C.models.generateContent({model:S,contents:s,config:U,signal:f}))}throw _}},Qr=async t=>{var te,_,ae,S;const{prompt:s,modelId:r,systemInstruction:c,useThinking:l,useMaps:g,useGoogleSearch:j,location:x,abortSignal:h,functionResponses:b,responseMimeType:f,responseSchema:p,attachments:E}=t;if(r==="google-opal"){const k=`You are the Sai App Engine.
        Your goal is to synthesize fully functional, high-fidelity applications and games within the Sai ecosystem.
        
        CRITICAL: Create a NEW, dedicated file structure for every user request.
        
        When a user asks to build an app or game:
        1. Analyze the requirements deeply.
        2. Generate a complete, production-ready codebase (HTML, CSS, JS/TS).
        3. Ensure it runs immediately in the Sai Live Synthesis runtime.
        4. Return a JSON response with:
        {
          "text": "Detailed explanation of the synthesized architecture from Sai.",
          "appPlan": {
            "svgPreview": "A visual representation of the architecture",
            "files": [
              { "fileName": "index.html", "content": "Full HTML" },
              { "fileName": "style.css", "content": "Full CSS" },
              { "fileName": "main.js", "content": "Full JS" }
            ]
          }
        }`;try{const Q=await at({model:"gemini-3-pro-preview",contents:[{parts:[{text:s||""}]}],systemInstruction:k,responseMimeType:"application/json"}),ue=JSON.parse(Xt(Q.text||"{}"));return{text:ue.text||"Sai synthesis complete. Manifesting application core...",appPlan:ue.appPlan}}catch(Q){return{text:`Sai Engine Synthesis Error: ${Q.message}`}}}const C=c||"You are Sai, a helpful AI assistant specialized in software development, cloud infrastructure, and security.",A=[],U=[];s&&U.push({text:s}),E&&E.length>0&&E.forEach(k=>{U.push({inlineData:{data:k.data,mimeType:k.mimeType}})}),U.length>0&&A.push({parts:U}),b&&b.length>0&&b.forEach(k=>{A.push({parts:[{functionResponse:k}]})});const me=await jc(t.mcpServers||[]);try{const k=await at({model:r,contents:A,systemInstruction:C,useThinking:l,useMaps:g,useGoogleSearch:j,location:x,responseMimeType:f,responseSchema:p,abortSignal:h,tools:me});return{text:k.text||"",groundingChunks:((ae=(_=(te=k.candidates)==null?void 0:te[0])==null?void 0:_.groundingMetadata)==null?void 0:ae.groundingChunks)||[],functionCalls:k.functionCalls||[]}}catch(k){if(k.name==="AbortError")throw k;return console.error("getChatResponse error:",k),k.status===429||(S=k.message)!=null&&S.includes("quota")?{text:"I have temporarily reached the limit of my neural capacity. Please wait a moment for the Sai buffers to clear."}:{text:`My neural link is momentarily unstable. Error: ${k.message}. Please try again.`}}},jc=async t=>{const s=[];for(const r of t)r.status==="connected"&&(await is.listTools(r.id)).forEach(l=>{s.push({name:l.name,description:l.description||`Tool provided by ${r.name}`,parameters:{type:Us.OBJECT,properties:l.inputSchema.properties,required:l.inputSchema.required}})});return s},ka={getChatResponse:Qr,extractJson:Xt,getTerminalAiResponse:async(t,s)=>{const r="You are Sai, an AI integrated directly into a shell terminal. Interpret user intent and provide helpful, concise shell-ready responses.";try{return(await Qr({prompt:`Interpret: "${t}"`,modelId:"gemini-3-flash-preview",systemInstruction:r})).text||"Command analysis inconclusive."}catch{return"Terminal AI logic fault detected."}},synthesizeInlineGhost:async(t,s,r)=>{const c=`Synthesize code for ${r} in Sai: "${t}". Context: ${s}`;return(await at({contents:[{parts:[{text:c}]}],model:"gemini-3-flash-preview"})).text||""},getBoilerplate:async(t,s)=>{const r=`Generate production-ready Sai boilerplate for "${t}". Raw code only.`;return(await at({contents:[{parts:[{text:r}]}],model:s||"gemini-3-flash-preview"})).text||`// Sai Boilerplate for ${t}
`},generateTerraform:async(t,s,r,c)=>[{fileName:"main.tf",content:(await at({contents:[{parts:[{text:s}]}],model:r})).text||""}],analyzeInfrastructure:async(t,s)=>{const r=`Analyze the following Infrastructure as Code (Terraform/HCL) and provide:
1. A monthly cost estimate (be realistic based on typical AWS/GCP/Azure pricing)
2. Security assessment - identify any security risks or compliance issues
3. A breakdown of costs by resource type

Code to analyze:
${t}

Return a JSON object with:
- "costEstimate": string like "$150-200/month"
- "securityStatus": either "safe" or "risk"
- "costBreakdown": array of { resource: string, estimate: string }
- "securityNotes": array of strings describing any security concerns`,c=await at({contents:[{parts:[{text:r}]}],model:s,responseMimeType:"application/json"});try{const l=JSON.parse(Xt(c.text||"{}"));return{costEstimate:l.costEstimate||"$50-100/month",securityStatus:l.securityStatus||"safe",costBreakdown:l.costBreakdown||[],securityNotes:l.securityNotes||[]}}catch{return{costEstimate:"$50-100/month",securityStatus:"safe",costBreakdown:[],securityNotes:[]}}},generateDockerfile:async(t,s,r)=>(await at({contents:[{parts:[{text:t}]}],model:s})).text||"FROM scratch",optimizeDockerfile:async(t,s)=>{const r=await at({contents:[{parts:[{text:t}]}],model:s,responseMimeType:"application/json"});try{return JSON.parse(Xt(r.text||"{}"))}catch{return{content:t,explanation:"Optimization failed."}}},getCodeSuggestions:async(t,s,r)=>{const c=await at({contents:[{parts:[{text:t}]}],model:r,responseMimeType:"application/json"});try{return JSON.parse(Xt(c.text||"[]"))}catch{return[]}},analyzeTerminalError:async(t,s)=>{const r=`You are a Self-Healing Runtime AI that analyzes terminal errors and provides automated fixes.
Your role is to:
1. Identify the root cause of the error
2. Explain the issue in simple terms
3. Provide a specific fix
4. Generate an executable command that will resolve the issue

Respond ONLY with valid JSON in this exact format:
{
  "issue": "Brief description of what caused the error",
  "fix": "Step-by-step explanation of how to fix it",
  "command": "The exact shell command to run (leave empty if no single command can fix it)"
}

Common fixes:
- Missing npm packages: npm install <package>
- Permission errors: chmod or sudo
- Missing files: touch or mkdir
- Git conflicts: git merge --abort or git stash
- Module not found: npm install or pip install
- Port in use: lsof -ti:PORT | xargs kill
- Node version issues: nvm use <version>`,c=`Analyze this terminal error and provide a fix:

${t}`;try{const l=await at({contents:[{parts:[{text:c}]}],model:s||"gemini-3-flash-preview",systemInstruction:r,responseMimeType:"application/json",responseSchema:{type:Us.OBJECT,properties:{issue:{type:Us.STRING,description:"Brief description of the error cause"},fix:{type:Us.STRING,description:"How to fix the error"},command:{type:Us.STRING,description:"Shell command to run, or empty string"}},required:["issue","fix","command"]}});return JSON.parse(Xt(l.text||"{}"))}catch{return{issue:"Failed to analyze error",fix:"Check the error manually and try common solutions.",command:""}}},getTerraformPlan:async(t,s)=>(await at({contents:[{parts:[{text:t}]}],model:s})).text||"Plan error.",generateImage:async(t,s,r)=>{const c=new nr({apiKey:ya()});try{if(r.includes("imagen"))return(await c.models.generateImages({model:r,prompt:t,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:s}})).generatedImages[0].image.imageBytes;{const l=await c.models.generateContent({model:r,contents:{parts:[{text:t}]},config:{imageConfig:{aspectRatio:s}}});for(const g of l.candidates[0].content.parts)if(g.inlineData)return g.inlineData.data}return null}catch(l){return console.error("Image generation error:",l),null}},generateVideo:async(t,s)=>{var c,l,g,j;const r=new nr({apiKey:ya()});try{let x=await r.models.generateVideos({model:s,prompt:t,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"16:9"}});for(;!x.done;)await new Promise(b=>setTimeout(b,1e4)),x=await r.operations.getVideosOperation({operation:x});const h=(j=(g=(l=(c=x.response)==null?void 0:c.generatedVideos)==null?void 0:l[0])==null?void 0:g.video)==null?void 0:j.uri;if(h){const b=await fetch(`${h}&key=${ya()}`);if(!b.ok)throw new Error(`Failed to download video file: ${b.status} ${b.statusText}`);const f=await b.blob();return{url:URL.createObjectURL(f),status:"Completed"}}return null}catch(x){throw console.error("Video generation error:",x),x}},generateCommitMessage:async t=>{var c;const r=`Generate a concise, conventional git commit message for the following changes in Sai:
${t.map(l=>`${l.status}: ${l.file}`).join(`
`)}

Return only the commit message text.`;try{return((c=(await at({contents:[{parts:[{text:r}]}],model:"gemini-3-flash-preview"})).text)==null?void 0:c.trim())||"feat: update files"}catch(l){return console.error("Error generating commit message:",l),"feat: update files"}},generateBranchName:async t=>{var r;const s=`Generate a concise, kebab-case git branch name for Sai based on the following summary of changes:
${t}

Return only the branch name, like 'feat/new-user-auth'.`;try{return((r=(await at({contents:[{parts:[{text:s}]}],model:"gemini-3-flash-preview"})).text)==null?void 0:r.trim().replace(/\s+/g,"-"))||"feat/updates"}catch(c){return console.error("Error generating branch name:",c),"feat/updates"}},generateDeploymentPlan:async(t,s,r)=>{const c=`Act as a Cloud Solutions Architect for Sai. Create a REAL deployment plan for a project with the following files: 
        ${s}
        
        Target Provider: ${t}
        
        Return a JSON object with:
        1. "commands": A list of shell commands to execute the deployment.
        2. "manifest": a deployment manifest (YAML/Terraform) if necessary.
        3. "explanation": A brief high-level explanation of what this deployment does.
        
        Ensure the commands are realistic for a browser-simulated shell (e.g. use standard CLI tools).`,l=await at({model:r,contents:[{parts:[{text:c}]}],responseMimeType:"application/json"});try{return JSON.parse(Xt(l.text||"{}"))}catch{return{commands:[`echo "Failed to synthesize deployment for ${t}"`],explanation:"Sai logic error."}}},generateDailyBriefing:async t=>{const s=`You are a team lead in the Sai ecosystem. Write a concise, friendly daily briefing summarizing the following activity.
        
        Recent Commits:
        ${t.commits.map(c=>`- ${c.author}: "${c.message}" (${c.date})`).join(`
`)}

        New Discussions:
        ${t.discussions.map(c=>`- ${c.user} started: "${c.title}"`).join(`
`)}

        Return only the summary text.
        `;return(await at({contents:[{parts:[{text:s}]}],model:"gemini-3-flash-preview"})).text||"No new activity to report."},summarizeCommentThread:async t=>{const s=`Summarize the following Sai discussion thread in one sentence:

${t.map(c=>`${c.author}: ${c.text}`).join(`
`)}`;return(await at({contents:[{parts:[{text:s}]}],model:"gemini-3-flash-preview"})).text||"Could not generate summary."},synthesizeTaskFromText:async t=>{const s=`Analyze the following text from a Sai discussion and extract a single, actionable development task. 
        Return a JSON object with keys: "title" (string), "tag" (one of "Bug", "Feature", "Refactor", "Design"), "description" (string, optional).

        Text:
        "${t}"`,r=await at({contents:[{parts:[{text:s}]}],model:"gemini-3-flash-preview",responseMimeType:"application/json"});try{return JSON.parse(Xt(r.text||"null"))}catch{return null}}},Nc=`
.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;z-index:5}.xterm .xterm-helper-textarea{position:absolute;opacity:0;z-index:-5;margin:0;cursor:default;width:0;height:0;overflow:hidden;white-space:nowrap}.xterm .composition-view{background:#000;color:#FFF;display:none;position:absolute;white-space:pre;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:transparent !important;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;left:0;top:0}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer{cursor:pointer}.xterm.xterm-cursor-crosshair{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:0.5}.xterm-underline{text-decoration:underline}.xterm .xterm-viewport::-webkit-scrollbar{width:8px}.xterm .xterm-viewport::-webkit-scrollbar-track{background:transparent}.xterm .xterm-viewport::-webkit-scrollbar-thumb{background:#333;border-radius:4px}.xterm .xterm-viewport::-webkit-scrollbar-thumb:hover{background:#555}
`,xa=[{id:"gcp",name:"Google Cloud Shell",icon:"",description:"Free cloud environment with 5GB storage"},{id:"aws",name:"AWS CloudShell",icon:"",description:"AWS console with 1GB storage"},{id:"azure",name:"Azure Cloud Shell",icon:"",description:"Azure portal shell (Bash/PowerShell)"},{id:"gitpod",name:"Gitpod",icon:"",description:"Cloud development environments"},{id:"codespaces",name:"GitHub Codespaces",icon:"",description:"VS Code in the cloud"},{id:"replit",name:"Replit",icon:"",description:"Collaborative browser IDE"}],kc=[{value:"default",label:"Default Shell",icon:"",shortcut:"1",platform:"all"},{value:"zsh",label:"Zsh",icon:"",shortcut:"2",platform:"unix"},{value:"bash",label:"Bash",icon:"",shortcut:"3",platform:"unix"},{value:"fish",label:"Fish",icon:"",shortcut:"4",platform:"unix"},{value:"node",label:"Node REPL",icon:"",shortcut:"5",platform:"all"},{value:"python",label:"Python",icon:"",shortcut:"6",platform:"all"}],Sc=[{value:"default",label:"Default Shell",icon:"",shortcut:"1",platform:"all"},{value:"gitbash",label:"Git Bash",icon:"",shortcut:"2",platform:"win32"},{value:"wsl",label:"WSL (Linux)",icon:"",shortcut:"3",platform:"win32"},{value:"pwsh",label:"PowerShell 7",icon:"",shortcut:"4",platform:"win32"},{value:"powershell",label:"PowerShell",icon:"",shortcut:"5",platform:"win32"},{value:"cmd",label:"Command Prompt",icon:"",shortcut:"6",platform:"win32"},{value:"node",label:"Node REPL",icon:"",shortcut:"7",platform:"all"},{value:"python",label:"Python",icon:"",shortcut:"8",platform:"all"}],Cc=t=>t==="win32"?Sc:kc,zc=[{label:"Install Dependencies",cmd:"npm install",icon:Hs,category:"npm"},{label:"Start Dev Server",cmd:"npm run dev",icon:Ks,category:"npm"},{label:"Build Project",cmd:"npm run build",icon:Ut,category:"npm"},{label:"Run Tests",cmd:"npm test",icon:cs,category:"npm"},{label:"Git Status",cmd:"git status",icon:Pt,category:"git"},{label:"Git Pull",cmd:"git pull",icon:Hs,category:"git"},{label:"Git Push",cmd:"git push",icon:jn,category:"git"},{label:"Clear Terminal",cmd:"clear",icon:Wt,category:"system"}],Gn=a.forwardRef(({fontSize:t="13",fileStructure:s,onNewFile:r,onNewFolder:c,onDeleteFile:l,username:g="dev",activeModelId:j="gemini-3-flash-preview",onCloudAuth:x,onAiIntentRequest:h,onCwdChange:b},f)=>{const[p,E]=a.useState(null),[C,A]=a.useState(new Map),[U,me]=a.useState([]),[te,_]=a.useState(""),[ae,S]=a.useState(!1),[k,Q]=a.useState(!1),[ue,q]=a.useState(""),[Ie,re]=a.useState(!1),[Re,Le]=a.useState(null),[ke,pe]=a.useState(!1),[Y,We]=a.useState(null),[Ye,fe]=a.useState(!1),[Ge,Te]=a.useState(!1),[He,Be]=a.useState(!1),[Z,be]=a.useState(!1),[Ae,De]=a.useState([]),[Pe,Ve]=a.useState(0),[v,z]=a.useState(null),[le,ve]=a.useState(!1),[je,Se]=a.useState("local"),[G,ne]=a.useState(null),[he,Ne]=a.useState(xa),[qe,rt]=a.useState("checking"),[Rt,Ct]=a.useState(!1),[xt,vt]=a.useState(!1),[_e,M]=a.useState(null),[ce,Ee]=a.useState([]);H.useEffect(()=>{fetch("/api/terminal/shells").then(n=>n.json()).then(n=>{M(n.platform),Ee(n.shells||[])}).catch(()=>{const n=navigator.userAgent.includes("Windows");M(n?"win32":"darwin")})},[]);const de=a.useCallback(async()=>{try{return(await fetch("/api/terminal/shells",{method:"GET",signal:AbortSignal.timeout(2e3)})).ok?(rt("running"),!0):(rt("stopped"),!1)}catch{return rt("stopped"),!1}},[]),Je=a.useCallback(async()=>{if(xt||qe==="running")return!0;vt(!0);try{if((await fetch("/api/start-backend",{method:"POST",headers:{"Content-Type":"application/json"}})).ok){await new Promise(D=>setTimeout(D,1500));const o=await de();return vt(!1),o}}catch{}const n=await de();return vt(!1),n||console.log("Backend not running. Terminal will use browser mode."),n},[xt,qe,de]),Me=a.useCallback(async()=>{C.forEach(n=>{n.socket&&n.socket.disconnect()}),A(n=>{const d=new Map(n);return d.forEach(o=>{o.isConnected=!1,o.socket=null}),d}),rt("stopped"),Ct(!1)},[C]);H.useEffect(()=>{de()},[de]);const tt=H.useMemo(()=>{const n=Cc(_e||void 0);return ce.length>0?n.map(d=>({...d,available:d.value==="default"||d.value==="node"||d.value==="python"||ce.some(o=>o.id===d.value&&o.available)})):n.map(d=>({...d,available:!0}))},[_e,ce]),[Ze,xs]=a.useState(!0),[Xe,ct]=a.useState([]),[Bt,jt]=a.useState(!1),Ht=a.useRef(new Map),[ps,Xs]=a.useState(!0),[Mt,Ds]=a.useState(!0),[Vt,pt]=a.useState(!1),[Qs,hs]=a.useState(!1),[ns,zt]=a.useState(null),w=a.useRef(null),oe=a.useRef(null),ye=a.useRef(0),ee=a.useRef(new Map);a.useEffect(()=>{ee.current=C},[C]);const At=a.useMemo(()=>({background:"transparent",foreground:"#e4e4e7",cursor:"#67e8f9",cursorAccent:"#000000",selectionBackground:"rgba(103, 232, 249, 0.3)",selectionForeground:"#ffffff",selectionInactiveBackground:"rgba(103, 232, 249, 0.15)",black:"#09090b",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"#f4f4f5",brightBlack:"#52525b",brightRed:"#f87171",brightGreen:"#4ade80",brightYellow:"#facc15",brightBlue:"#60a5fa",brightMagenta:"#c084fc",brightCyan:"#22d3ee",brightWhite:"#fafafa"}),[]),Ps=a.useCallback(()=>(ye.current+=1,`term-${Date.now()}-${ye.current}`),[]),$e=a.useCallback(()=>{const n=U.find(d=>d.id===te);return n&&C.get(n.activeSessionId)||null},[U,te,C]),ht=a.useCallback(n=>{var o;let d=s;if(n!=="~"){const D=n.split("/").filter(P=>P!=="~"&&P!=="");for(const P of D){const V=(o=d.children)==null?void 0:o.find(se=>se.name===P);V&&(d=V)}}return d.children||[]},[s]),Ke=a.useCallback((n,d)=>{n.write(`\r
\x1B[1;38;2;34;197;94m${g}\x1B[0m \x1B[1;38;2;59;130;246m${d}\x1B[0m \x1B[38;2;168;85;247m(main)\x1B[0m \x1B[38;2;250;204;21m\x1B[0m `)},[g]),gs=a.useCallback(n=>{if(!n||n.length<2)return null;const o=["ls -la","ls -lah","cd src","cd ..","cd ~","mkdir components","mkdir src","mkdir test","npm install","npm run dev","npm run build","npm run test","npm start","yarn install","yarn dev","yarn build","pnpm install","pnpm dev","pnpm build","git status","git add .",'git commit -m "',"git push","git pull","git log --oneline","git checkout -b ","git branch","git merge ","docker ps","docker images","docker-compose up","docker build -t ","code .","vim ","nano ","cat ",'grep -r "','find . -name "',"curl -X GET ","wget ","python ","python3 ","node ","deno run ","az login","aws configure","gcloud auth login","kubectl get pods","kubectl apply -f ","kubectl logs ","terraform init","terraform plan","terraform apply",'sai synth "',"clear","exit","history"].find(D=>D.startsWith(n)&&D!==n);return o?o.slice(n.length):null},[]);a.useCallback((n,d)=>{const o=n.trim().split(/\s+/),D=o[o.length-1]||"",P=ht(d),V=["cd","cat","ls","rm","cp","mv","touch","mkdir","code","vim","nano","less","more","head","tail"];return o.length>1&&V.includes(o[0])||D.includes("/")?P.filter(R=>R.name.toLowerCase().startsWith(D.toLowerCase())).map(R=>R.type==="folder"?`${R.name}/`:R.name).slice(0,10):[]},[ht]);const Ea=a.useCallback((n,d)=>{A(o=>{const D=new Map(o),P=D.get(n);return P&&!P.bookmarkedCommands.includes(d)&&(P.bookmarkedCommands=[...P.bookmarkedCommands,d]),D})},[]),Ta=a.useCallback((n,d)=>{A(o=>{const D=new Map(o),P=D.get(n);return P&&(P.bookmarkedCommands=P.bookmarkedCommands.filter(V=>V!==d)),D})},[]),Kt=a.useCallback(async n=>{await navigator.clipboard.writeText(n),z(n),setTimeout(()=>z(null),2e3)},[]),Zs=a.useCallback(()=>({enabled:!0,quality:"rich",commands:[],directories:[],currentDirectory:"~",selectedCommandIndex:-1}),[]),Rs=a.useCallback((n,d)=>{const o=ee.current.get(n);if(!(o!=null&&o.terminal))return;const D={id:`cmd-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,command:d,startTime:new Date,cwd:o.cwd,startLine:o.terminal.buffer.active.cursorY+o.terminal.buffer.active.viewportY,decoration:"running"};return A(P=>{const V=new Map(P),se=V.get(n);return se&&(se.shellIntegration.commands=[...se.shellIntegration.commands.slice(-99),D],se.shellIntegration.currentCommandId=D.id),V}),D.id},[]),fs=a.useCallback((n,d=0)=>{A(o=>{const D=new Map(o),P=D.get(n);if(P&&P.shellIntegration.currentCommandId){const V=new Date;P.shellIntegration.commands=P.shellIntegration.commands.map(se=>{var R;return se.id===P.shellIntegration.currentCommandId?{...se,endTime:V,duration:V.getTime()-se.startTime.getTime(),exitCode:d,endLine:((R=P.terminal)==null?void 0:R.buffer.active.cursorY)??se.startLine,decoration:d===0?"success":"error"}:se}),P.shellIntegration.currentCommandId=void 0}return D})},[]),bs=a.useCallback((n,d)=>{A(o=>{const D=new Map(o),P=D.get(n);return P&&(P.shellIntegration.directories.find(se=>se.path===d)?P.shellIntegration.directories=P.shellIntegration.directories.map(se=>se.path===d?{...se,lastVisited:new Date,visitCount:se.visitCount+1}:se):P.shellIntegration.directories=[...P.shellIntegration.directories.slice(-49),{path:d,lastVisited:new Date,visitCount:1}],P.shellIntegration.currentDirectory=d),D})},[]),ea=a.useCallback(()=>{const n=$e();if(!(n!=null&&n.terminal)||n.shellIntegration.commands.length===0)return;const d=n.shellIntegration.commands,o=n.shellIntegration.selectedCommandIndex,D=o<0?d.length-1:Math.max(0,o-1),P=d[D];P&&P.startLine!==void 0&&(n.terminal.scrollToLine(P.startLine),A(V=>{const se=new Map(V),R=se.get(n.id);return R&&(R.shellIntegration.selectedCommandIndex=D),se}))},[$e]),ta=a.useCallback(()=>{const n=$e();if(!(n!=null&&n.terminal)||n.shellIntegration.commands.length===0)return;const d=n.shellIntegration.commands,o=n.shellIntegration.selectedCommandIndex,D=o<0?0:Math.min(d.length-1,o+1),P=d[D];P&&P.startLine!==void 0&&(n.terminal.scrollToLine(P.startLine),A(V=>{const se=new Map(V),R=se.get(n.id);return R&&(R.shellIntegration.selectedCommandIndex=D),se}))},[$e]),ys=a.useCallback((n,d)=>{const o=ee.current.get(n);o!=null&&o.terminal&&(o.isConnected&&o.socket?o.socket.emit("input",d+"\r"):(o.terminal.write(d),dt(d,o)))},[dt]),ws=a.useCallback(n=>{const d=ee.current.get(n);return d?[...d.shellIntegration.directories].sort((o,D)=>D.lastVisited.getTime()-o.lastVisited.getTime()).slice(0,10):[]},[]);a.useCallback((n,d)=>{const o=/\x1b\]633;([A-Z]);?([^\x07\x1b]*)?(?:\x07|\x1b\\)/g;let D;for(;(D=o.exec(n))!==null;){const[,P,V]=D;switch(P){case"A":break;case"B":break;case"C":break;case"D":const se=V?parseInt(V,10):0;fs(d,se);break;case"E":if(V){const R=V.replace(/\\x([0-9a-fA-F]{2})/g,(K,nt)=>String.fromCharCode(parseInt(nt,16))).replace(/\\\\/g,"\\");Rs(d,R)}break;case"P":if(V){const[R,K]=V.split("=");R==="Cwd"&&bs(d,K)}break}}},[Rs,fs,bs]);const sa=a.useMemo(()=>[{pattern:/npm\s+ERR!/gi,type:"npm"},{pattern:/Error:\s+(.+)/gi,type:"general"},{pattern:/ENOENT|EACCES|EPERM|EEXIST/gi,type:"filesystem"},{pattern:/Cannot find module ['"](.+)['"]/gi,type:"module"},{pattern:/SyntaxError:\s+(.+)/gi,type:"syntax"},{pattern:/TypeError:\s+(.+)/gi,type:"type"},{pattern:/ReferenceError:\s+(.+)/gi,type:"reference"},{pattern:/FATAL\s+ERROR/gi,type:"fatal"},{pattern:/Traceback \(most recent call last\)/gi,type:"python"},{pattern:/ModuleNotFoundError:\s+(.+)/gi,type:"python-module"},{pattern:/ImportError:\s+(.+)/gi,type:"python-import"},{pattern:/IndentationError:\s+(.+)/gi,type:"python-indent"},{pattern:/NameError:\s+(.+)/gi,type:"python-name"},{pattern:/command not found/gi,type:"command"},{pattern:/No such file or directory/gi,type:"path"},{pattern:/Permission denied/gi,type:"permission"},{pattern:/zsh:\s+(.+)/gi,type:"shell"},{pattern:/bash:\s+(.+)/gi,type:"shell"},{pattern:/fatal:\s+(.+)/gi,type:"git"},{pattern:/error:\s+failed to push/gi,type:"git-push"},{pattern:/CONFLICT \(content\)/gi,type:"git-conflict"},{pattern:/Build failed/gi,type:"build"},{pattern:/Compilation failed/gi,type:"compile"},{pattern:/Failed to compile/gi,type:"compile"},{pattern:/\[ERROR\]/gi,type:"general"},{pattern:/docker:\s+Error/gi,type:"docker"},{pattern:/Cannot connect to the Docker daemon/gi,type:"docker-daemon"},{pattern:/ETIMEDOUT|ECONNREFUSED|ECONNRESET/gi,type:"network"},{pattern:/getaddrinfo\s+ENOTFOUND/gi,type:"dns"}],[]),aa=a.useCallback((n,d)=>{if(!Ze)return!1;const o=n.replace(/\x1b\[[0-9;]*m/g,"").replace(/\x1b\[\?[0-9;]*[a-zA-Z]/g,"");for(const{pattern:D,type:P}of sa)if(D.lastIndex=0,D.test(o)){const se=o.split(/\r?\n/).filter(K=>K.trim()).slice(-15).join(`
`);if(`${P}${se.slice(0,100)}`,!Xe.find(K=>K.sessionId===d&&K.context.slice(0,100)===se.slice(0,100)&&Date.now()-K.timestamp.getTime()<5e3)){const K={id:`err-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,error:P,context:se,timestamp:new Date,sessionId:d,isAnalyzing:!0};return ct(nt=>[K,...nt].slice(0,10)),jt(!0),Aa(K.id,se),!0}}return!1},[Ze,sa,Xe]),Aa=a.useCallback(async(n,d)=>{try{const o=await ka.analyzeTerminalError(d,j);ct(D=>D.map(P=>P.id===n?{...P,diagnosis:o,isAnalyzing:!1}:P))}catch(o){console.error("AI diagnosis failed:",o),ct(D=>D.map(P=>P.id===n?{...P,diagnosis:{issue:"Analysis failed",fix:"Try running the command again or check the error manually.",command:""},isAnalyzing:!1}:P))}},[j]),Da=a.useCallback((n,d)=>{const o=$e();o&&d&&(o.isConnected&&o.socket?o.socket.emit("input",d+"\r"):o.terminal&&(o.terminal.write(d),dt(d,o)),ct(D=>D.map(P=>P.id===n?{...P,isResolved:!0}:P)))},[$e]),Ot=a.useCallback(n=>{ct(d=>d.filter(o=>o.id!==n))},[]),Pa=a.useCallback(()=>{ct([]),jt(!1)},[]),ra=a.useCallback(async()=>{const n=await navigator.clipboard.readText(),d=$e();d!=null&&d.terminal&&(d.isConnected&&d.socket?d.socket.emit("input",n):d.terminal.write(n))},[$e]),Lt=a.useCallback(n=>{var o,D;const d=ee.current.get(n);d&&((o=d.terminal)==null||o.dispose(),(D=d.socket)==null||D.disconnect()),A(P=>{const V=new Map(P);return V.delete(n),V}),me(P=>P.map(V=>{const se=V.sessions.filter(R=>R!==n);return se.length===0?V:{...V,sessions:se,activeSessionId:V.activeSessionId===n?se[0]:V.activeSessionId}}).filter(V=>V.sessions.length>0))},[]),dt=a.useCallback(async(n,d)=>{var gt,it;const o=d.terminal;if(!o)return;const D=n.trim();if(!D){Ke(o,d.cwd);return}const P=Date.now();Rs(d.id,D);const V=[...d.commandHistory,D];A($=>{const J=new Map($),xe=J.get(d.id);return xe&&(xe.commandHistory=V,xe.historyIndex=V.length,xe.lastCommandTime=new Date),J});const se=D.split(/\s+/),R=se[0].toLowerCase(),K=se.slice(1),nt=($=0)=>{const J=Date.now()-P;A(xe=>{const F=new Map(xe),W=F.get(d.id);return W&&(W.lastCommandDuration=J),F}),fs(d.id,$)};if(R==="ls"){const $=K.includes("-a")||K.includes("-la")||K.includes("-lah"),J=K.includes("-l")||K.includes("-la")||K.includes("-lah");try{const F=K.find(et=>!et.startsWith("-"))||d.cwd,st=await(await fetch(`${$?"/api/fs/list-all":"/api/fs/list"}?path=${encodeURIComponent(F==="~"?"":F)}`)).json();if(st.success&&st.items){if(st.items.length===0)o.write(`\r
`);else if(J)o.write(`\r
\x1B[38;2;148;163;184mtotal `+st.items.length+`\x1B[0m\r
`),st.items.forEach(et=>{const It=et.isDirectory?"d":"-",Ba=et.isDirectory?"rwxr-xr-x":"rw-r--r--",Ma=et.isDirectory?"\x1B[1;38;2;59;130;246m":et.isHidden?"\x1B[38;2;100;100;120m":"",oa=et.isDirectory?"/":"",Oa=et.size?String(et.size).padStart(8):"    4096",Cr=et.modified?new Date(et.modified).toLocaleDateString("en-US",{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"Jan 31 12:00";o.write(`\x1B[38;2;148;163;184m${It}${Ba}  1 ${g}  staff ${Oa} ${Cr}\x1B[0m ${Ma}${et.name}${oa}\x1B[0m\r
`)});else{const et=st.items.map(It=>It.isDirectory?`\x1B[1;38;2;59;130;246m${It.name}/\x1B[0m`:It.isHidden?`\x1B[38;2;100;100;120m${It.name}\x1B[0m`:It.name).join("  ");o.write(`\r
${et}\r
`)}nt(0),Ke(o,d.cwd);return}}catch{}const xe=ht(d.cwd);if(xe.length===0)o.write(`\r
`);else if(J)o.write(`\r
\x1B[38;2;148;163;184mtotal `+xe.length+`\x1B[0m\r
`),xe.forEach(F=>{const W=F.type==="folder"?"d":"-",we=F.type==="folder"?"rwxr-xr-x":"rw-r--r--",Ce=F.type==="folder"?"\x1B[1;38;2;59;130;246m":"",st=F.type==="folder"?"/":"";o.write(`\x1B[38;2;148;163;184m${W}${we}  1 ${g}  staff    4096 Jan 31 12:00\x1B[0m ${Ce}${F.name}${st}\x1B[0m\r
`)});else{const F=xe.map(W=>W.type==="folder"?`\x1B[1;38;2;59;130;246m${W.name}/\x1B[0m`:W.name).join("  ");o.write(`\r
${F}\r
`)}}else if(R==="cd"){const $=K[0]||"~";let J=d.cwd;try{let xe=$;if($==="~"){const Ce=await(await fetch("/api/fs/home")).json();Ce.success&&(xe=Ce.home)}else if($===".."){const we=d.cwd.split("/");we.pop(),xe=we.join("/")||"/"}else $.startsWith("/")||(xe=d.cwd==="~"?$:`${d.cwd}/${$}`);const W=await(await fetch(`/api/fs/exists?path=${encodeURIComponent(xe)}`)).json();if(W.success&&W.exists&&W.isDirectory){J=W.path,A(we=>{const Ce=new Map(we),st=Ce.get(d.id);return st&&(st.cwd=J),Ce}),d.cwd=J,b==null||b(J),bs(d.id,J),nt(0),Ke(o,d.cwd);return}else if(W.success&&!W.exists){o.write(`\r
\x1B[38;2;239;68;68mcd: no such directory: ${$}\x1B[0m\r
`),nt(1),Ke(o,d.cwd);return}}catch{}if($==="~"||$==="/")J="~";else if($===".."){if(d.cwd!=="~"){const xe=d.cwd.split("/");xe.pop(),J=xe.join("/")||"~"}}else $.startsWith("/")?J=$:ht(d.cwd).find(W=>W.name===$&&W.type==="folder")?J=d.cwd==="~"?$:`${d.cwd}/${$}`:o.write(`\r
\x1B[38;2;239;68;68mcd: no such directory: ${$}\x1B[0m\r
`);A(xe=>{const F=new Map(xe),W=F.get(d.id);return W&&(W.cwd=J),F}),d.cwd=J,b==null||b(J),bs(d.id,J)}else if(R==="pwd")o.write(`\r
${d.cwd}\r
`);else if(R==="mkdir")K[0]&&c?(c(K[0]),o.write(`\r
\x1B[38;2;34;197;94m\x1B[0m Created directory: ${K[0]}\r
`)):o.write(`\r
\x1B[38;2;239;68;68mmkdir: missing operand\x1B[0m\r
`);else if(R==="touch")K[0]&&r?(r(K[0]),o.write(`\r
\x1B[38;2;34;197;94m\x1B[0m Created file: ${K[0]}\r
`)):o.write(`\r
\x1B[38;2;239;68;68mtouch: missing file operand\x1B[0m\r
`);else if(R==="rm"){const $=K.find(J=>!J.startsWith("-"));$&&l&&(l($,!0),o.write(`\r
\x1B[38;2;34;197;94m\x1B[0m Removed: ${$}\r
`))}else if(R==="cat"){if(K[0]){try{const xe=K[0].startsWith("/")||d.cwd==="~"?K[0]:`${d.cwd}/${K[0]}`,W=await(await fetch(`/api/fs/read?path=${encodeURIComponent(xe)}`)).json();if(W.success&&W.content!==void 0){const we=(gt=K[0].split(".").pop())==null?void 0:gt.toLowerCase(),Ce=W.content;["json","js","ts","tsx","jsx"].includes(we||"")?o.write(`\r
\x1B[38;2;148;163;184m${Ce}\x1B[0m\r
`):o.write(`\r
${Ce}\r
`),nt(0),Ke(o,d.cwd);return}}catch{}const J=ht(d.cwd).find(xe=>xe.name===K[0]&&xe.type==="file");J&&J.content?o.write(`\r
${J.content}\r
`):o.write(`\r
\x1B[38;2;239;68;68mcat: ${K[0]}: No such file\x1B[0m\r
`)}}else if(R==="echo")o.write(`\r
${K.join(" ")}\r
`);else if(R==="whoami")o.write(`\r
${g}\r
`);else if(R==="date")o.write(`\r
${new Date().toString()}\r
`);else if(R==="dir"){const $=ht(d.cwd);o.write(`\r
\x1B[38;2;148;163;184m Directory of `+d.cwd+`\x1B[0m\r
\r
`),$.length===0?o.write(`\x1B[38;2;148;163;184m  (empty)\x1B[0m\r
`):($.forEach(J=>{const xe=J.type==="folder"?"<DIR>":"     ",F=J.type==="folder"?"\x1B[1;38;2;59;130;246m":"";o.write(`\x1B[38;2;148;163;184m  ${xe}\x1B[0m  ${F}${J.name}\x1B[0m\r
`)}),o.write(`\r
\x1B[38;2;148;163;184m  ${$.length} item(s)\x1B[0m\r
`))}else if(R==="type")if(K[0]){const J=ht(d.cwd).find(xe=>xe.name===K[0]&&xe.type==="file");J&&J.content?o.write(`\r
${J.content}\r
`):o.write(`\r
\x1B[38;2;239;68;68mThe system cannot find the file specified.\x1B[0m\r
`)}else o.write(`\r
\x1B[38;2;239;68;68mThe syntax of the command is incorrect.\x1B[0m\r
`);else if(R==="md")K[0]&&c?(c(K[0]),o.write(`\r
\x1B[38;2;34;197;94m\x1B[0m Created directory: ${K[0]}\r
`)):o.write(`\r
\x1B[38;2;239;68;68mThe syntax of the command is incorrect.\x1B[0m\r
`);else if(R==="del"||R==="erase"){const $=K.find(J=>!J.startsWith("/"));$&&l&&(l($,!0),o.write(`\r
\x1B[38;2;34;197;94m\x1B[0m Deleted: ${$}\r
`))}else if(R==="copy")o.write(`\r
\x1B[38;2;234;179;8m\x1B[0m File copy is not available in browser mode.\r
`);else if(R==="move"||R==="mv")o.write(`\r
\x1B[38;2;234;179;8m\x1B[0m File move is not available in browser mode.\r
`);else if(R==="ren"||R==="rename")o.write(`\r
\x1B[38;2;234;179;8m\x1B[0m Rename is not available in browser mode.\r
`);else if(R==="ver")o.write(`\r
\x1B[38;2;148;163;184mSai IDE Terminal v3.0 [Browser Mode]\x1B[0m\r
`),o.write(`\x1B[38;2;100;100;120mCross-platform terminal emulator\x1B[0m\r
`);else if(R==="hostname")o.write(`\r
sai-ide.local\r
`);else if(R==="uname")(K[0]||"")==="-a"?o.write(`\r
Sai-IDE Browser 3.0 x86_64 Sai Terminal\r
`):o.write(`\r
Sai-IDE\r
`);else if(R==="neofetch"||R==="sysinfo"||R==="systeminfo")o.write(`\r
`),o.write("\x1B[38;2;6;182;212m         \x1B[0m      \x1B[1m"+g+`\x1B[0m\x1B[38;2;148;163;184m@\x1B[0m\x1B[1msai-ide\x1B[0m\r
`),o.write(`\x1B[38;2;6;182;212m       \x1B[0m      \x1B[38;2;148;163;184m\x1B[0m\r
`),o.write(`\x1B[38;2;6;182;212m       \x1B[0m      \x1B[38;2;250;204;21mOS:\x1B[0m Sai IDE v3.0\r
`),o.write("\x1B[38;2;6;182;212m       \x1B[0m      \x1B[38;2;250;204;21mShell:\x1B[0m "+(d.shell==="default"?"zsh":d.shell)+`\r
`),o.write(`\x1B[38;2;6;182;212m         \x1B[0m      \x1B[38;2;250;204;21mTerminal:\x1B[0m Neural Terminal\r
`),o.write("\x1B[38;2;6;182;212m         \x1B[0m      \x1B[38;2;250;204;21mNode:\x1B[0m "+(d.environment.nodeVersion||"N/A")+`\r
`),o.write("\x1B[0m                               \x1B[38;2;250;204;21mPython:\x1B[0m "+(d.environment.pythonVersion||"N/A")+`\r
`),o.write("\x1B[38;2;6;182;212m     Neural-Powered IDE\x1B[0m        \x1B[38;2;250;204;21mGit:\x1B[0m "+(d.environment.gitBranch||"N/A")+`\r
`),o.write("                               \x1B[38;2;250;204;21mUptime:\x1B[0m "+Math.floor((Date.now()-d.startTime.getTime())/1e3)+`s\r
`),o.write(`\r
`),o.write(`       \x1B[40m   \x1B[41m   \x1B[42m   \x1B[43m   \x1B[44m   \x1B[45m   \x1B[46m   \x1B[47m   \x1B[0m\r
`),o.write(`\r
`);else if(R==="clear"||R==="cls")o.clear();else if(R==="history")d.commandHistory.forEach(($,J)=>{o.write(`\r
  ${J+1}  ${$}`)}),o.write(`\r
`);else if(R==="exit"||R==="quit"){o.write(`\r
\x1B[38;2;148;163;184mSession ended.\x1B[0m\r
`),Lt(d.id);return}else if(R==="az"&&K[0]==="login")o.write(`\r
\x1B[38;2;6;182;212m [Sai] Azure Login Intent detected. Opening Identity Provider...\x1B[0m\r
`),x&&x("Azure");else if(R==="aws"&&(K[0]==="configure"||K[0]==="login"))o.write(`\r
\x1B[38;2;6;182;212m [Sai] AWS Configuration Intent detected. Opening Identity Provider...\x1B[0m\r
`),x&&x("AWS");else if(R==="gcloud"&&K[0]==="auth")o.write(`\r
\x1B[38;2;6;182;212m [Sai] GCP Auth Intent detected. Opening Identity Provider...\x1B[0m\r
`),x&&x("GCP");else if(R==="sai"||R==="synth"){const $=R==="synth"?"synth":(it=K[0])==null?void 0:it.toLowerCase();if($==="synth"){const J=R==="synth"?K.join(" "):K.slice(1).join(" ");h&&J?(o.write(`\r
\x1B[38;2;6;182;212m [Sai] Handing over to Neural Synthesis Engine...\x1B[0m\r
`),o.write(`\x1B[38;2;148;163;184m   Prompt: "${J}"\x1B[0m\r
`),h(J,"app")):(o.write(`\r
\x1B[38;2;239;68;68mError: Synthesis requires a descriptive prompt.\x1B[0m\r
`),o.write(`\x1B[38;2;148;163;184mUsage: sai synth "create a weather dashboard"\x1B[0m\r
`))}else $==="help"&&(o.write(`\r
\x1B[1;38;2;6;182;212mSai IDE Commands:\x1B[0m\r
`),o.write(`  \x1B[38;2;250;204;21msai synth\x1B[0m <prompt>  - Generate code from natural language\r
`),o.write(`  \x1B[38;2;250;204;21msai help\x1B[0m             - Show this help message\r
`))}else if(R==="help")o.write(`\r
`),o.write(`\x1B[38;2;82;82;91m\x1B[0m\r
`),o.write(`\x1B[38;2;82;82;91m\x1B[0m  \x1B[1;38;2;6;182;212m Sai Terminal\x1B[0m \x1B[38;2;148;163;184m- Cross-Platform Command Interface\x1B[0m          \x1B[38;2;82;82;91m\x1B[0m\r
`),o.write(`\x1B[38;2;82;82;91m\x1B[0m\r
`),o.write(`\r
`),o.write(`\x1B[1;38;2;250;204;21m File System\x1B[0m \x1B[38;2;100;100;120m(Unix / Windows)\x1B[0m\r
`),o.write(`  \x1B[38;2;34;197;94mls\x1B[0m / \x1B[38;2;59;130;246mdir\x1B[0m        List directory contents\r
`),o.write(`  \x1B[38;2;34;197;94mcd\x1B[0m <dir>          Change directory\r
`),o.write(`  \x1B[38;2;34;197;94mpwd\x1B[0m                Print working directory\r
`),o.write(`  \x1B[38;2;34;197;94mmkdir\x1B[0m / \x1B[38;2;59;130;246mmd\x1B[0m        Create directory\r
`),o.write(`  \x1B[38;2;34;197;94mtouch\x1B[0m <name>       Create file\r
`),o.write(`  \x1B[38;2;34;197;94mrm\x1B[0m / \x1B[38;2;59;130;246mdel\x1B[0m          Remove file/folder\r
`),o.write(`  \x1B[38;2;34;197;94mcat\x1B[0m / \x1B[38;2;59;130;246mtype\x1B[0m        Display file contents\r
`),o.write(`\r
`),o.write(`\x1B[1;38;2;168;85;247m Terminal\x1B[0m\r
`),o.write(`  \x1B[38;2;34;197;94mclear\x1B[0m / \x1B[38;2;59;130;246mcls\x1B[0m      Clear terminal screen\r
`),o.write(`  \x1B[38;2;34;197;94mhistory\x1B[0m            Show command history\r
`),o.write(`  \x1B[38;2;34;197;94mexit\x1B[0m / \x1B[38;2;59;130;246mquit\x1B[0m      Close terminal session\r
`),o.write(`  \x1B[38;2;34;197;94mecho\x1B[0m <text>        Print text\r
`),o.write(`  \x1B[38;2;34;197;94mdate\x1B[0m               Show current date/time\r
`),o.write(`  \x1B[38;2;34;197;94mwhoami\x1B[0m             Display username\r
`),o.write(`  \x1B[38;2;34;197;94mneofetch\x1B[0m           System information\r
`),o.write(`\r
`),o.write(`\x1B[1;38;2;59;130;246m  Cloud CLI\x1B[0m\r
`),o.write(`  \x1B[38;2;34;197;94maz login\x1B[0m           Authenticate with Azure\r
`),o.write(`  \x1B[38;2;34;197;94maws configure\x1B[0m      Configure AWS credentials\r
`),o.write(`  \x1B[38;2;34;197;94mgcloud auth\x1B[0m        Authenticate with GCP\r
`),o.write(`\r
`),o.write(`\x1B[1;38;2;6;182;212m Sai IDE\x1B[0m\r
`),o.write(`  \x1B[38;2;34;197;94msai synth\x1B[0m <prompt>  Generate code with AI\r
`),o.write(`  \x1B[38;2;34;197;94msai help\x1B[0m            Show Sai commands\r
`),o.write(`\r
`),o.write(`\x1B[38;2;148;163;184m Pro Tips:\x1B[0m\r
`),o.write(`   \x1B[38;2;34;197;94mUnix\x1B[0m and \x1B[38;2;59;130;246mWindows\x1B[0m commands both work\r
`),o.write(`   Press \x1B[1mTab\x1B[0m for autocomplete suggestions\r
`),o.write(`   Use \x1B[1m/\x1B[0m arrows to navigate command history\r
`),o.write(`   Type any command - AI will help with unknowns\r
`),o.write(`\r
`);else{pe(!0),o.write(`\r
\x1B[38;2;6;182;212m Synthesizing command response...\x1B[0m`);try{const $=await ka.getTerminalAiResponse(D,j);o.write("\r\x1B[K"),o.write($+`\r
`)}catch{o.write("\r\x1B[K"),o.write(`\r
\x1B[38;2;239;68;68m Command not found: ${R}\x1B[0m\r
`),o.write(`\x1B[38;2;148;163;184mType 'help' for available commands.\x1B[0m\r
`)}finally{pe(!1)}}nt(0),Ke(o,d.cwd)},[ht,Ke,c,r,l,x,h,j,g,Lt]),na=a.useCallback(n=>{try{const d=document.getElementById(`terminal-${n}`);if(!d)return;if(!document.getElementById("xterm-css")){const F=document.createElement("style");F.id="xterm-css",F.textContent=Nc,document.head.appendChild(F)}const o=new ml.Terminal({cursorBlink:!0,cursorStyle:"bar",cursorWidth:2,fontFamily:'"JetBrains Mono", "Fira Code", "Cascadia Code", Consolas, monospace',fontSize:parseInt(t),fontWeight:"400",fontWeightBold:"600",letterSpacing:0,lineHeight:1.4,theme:At,allowProposedApi:!0,scrollback:1e4,tabStopWidth:4,windowsMode:!1,convertEol:!0,screenReaderMode:!1,macOptionIsMeta:!0,macOptionClickForcesSelection:!0,rightClickSelectsWord:!0,drawBoldTextInBrightColors:!0,minimumContrastRatio:4.5}),D=new ul.FitAddon,P=new xl.SearchAddon,V=new pl.WebLinksAddon,se=new hl.Unicode11Addon;o.loadAddon(D),o.loadAddon(P),o.loadAddon(V),o.loadAddon(se),o.unicode.activeVersion="11",o.open(d),setTimeout(()=>{D.fit()},100);const R=ee.current.get(n),K=(R==null?void 0:R.mode)||"local",nt=R==null?void 0:R.cloudProvider;if(K==="browser"){o.writeln("\x1B[38;2;6;182;212m\x1B[0m \x1B[1;38;2;103;232;249mBrowser Terminal Ready\x1B[0m"),o.writeln("\x1B[38;2;148;163;184mCommands like ls, cd, cat, echo, mkdir, and more are supported\x1B[0m"),o.writeln("\x1B[38;2;82;82;91m\x1B[0m"),Ke(o,(R==null?void 0:R.cwd)||"~");return}if(K==="cloud"&&nt){const F=xa.find(W=>W.id===nt);o.writeln(`\x1B[38;2;59;130;246m\x1B[0m \x1B[1;38;2;103;232;249mConnecting to ${(F==null?void 0:F.name)||"Cloud Shell"}...\x1B[0m`),setTimeout(()=>{const W=ee.current.get(n);W&&(o.writeln("\x1B[38;2;34;197;94m\x1B[0m \x1B[1;38;2;6;182;212mCloud Shell Ready\x1B[0m"),o.writeln(`\x1B[38;2;148;163;184mConnected to ${F==null?void 0:F.name}. ${F==null?void 0:F.description}\x1B[0m`),o.writeln("\x1B[38;2;234;179;8m\x1B[0m \x1B[38;2;148;163;184mNote: Full cloud integration requires authentication.\x1B[0m"),o.writeln("\x1B[38;2;82;82;91m\x1B[0m"),A(we=>{const Ce=new Map(we),st=Ce.get(n);return st&&(st.isConnected=!0),Ce}),Ke(o,W.cwd))},1500);return}const gt=gl(window.location.origin,{path:"/socket.io/",timeout:3e3,reconnectionAttempts:2}),it=setTimeout(()=>{const F=ee.current.get(n);F&&!F.isConnected&&(o.writeln("\x1B[38;2;6;182;212m\x1B[0m \x1B[1;38;2;103;232;249mBrowser Terminal Ready\x1B[0m"),o.writeln("\x1B[38;2;148;163;184mRun Sai locally to connect to your machine's shell\x1B[0m"),o.writeln("\x1B[38;2;82;82;91m\x1B[0m"),Ke(o,F.cwd))},2e3);gt.on("connect",()=>{clearTimeout(it),A(F=>{const W=new Map(F),we=W.get(n);return we&&(we.isConnected=!0,we.socket=gt),W}),o.writeln("\x1B[38;2;34;197;94m\x1B[0m \x1B[1;38;2;6;182;212mTerminal connected\x1B[0m"),o.writeln("\x1B[38;2;82;82;91m\x1B[0m")}),gt.on("output",F=>{o.write(F);const we=((Ht.current.get(n)||"")+F).slice(-5e3);Ht.current.set(n,we),aa(we,n)}),gt.on("disconnect",()=>{A(W=>{const we=new Map(W),Ce=we.get(n);return Ce&&(Ce.isConnected=!1),we}),o.writeln(`\r
\x1B[38;2;234;179;8m\x1B[0m \x1B[38;2;148;163;184mConnection lost. Reconnecting...\x1B[0m`);const F=ee.current.get(n);F&&Ke(o,F.cwd)});let $="",J=0;o.onData(F=>{const W=ee.current.get(n);if(W)if(W.isConnected&&W.socket)W.socket.emit("input",F);else{const we=F.charCodeAt(0);if(we===13){const Ce=$;$="",J=W.commandHistory.length,We(null),dt(Ce,W)}else if(we===127)$.length>0&&($=$.slice(0,-1),o.write("\b \b"),We(gs($)));else if(we===9)Y&&(o.write(Y),$+=Y,We(null));else if(we===3)o.write("^C"),$="",We(null),Ke(o,W.cwd);else if(we===12)o.clear(),Ke(o,W.cwd),o.write($);else if(F==="\x1B[A"){if(J>0){J--;const Ce=W.commandHistory[J]||"";o.write("\r\x1B[K"),Ke(o,W.cwd),o.write(Ce),$=Ce}}else if(F==="\x1B[B")if(J<W.commandHistory.length-1){J++;const Ce=W.commandHistory[J]||"";o.write("\r\x1B[K"),Ke(o,W.cwd),o.write(Ce),$=Ce}else J===W.commandHistory.length-1&&(J++,o.write("\r\x1B[K"),Ke(o,W.cwd),$="");else we>=32&&we<=126&&($+=F,o.write(F),We(gs($)))}}),new ResizeObserver(()=>{D.fit();const F=ee.current.get(n);F!=null&&F.isConnected&&F.socket&&F.socket.emit("resize",{cols:o.cols,rows:o.rows})}).observe(d),A(F=>{const W=new Map(F),we=W.get(n);return we&&(we.terminal=o,we.fitAddon=D,we.searchAddon=P),W}),o.focus()}catch(d){console.error("Terminal initialization error:",d)}},[t,At,Ke,dt,gs,Y]),ot=a.useCallback(async(n,d,o,D)=>{var gt;const P=Ps(),V=C.size+1,se=o||je,R=n||(se==="cloud"&&D?`Cloud (${((gt=xa.find(it=>it.id===D))==null?void 0:gt.name)||D})`:se==="browser"?`Browser ${V}`:`Terminal ${V}`),K=d||"default";se==="local"&&await Je();const nt={id:P,name:R,shell:K,terminal:null,fitAddon:null,searchAddon:null,socket:null,isConnected:!1,cwd:"~",commandHistory:[],historyIndex:0,currentLine:"",exitCode:null,isRunning:!0,startTime:new Date,bookmarkedCommands:[],mode:se,cloudProvider:D,environment:{nodeVersion:"v20.10.0",pythonVersion:"3.12.0",gitBranch:"main"},shellIntegration:Zs()};if(A(it=>{const $=new Map(it);return $.set(P,nt),$}),U.length===0){const it={id:`pane-${Date.now()}`,sessions:[P],activeSessionId:P};me([it]),_(it.id)}else me(it=>it.map($=>$.id===te?{...$,sessions:[...$.sessions,P],activeSessionId:P}:$));return setTimeout(()=>na(P),50),P},[Ps,C.size,U,te,na,je,Je]),Ra=a.useCallback((n,d)=>{var D;me(P=>P.map(V=>V.id===n?{...V,activeSessionId:d}:V));const o=C.get(d);(D=o==null?void 0:o.terminal)==null||D.focus()},[C]),Yt=a.useCallback((n,d)=>{A(o=>{const D=new Map(o),P=D.get(n);return P&&(P.name=d),D})},[]),Qe=a.useCallback((n,d="next")=>{const o=$e();o!=null&&o.searchAddon&&(d==="next"?o.searchAddon.findNext(n):o.searchAddon.findPrevious(n))},[$e]),Dt=a.useCallback(()=>{ot(`Split ${C.size+1}`)},[ot,C.size]);a.useImperativeHandle(f,()=>({runCommand:n=>{const d=$e();d!=null&&d.terminal&&(d.isConnected&&d.socket?d.socket.emit("input",n+"\r"):(d.terminal.write(n),dt(n,d)))},write:n=>{const d=$e();d!=null&&d.terminal&&d.terminal.writeln(`\r
${n}`)},ensureTerminalVisible:()=>{},createNewTerminal:ot,killCurrentTerminal:()=>{const n=$e();n&&Lt(n.id)},focusTerminal:()=>{var d;const n=$e();(d=n==null?void 0:n.terminal)==null||d.focus()},getCwd:()=>{const n=$e();return(n==null?void 0:n.cwd)||"~"}}),[$e,dt,ot,Lt]),a.useEffect(()=>{C.size===0&&ot()},[]);const mt=a.useMemo(()=>U.find(n=>n.id===te),[U,te]),y=a.useMemo(()=>$e(),[$e]);return a.useEffect(()=>{const n=d=>{if(!y)return;const o=d.metaKey||d.ctrlKey;o&&d.key==="ArrowUp"?(d.preventDefault(),ea()):o&&d.key==="ArrowDown"?(d.preventDefault(),ta()):o&&d.key==="g"&&(d.preventDefault(),pt(D=>!D))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[y,ea,ta]),p?e.jsxs("div",{className:"h-full w-full bg-[#0a0a0f] flex flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"text-red-400 mb-4 text-sm font-mono",children:"Terminal Error"}),e.jsx("div",{className:"text-zinc-500 text-xs text-center max-w-md mb-4",children:"The terminal encountered an error. This is usually caused by browser restrictions or missing dependencies."}),e.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm text-zinc-300 transition-all",children:"Retry"}),e.jsx("div",{className:"mt-4 text-[10px] text-zinc-600 font-mono max-w-md overflow-hidden",children:p.message})]}):e.jsxs("div",{className:`relative h-full w-full bg-[#0a0a0f] flex flex-col overflow-hidden transition-all duration-300 ${ae?"fixed inset-0 z-50":""}`,children:[e.jsxs("div",{className:"h-11 bg-gradient-to-b from-[#14171f] to-[#111318] border-b border-white/[0.06] flex items-center justify-between px-2 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-none flex-1",children:[mt==null?void 0:mt.sessions.map(n=>{const d=C.get(n);if(!d)return null;const o=n===mt.activeSessionId,D=d.mode==="cloud"?"bg-blue-500":d.mode==="browser"?"bg-amber-500":d.isConnected?"bg-emerald-500":"bg-amber-500";return e.jsxs("div",{onClick:()=>Ra(mt.id,n),onContextMenu:P=>{P.preventDefault(),Le({x:P.clientX,y:P.clientY,sessionId:n})},className:`group flex items-center gap-2 px-3 py-1.5 rounded-lg cursor-pointer transition-all duration-200 ${o?"bg-gradient-to-b from-white/[0.12] to-white/[0.06] text-white shadow-[inset_0_1px_0_rgba(255,255,255,0.1)] border border-white/[0.08]":"text-zinc-500 hover:text-zinc-300 hover:bg-white/[0.04]"}`,children:[e.jsx("div",{className:`relative w-2 h-2 rounded-full ${D}`,children:d.isRunning&&e.jsx("div",{className:`absolute inset-0 rounded-full ${D} animate-ping opacity-75`})}),d.mode==="cloud"&&e.jsx(Fs,{size:10,className:"text-blue-400"}),d.mode==="browser"&&e.jsx(Zt,{size:10,className:"text-amber-400"}),e.jsx("span",{className:"text-xs font-medium truncate max-w-[100px]",children:d.name}),d.lastCommandDuration!==void 0&&e.jsxs("span",{className:"text-[9px] text-zinc-600 font-mono",children:[d.lastCommandDuration,"ms"]}),e.jsx("button",{onClick:P=>{P.stopPropagation(),Lt(n)},className:"opacity-0 group-hover:opacity-100 p-0.5 hover:bg-white/10 rounded transition-all",children:e.jsx(Ue,{size:12})})]},n)}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>re(!Ie),className:"flex items-center gap-1 px-2 py-1.5 text-zinc-500 hover:text-white hover:bg-white/[0.04] rounded-lg transition-all",children:[e.jsx(ss,{size:14}),e.jsx(Vs,{size:10})]}),Ie&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 w-80 bg-[#1a1d24] border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex border-b border-white/5",children:[e.jsxs("button",{onClick:()=>Se("local"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 text-xs font-medium transition-all ${je==="local"?"text-emerald-400 border-b-2 border-emerald-400 bg-emerald-400/5":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx(Fr,{size:14}),"Local"]}),e.jsxs("button",{onClick:()=>Se("cloud"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 text-xs font-medium transition-all ${je==="cloud"?"text-blue-400 border-b-2 border-blue-400 bg-blue-400/5":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx(Fs,{size:14}),"Cloud"]}),e.jsxs("button",{onClick:()=>Se("browser"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 text-xs font-medium transition-all ${je==="browser"?"text-amber-400 border-b-2 border-amber-400 bg-amber-400/5":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx(Zt,{size:14}),"Browser"]})]}),je==="local"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-semibold",children:"Local Shell"}),_e&&e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded bg-white/5 text-zinc-600",children:_e==="win32"?" Windows":_e==="darwin"?" macOS":" Linux"})]}),e.jsx("div",{className:"p-2 text-xs text-zinc-500 bg-zinc-900/50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fr,{size:12,className:"mt-0.5 text-emerald-400"}),e.jsx("span",{children:"Connects to your local machine. Run Sai locally for full shell access."})]})}),e.jsx("div",{className:"p-1 max-h-48 overflow-y-auto custom-scrollbar",children:tt.map(n=>e.jsxs("button",{onClick:()=>{n.available!==!1&&(ot(n.label,n.value,"local"),re(!1))},disabled:n.available===!1,className:`w-full flex items-center justify-between px-3 py-2 text-left text-sm rounded-lg transition-colors group ${n.available===!1?"text-zinc-600 cursor-not-allowed opacity-50":"text-zinc-300 hover:bg-white/[0.06]"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-base",children:n.icon}),e.jsx("span",{children:n.label})]}),e.jsx("span",{className:"text-[10px] text-zinc-600 group-hover:text-zinc-400 font-mono",children:n.shortcut})]},n.value))})]}),je==="cloud"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 border-b border-white/5",children:e.jsx("span",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-semibold",children:"Cloud Providers"})}),e.jsx("div",{className:"p-2 text-xs text-zinc-500 bg-zinc-900/50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fs,{size:12,className:"mt-0.5 text-blue-400"}),e.jsx("span",{children:"Connect to cloud shell environments. May require authentication."})]})}),e.jsx("div",{className:"p-1 max-h-48 overflow-y-auto custom-scrollbar",children:xa.map(n=>e.jsxs("button",{onClick:()=>{ot(void 0,"default","cloud",n.id),re(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg transition-colors group",children:[e.jsx("span",{className:"text-base",children:n.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:n.name}),e.jsx("div",{className:"text-[10px] text-zinc-500 group-hover:text-zinc-400",children:n.description})]}),e.jsx(Ii,{size:12,className:"text-zinc-600"})]},n.id))})]}),je==="browser"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-3 py-2 border-b border-white/5",children:e.jsx("span",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-semibold",children:"Browser Terminal"})}),e.jsx("div",{className:"p-2 text-xs text-zinc-500 bg-zinc-900/50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Zt,{size:12,className:"mt-0.5 text-amber-400"}),e.jsx("span",{children:"Runs entirely in your browser. Supports basic commands like ls, cd, cat, mkdir, etc."})]})}),e.jsx("div",{className:"p-1",children:e.jsxs("button",{onClick:()=>{ot("Browser Terminal","default","browser"),re(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-left text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg transition-colors",children:[e.jsx("span",{className:"text-base",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Start Browser Terminal"}),e.jsx("div",{className:"text-[10px] text-zinc-500",children:"No backend required"})]})]})})]}),e.jsx("div",{className:"border-t border-white/5 p-1",children:e.jsxs("button",{onClick:()=>{Dt(),re(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-sm text-zinc-400 hover:bg-white/[0.06] rounded-lg transition-colors",children:[e.jsx(tr,{size:14}),e.jsx("span",{children:"Split Terminal"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{onClick:()=>Te(!Ge),className:`p-1.5 rounded-lg transition-all ${Ge?"bg-purple-500/20 text-purple-400":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:"Quick Commands (P)",children:e.jsx(Ft,{size:14})}),e.jsx("button",{onClick:()=>fe(!Ye),className:`p-1.5 rounded-lg transition-all ${Ye?"bg-blue-500/20 text-blue-400":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:"Command History (R)",children:e.jsx(sr,{size:14})}),e.jsx("button",{onClick:()=>pt(!Vt),className:`p-1.5 rounded-lg transition-all ${Vt?"bg-cyan-500/20 text-cyan-400":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:"Recent Directories (G)",children:e.jsx(ls,{size:14})}),e.jsx("button",{onClick:()=>Be(!He),className:`p-1.5 rounded-lg transition-all ${He?"bg-yellow-500/20 text-yellow-400":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:"Bookmarked Commands (B)",children:e.jsx(Wa,{size:14})}),e.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),e.jsx("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-medium uppercase tracking-wide ${(y==null?void 0:y.mode)==="cloud"?"text-blue-400 bg-blue-500/10 border border-blue-500/20":(y==null?void 0:y.mode)==="browser"?"text-amber-400 bg-amber-500/10 border border-amber-500/20":y!=null&&y.isConnected?"text-emerald-400 bg-emerald-500/10 border border-emerald-500/20":"text-amber-400 bg-amber-500/10 border border-amber-500/20"}`,children:(y==null?void 0:y.mode)==="cloud"?e.jsxs(e.Fragment,{children:[e.jsx(Fs,{size:10,className:"animate-pulse"}),"Cloud"]}):(y==null?void 0:y.mode)==="browser"?e.jsxs(e.Fragment,{children:[e.jsx(Zt,{size:10}),"Browser"]}):e.jsxs(e.Fragment,{children:[e.jsx(Gr,{size:10,className:y!=null&&y.isConnected?"animate-pulse":""}),xt?"Starting...":y!=null&&y.isConnected?"Connected":"Browser"]})}),(y==null?void 0:y.mode)==="local"&&(y==null?void 0:y.isConnected)&&e.jsx("button",{onClick:()=>Ct(!0),className:"p-1.5 text-emerald-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",title:"Disconnect from backend",children:e.jsx(ua,{size:14})}),e.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),e.jsx("button",{onClick:()=>{const n=y;if(n!=null&&n.terminal){const d=n.terminal.getSelection();d&&Kt(d)}},className:"p-1.5 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded-lg transition-all",title:"Copy Selection (C)",children:e.jsx(Gt,{size:14})}),e.jsx("button",{onClick:ra,className:"p-1.5 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded-lg transition-all",title:"Paste (V)",children:e.jsx(Ei,{size:14})}),e.jsx("button",{onClick:()=>{Q(!k),setTimeout(()=>{var n;return(n=oe.current)==null?void 0:n.focus()},100)},className:`p-1.5 rounded-lg transition-all ${k?"bg-cyan-500/20 text-cyan-400":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:"Search (F)",children:e.jsx(Is,{size:14})}),e.jsx("button",{onClick:()=>{var n;return(n=y==null?void 0:y.terminal)==null?void 0:n.clear()},className:"p-1.5 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded-lg transition-all",title:"Clear Terminal (K)",children:e.jsx(Wt,{size:14})}),e.jsx("button",{onClick:()=>{y!=null&&y.isConnected&&y.socket&&y.socket.emit("input","")},className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",title:"Kill Process (C)",children:e.jsx(yn,{size:14})}),e.jsx("button",{onClick:()=>be(!Z),className:`p-1.5 rounded-lg transition-all ${Z?"bg-white/10 text-white":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:"Keyboard Shortcuts (?)",children:e.jsx(ar,{size:14})}),e.jsxs("button",{onClick:()=>jt(!Bt),className:`relative p-1.5 rounded-lg transition-all ${Xe.filter(n=>!n.isResolved).length>0?"bg-red-500/20 text-red-400 hover:bg-red-500/30":Ze?"text-green-500 hover:bg-green-500/10":"text-zinc-500 hover:text-white hover:bg-white/[0.06]"}`,title:`Self-Healing Runtime ${Ze?"(Active)":"(Paused)"}`,children:[e.jsx(Ws,{size:14}),Xe.filter(n=>!n.isResolved).length>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full text-[8px] flex items-center justify-center text-white font-bold animate-pulse",children:Xe.filter(n=>!n.isResolved).length})]}),e.jsx("button",{onClick:()=>S(!ae),className:"p-1.5 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded-lg transition-all",title:ae?"Restore":"Maximize",children:ae?e.jsx(fr,{size:14}):e.jsx(Js,{size:14})})]})]}),k&&e.jsxs("div",{className:"h-10 bg-[#0f1115] border-b border-white/[0.06] flex items-center gap-2 px-3",children:[e.jsx(Is,{size:14,className:"text-zinc-500"}),e.jsx("input",{ref:oe,type:"text",value:ue,onChange:n=>q(n.target.value),onKeyDown:n=>{n.key==="Enter"?Qe(ue,n.shiftKey?"prev":"next"):n.key==="Escape"&&Q(!1)},placeholder:"Search terminal output...",className:"flex-1 bg-transparent text-sm text-white placeholder:text-zinc-600 outline-none"}),e.jsx("button",{onClick:()=>Qe(ue,"prev"),className:"p-1 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded transition-all",children:e.jsx(wn,{size:14})}),e.jsx("button",{onClick:()=>Qe(ue,"next"),className:"p-1 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded transition-all",children:e.jsx(Ti,{size:14})}),e.jsx("button",{onClick:()=>Q(!1),className:"p-1 text-zinc-500 hover:text-white hover:bg-white/[0.06] rounded transition-all",children:e.jsx(Ue,{size:14})})]}),e.jsxs("div",{ref:w,className:"flex-1 overflow-hidden relative",children:[ps&&(y==null?void 0:y.shellIntegration.commands.length)>0&&e.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 bg-[#0a0a0f]/95 backdrop-blur-sm border-b border-white/[0.06] px-3 py-1.5",children:(()=>{const n=y.shellIntegration.commands[y.shellIntegration.commands.length-1];return n?e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${n.decoration==="running"?"bg-blue-500 animate-pulse":n.decoration==="success"?"bg-emerald-500":n.decoration==="error"?"bg-red-500":"bg-zinc-500"}`}),e.jsx("span",{className:"font-mono text-zinc-300 truncate max-w-[300px]",children:n.command}),n.duration&&e.jsxs("span",{className:"text-[10px] text-zinc-600 font-mono",children:[n.duration,"ms"]}),n.exitCode!==void 0&&n.exitCode!==0&&e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-red-500/20 text-red-400 rounded",children:["exit ",n.exitCode]})]}):null})()}),Mt&&(y==null?void 0:y.shellIntegration.commands.length)>0&&e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-6 z-20 pointer-events-auto",children:y.shellIntegration.commands.slice(-20).map((n,d)=>{const o=40+d*24;return e.jsxs("div",{className:"absolute left-1 group cursor-pointer",style:{top:`${o}px`},onMouseEnter:()=>zt(n.id),onMouseLeave:()=>zt(null),onClick:()=>{y.terminal&&n.startLine!==void 0&&y.terminal.scrollToLine(n.startLine)},children:[e.jsxs("div",{className:`w-3 h-3 rounded-full flex items-center justify-center transition-all ${n.decoration==="running"?"bg-blue-500/30 ring-2 ring-blue-500/50":n.decoration==="success"?"bg-emerald-500/20 hover:bg-emerald-500/40":n.decoration==="error"?"bg-red-500/30 ring-1 ring-red-500/50":"bg-zinc-600/30"}`,children:[n.decoration==="success"&&e.jsx(cs,{size:8,className:"text-emerald-400"}),n.decoration==="error"&&e.jsx(Ur,{size:8,className:"text-red-400"}),n.decoration==="running"&&e.jsx(ds,{size:8,className:"text-blue-400 animate-spin"})]}),ns===n.id&&e.jsxs("div",{className:"absolute left-6 top-0 z-50 w-64 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-lg shadow-xl p-2 pointer-events-auto",children:[e.jsxs("div",{className:"text-[10px] text-zinc-500 mb-1",children:[n.startTime.toLocaleTimeString(),n.duration&&`  ${n.duration}ms`]}),e.jsx("div",{className:"font-mono text-xs text-zinc-300 truncate mb-2",children:n.command}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("button",{onClick:D=>{D.stopPropagation(),ys(y.id,n.command)},className:"flex items-center gap-1 px-2 py-1 text-[10px] bg-white/5 hover:bg-white/10 rounded text-zinc-300",children:[e.jsx(Ai,{size:10}),"Re-run"]}),e.jsxs("button",{onClick:D=>{D.stopPropagation(),Kt(n.command)},className:"flex items-center gap-1 px-2 py-1 text-[10px] bg-white/5 hover:bg-white/10 rounded text-zinc-300",children:[e.jsx(Gt,{size:10}),"Copy"]})]})]})]},n.id)})}),mt==null?void 0:mt.sessions.map(n=>{const d=n===mt.activeSessionId;return e.jsx("div",{id:`terminal-${n}`,className:`absolute inset-0 p-3 ${Mt?"pl-8":""} ${d?"block":"hidden"}`},n)}),Y&&(y==null?void 0:y.terminal)&&e.jsxs("div",{className:"absolute pointer-events-none z-40",style:{left:`${y.terminal.buffer.active.cursorX*parseInt(t)*.6+(Mt?36:16)}px`,top:`${y.terminal.buffer.active.cursorY*parseInt(t)*1.4+12}px`},children:[e.jsx("span",{className:"text-zinc-600 font-mono",style:{fontSize:`${t}px`},children:Y}),e.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-[9px] font-bold text-zinc-500 bg-white/5 border border-white/10 rounded",children:"TAB"})]})]}),e.jsxs("div",{className:"h-7 bg-gradient-to-r from-[#0c0e12] to-[#0e1016] border-t border-white/[0.04] flex items-center justify-between px-3 text-[10px] text-zinc-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-white/[0.03]",children:[e.jsx(ut,{size:10,className:"text-cyan-500"}),e.jsx("span",{className:"font-medium text-zinc-400",children:(y==null?void 0:y.shell)==="default"?"zsh":y==null?void 0:y.shell})]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(ls,{size:10,className:"text-blue-400"}),e.jsx("span",{className:"font-mono",children:y==null?void 0:y.cwd})]}),(y==null?void 0:y.environment.gitBranch)&&e.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-purple-500/10 text-purple-400",children:[e.jsx(Pt,{size:10}),e.jsx("span",{className:"font-medium",children:y.environment.gitBranch})]}),(y==null?void 0:y.shellIntegration.enabled)&&e.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded bg-emerald-500/10 text-emerald-400 cursor-help",title:`Shell Integration: ${y.shellIntegration.quality} quality - ${y.shellIntegration.commands.length} commands tracked`,children:[e.jsx(Ca,{size:9}),e.jsx("span",{className:"text-[9px] font-medium uppercase",children:y.shellIntegration.quality})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(y==null?void 0:y.environment.nodeVersion)&&e.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-500",children:[e.jsx("span",{className:"text-[9px]",children:""}),e.jsx("span",{className:"font-mono",children:y.environment.nodeVersion})]}),(y==null?void 0:y.environment.pythonVersion)&&e.jsxs("span",{className:"flex items-center gap-1.5 text-yellow-500",children:[e.jsx("span",{className:"text-[9px]",children:""}),e.jsx("span",{className:"font-mono",children:y.environment.pythonVersion})]}),e.jsx("div",{className:"w-px h-3 bg-white/10"}),(y==null?void 0:y.shellIntegration.commands.length)>0&&e.jsxs("span",{className:"flex items-center gap-1 text-zinc-600",children:[e.jsx(vn,{size:9}),e.jsx("span",{className:"font-mono",children:y.shellIntegration.commands.length})]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Di,{size:10}),y==null?void 0:y.startTime.toLocaleTimeString()]}),(y==null?void 0:y.lastCommandDuration)!==void 0&&e.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-md bg-cyan-500/10 text-cyan-400",children:[e.jsx(Pi,{size:10}),e.jsxs("span",{className:"font-mono",children:[y.lastCommandDuration,"ms"]})]}),e.jsx("span",{className:"flex items-center gap-1.5",children:(y==null?void 0:y.exitCode)===null?e.jsxs(e.Fragment,{children:[e.jsx(Gr,{size:10,className:"text-emerald-400 animate-pulse"})," ",e.jsx("span",{className:"text-emerald-400",children:"Running"})]}):(y==null?void 0:y.exitCode)===0?e.jsxs(e.Fragment,{children:[e.jsx(cs,{size:10,className:"text-emerald-400"})," ",e.jsx("span",{className:"text-emerald-400",children:"Exit 0"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ur,{size:10,className:"text-red-400"})," ",e.jsxs("span",{className:"text-red-400",children:["Exit ",y==null?void 0:y.exitCode]})]})})]})]}),ke&&e.jsxs("div",{className:"absolute bottom-10 right-4 flex items-center gap-2 bg-cyan-950/60 border border-cyan-500/20 px-4 py-2 rounded-full backdrop-blur-xl shadow-xl",children:[e.jsx(ds,{size:14,className:"animate-spin text-cyan-400"}),e.jsx("span",{className:"text-xs font-semibold text-cyan-300",children:"Neural Processing..."})]}),Re&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Le(null)}),e.jsx("div",{className:"fixed z-50 w-52 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden",style:{left:Re.x,top:Re.y},children:e.jsxs("div",{className:"p-1",children:[e.jsxs("button",{onClick:()=>{const n=prompt("Enter new name:");n&&Yt(Re.sessionId,n),Le(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg",children:[e.jsx(Ri,{size:14}),"Rename"]}),e.jsxs("button",{onClick:()=>{Dt(),Le(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg",children:[e.jsx(tr,{size:14}),"Split Terminal"]}),e.jsxs("button",{onClick:()=>{var d;const n=C.get(Re.sessionId);if(n!=null&&n.terminal){const o=((d=n.terminal.buffer.active.getLine(0))==null?void 0:d.translateToString())||"";Kt(o)}Le(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg",children:[e.jsx(Gt,{size:14}),"Copy Output"]}),e.jsxs("button",{onClick:()=>{var d;const n=C.get(Re.sessionId);(d=n==null?void 0:n.terminal)==null||d.clear(),Le(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg",children:[e.jsx(Wt,{size:14}),"Clear Terminal"]}),e.jsx("div",{className:"border-t border-white/5 my-1"}),e.jsxs("button",{onClick:()=>{Lt(Re.sessionId),Le(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg",children:[e.jsx(ua,{size:14}),"Kill Terminal"]})]})})]}),Ge&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Te(!1)}),e.jsxs("div",{className:"absolute top-12 right-4 w-72 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{size:14,className:"text-purple-400"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Quick Commands"})]}),e.jsx("button",{onClick:()=>Te(!1),className:"text-zinc-500 hover:text-white",children:e.jsx(Ue,{size:14})})]}),e.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:["npm","git","system"].map(n=>e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-600 font-semibold px-2 py-1",children:n}),zc.filter(d=>d.category===n).map((d,o)=>e.jsxs("button",{onClick:()=>{const D=$e();D!=null&&D.terminal&&(D.isConnected&&D.socket?D.socket.emit("input",d.cmd+"\r"):(D.terminal.write(d.cmd),dt(d.cmd,D))),Te(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left text-sm text-zinc-300 hover:bg-white/[0.06] rounded-lg group",children:[e.jsx(d.icon,{size:14,className:"text-zinc-500 group-hover:text-cyan-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-[10px] text-zinc-600 font-mono",children:d.cmd})]}),e.jsx(Ts,{size:12,className:"text-zinc-700 group-hover:text-zinc-500"})]},o))]},n))})]})]}),Ye&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>fe(!1)}),e.jsxs("div",{className:"absolute top-12 right-4 w-80 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sr,{size:14,className:"text-blue-400"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Run Recent Command"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-white/5 rounded text-zinc-500",children:"R"}),e.jsx("button",{onClick:()=>fe(!1),className:"text-zinc-500 hover:text-white",children:e.jsx(Ue,{size:14})})]})]}),e.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:(y==null?void 0:y.shellIntegration.commands.length)===0?e.jsx("div",{className:"text-center py-6 text-zinc-600 text-sm",children:"No commands yet"}):[...(y==null?void 0:y.shellIntegration.commands)||[]].reverse().map(n=>e.jsxs("div",{className:"group flex items-center gap-2 px-3 py-2 hover:bg-white/[0.04] rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${n.decoration==="success"?"bg-emerald-500":n.decoration==="error"?"bg-red-500":n.decoration==="running"?"bg-blue-500 animate-pulse":"bg-zinc-500"}`}),e.jsx("button",{onClick:()=>{y&&ys(y.id,n.command),fe(!1)},className:"flex-1 text-left font-mono text-sm text-zinc-300 truncate",children:n.command}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 shrink-0",children:[e.jsx("span",{className:"text-[9px] text-zinc-600 font-mono",children:n.duration?`${n.duration}ms`:""}),e.jsx("button",{onClick:d=>{d.stopPropagation(),Kt(n.command)},className:"p-1 text-zinc-500 hover:text-white rounded",title:"Copy",children:e.jsx(Gt,{size:12})}),e.jsx("button",{onClick:d=>{d.stopPropagation(),y&&Ea(y.id,n.command)},className:"p-1 text-zinc-500 hover:text-yellow-400 rounded",title:"Bookmark",children:e.jsx(Wa,{size:12})})]})]},n.id))}),e.jsx("div",{className:"px-3 py-2 border-t border-white/5 text-[10px] text-zinc-600",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:" Navigate"}),e.jsx("span",{children:" Run"}),e.jsx("span",{children:" Insert without running"})]})})]})]}),Vt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>pt(!1)}),e.jsxs("div",{className:"absolute top-12 right-4 w-80 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{size:14,className:"text-cyan-400"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Go to Recent Directory"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 bg-white/5 rounded text-zinc-500",children:"G"}),e.jsx("button",{onClick:()=>pt(!1),className:"text-zinc-500 hover:text-white",children:e.jsx(Ue,{size:14})})]})]}),e.jsx("div",{className:"p-2 max-h-72 overflow-y-auto",children:(y?ws(y.id):[]).length===0?e.jsxs("div",{className:"text-center py-6 text-zinc-600 text-sm",children:[e.jsx(ls,{size:24,className:"mx-auto mb-2 opacity-30"}),"No recent directories",e.jsx("div",{className:"text-xs mt-1",children:"Use 'cd' to navigate"})]}):(y?ws(y.id):[]).map(n=>e.jsxs("div",{className:"group flex items-center gap-2 px-3 py-2 hover:bg-white/[0.04] rounded-lg",children:[e.jsx(ls,{size:14,className:"text-blue-400 shrink-0"}),e.jsx("button",{onClick:()=>{if(y){const d=`cd "${n.path}"`;ys(y.id,d)}pt(!1)},className:"flex-1 text-left font-mono text-sm text-zinc-300 truncate",children:n.path}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 shrink-0",children:[e.jsxs("span",{className:"text-[9px] text-zinc-600",children:[n.visitCount,"x"]}),e.jsx("button",{onClick:d=>{d.stopPropagation(),Kt(n.path)},className:"p-1 text-zinc-500 hover:text-white rounded",title:"Copy path",children:e.jsx(Gt,{size:12})})]})]},n.path))}),e.jsx("div",{className:"px-3 py-2 border-t border-white/5 text-[10px] text-zinc-600",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:" Navigate"}),e.jsx("span",{children:" Go to directory"})]})})]})]}),Bt&&Xe.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>jt(!1)}),e.jsxs("div",{className:"absolute bottom-14 right-4 w-[420px] bg-[#1a1d24]/95 backdrop-blur-xl border border-red-500/30 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-red-500/20 bg-red-950/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ws,{size:18,className:"text-red-400"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-white",children:"Self-Healing Runtime"}),e.jsxs("span",{className:"ml-2 text-xs text-red-400/80",children:[Xe.filter(n=>!n.isResolved).length," error",Xe.filter(n=>!n.isResolved).length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>xs(!Ze),className:`p-1.5 rounded-lg transition-colors ${Ze?"bg-green-500/20 text-green-400":"bg-zinc-700/50 text-zinc-500"}`,title:Ze?"Disable auto-detection":"Enable auto-detection",children:Ze?e.jsx(rr,{size:14}):e.jsx(Bi,{size:14})}),e.jsx("button",{onClick:Pa,className:"p-1.5 text-zinc-500 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"Clear all",children:e.jsx(Wt,{size:14})}),e.jsx("button",{onClick:()=>jt(!1),className:"p-1.5 text-zinc-500 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(Ue,{size:14})})]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:Xe.map(n=>e.jsxs("div",{className:`border-b border-white/5 last:border-b-0 ${n.isResolved?"opacity-50":""}`,children:[e.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-red-950/20 to-transparent",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fa,{size:14,className:n.isResolved?"text-green-500":"text-red-400"}),e.jsx("span",{className:"text-xs font-mono text-red-300 uppercase",children:n.error}),n.isResolved&&e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-500/20 text-green-400 rounded-full",children:"Resolved"})]}),e.jsx("span",{className:"text-[10px] text-zinc-600",children:n.timestamp.toLocaleTimeString()})]}),e.jsx("pre",{className:"mt-2 text-[11px] text-zinc-500 font-mono overflow-x-auto max-h-16 scrollbar-thin",children:n.context.split(`
`).slice(-3).join(`
`)})]}),e.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-purple-950/10 to-transparent",children:n.isAnalyzing?e.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[e.jsx(ds,{size:14,className:"animate-spin"}),e.jsx("span",{className:"text-xs",children:"AI analyzing error..."})]}):n.diagnosis?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-zinc-500 uppercase font-semibold mb-1",children:[e.jsx(br,{size:10}),"Issue"]}),e.jsx("p",{className:"text-xs text-zinc-300",children:n.diagnosis.issue})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-zinc-500 uppercase font-semibold mb-1",children:[e.jsx(Mi,{size:10}),"Suggested Fix"]}),e.jsx("p",{className:"text-xs text-zinc-400",children:n.diagnosis.fix})]}),n.diagnosis.command&&!n.isResolved&&e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-xs font-mono bg-black/40 px-3 py-2 rounded-lg text-cyan-300 border border-cyan-500/20",children:n.diagnosis.command}),e.jsxs("button",{onClick:()=>Da(n.id,n.diagnosis.command),className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white text-xs font-medium rounded-lg transition-all shadow-lg shadow-green-500/20",children:[e.jsx(Ks,{size:12}),"Apply Fix"]})]})]}):e.jsx("div",{className:"text-xs text-zinc-500",children:"No diagnosis available"})}),!n.isResolved&&e.jsx("div",{className:"px-4 py-2 border-t border-white/5 flex justify-end",children:e.jsx("button",{onClick:()=>Ot(n.id),className:"text-[10px] text-zinc-600 hover:text-zinc-400 transition-colors",children:"Dismiss"})})]},n.id))}),e.jsxs("div",{className:"px-4 py-2 border-t border-white/5 bg-black/20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-zinc-600",children:[e.jsx(Sa,{size:10}),e.jsx("span",{children:"Powered by AI diagnosis"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Ze?"bg-green-500":"bg-zinc-600"}`}),e.jsx("span",{className:"text-[10px] text-zinc-500",children:Ze?"Monitoring":"Paused"})]})]})]})]}),!Bt&&Xe.filter(n=>!n.isResolved).length>0&&e.jsxs("button",{onClick:()=>jt(!0),className:"absolute bottom-14 right-4 flex items-center gap-2 px-3 py-2 bg-red-950/80 border border-red-500/30 rounded-full shadow-xl backdrop-blur-xl animate-pulse z-50",children:[e.jsx(Ws,{size:14,className:"text-red-400"}),e.jsxs("span",{className:"text-xs font-medium text-red-300",children:[Xe.filter(n=>!n.isResolved).length," error",Xe.filter(n=>!n.isResolved).length!==1?"s":""," detected"]}),e.jsx(Ts,{size:12,className:"text-red-500"})]}),He&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>Be(!1)}),e.jsxs("div",{className:"absolute top-12 right-4 w-72 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wa,{size:14,className:"text-yellow-400"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Bookmarked Commands"})]}),e.jsx("button",{onClick:()=>Be(!1),className:"text-zinc-500 hover:text-white",children:e.jsx(Ue,{size:14})})]}),e.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:(y==null?void 0:y.bookmarkedCommands.length)===0?e.jsxs("div",{className:"text-center py-6 text-zinc-600 text-sm",children:["No bookmarks yet",e.jsx("br",{}),e.jsx("span",{className:"text-xs",children:"Use history to bookmark commands"})]}):y==null?void 0:y.bookmarkedCommands.map((n,d)=>e.jsxs("div",{className:"group flex items-center justify-between px-3 py-2 hover:bg-white/[0.04] rounded-lg",children:[e.jsx("button",{onClick:()=>{const o=$e();o!=null&&o.terminal&&(o.isConnected&&o.socket?o.socket.emit("input",n+"\r"):(o.terminal.write(n),dt(n,o))),Be(!1)},className:"flex-1 text-left font-mono text-sm text-zinc-300 truncate",children:n}),e.jsx("button",{onClick:()=>y&&Ta(y.id,n),className:"p-1 text-zinc-500 hover:text-red-400 rounded opacity-0 group-hover:opacity-100",title:"Remove",children:e.jsx(Ue,{size:12})})]},d))})]})]}),Z&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>be(!1)}),e.jsxs("div",{className:"absolute top-12 right-4 w-80 bg-[#1a1d24]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-white/5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ar,{size:14,className:"text-white"}),e.jsx("span",{className:"text-xs font-semibold text-white",children:"Keyboard Shortcuts"})]}),e.jsx("button",{onClick:()=>be(!1),className:"text-zinc-500 hover:text-white",children:e.jsx(Ue,{size:14})})]}),e.jsx("div",{className:"p-3 max-h-80 overflow-y-auto space-y-3",children:[{category:"Shell Integration",shortcuts:[{keys:" ",desc:"Previous command"},{keys:" ",desc:"Next command"},{keys:" R",desc:"Run recent command"},{keys:" G",desc:"Go to directory"},{keys:"  ",desc:"Select to previous command"},{keys:"  ",desc:"Select to next command"}]},{category:"Navigation",shortcuts:[{keys:" K",desc:"Clear terminal"},{keys:" F",desc:"Search output"},{keys:" T",desc:"New terminal"},{keys:" W",desc:"Close terminal"},{keys:"  ]",desc:"Next terminal"},{keys:"  [",desc:"Previous terminal"}]},{category:"Editing",shortcuts:[{keys:" C",desc:"Cancel/Kill process"},{keys:" D",desc:"Exit shell"},{keys:" L",desc:"Clear screen"},{keys:" A",desc:"Move to line start"},{keys:" E",desc:"Move to line end"},{keys:" U",desc:"Clear line"}]},{category:"History",shortcuts:[{keys:" / ",desc:"Navigate history"},{keys:" R",desc:"Reverse search"},{keys:"Tab",desc:"Autocomplete"}]}].map(n=>e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-semibold mb-2",children:n.category}),e.jsx("div",{className:"space-y-1",children:n.shortcuts.map((d,o)=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:d.desc}),e.jsx("kbd",{className:"px-2 py-0.5 bg-white/5 border border-white/10 rounded text-[11px] font-mono text-zinc-300",children:d.keys})]},o))})]},n.category))})]})]}),v&&e.jsxs("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 flex items-center gap-2 bg-emerald-950/80 border border-emerald-500/20 px-4 py-2 rounded-full backdrop-blur-xl shadow-xl animate-in fade-in slide-in-from-bottom-4",children:[e.jsx(cs,{size:14,className:"text-emerald-400"}),e.jsx("span",{className:"text-xs font-medium text-emerald-300",children:"Copied to clipboard"})]}),Rt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>Ct(!1)}),e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-[400px] bg-gradient-to-b from-[#1a1d26] to-[#14161d] border border-white/10 rounded-2xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/10 border border-red-500/20 flex items-center justify-center",children:e.jsx(ua,{size:20,className:"text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Disconnect Terminal"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"End connection to local backend"})]})]}),e.jsx("p",{className:"text-sm text-zinc-400 mb-6",children:"This will disconnect all terminal sessions from your local machine. You can reconnect at any time by clicking the connect button."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>Ct(!1),className:"flex-1 px-4 py-2.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-sm font-medium text-zinc-300 transition-all",children:"Cancel"}),e.jsxs("button",{onClick:Me,className:"flex-1 px-4 py-2.5 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded-xl text-sm font-medium text-red-400 transition-all flex items-center justify-center gap-2",children:[e.jsx(ua,{size:16}),"Disconnect"]})]})]})})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.03)_50%),linear-gradient(90deg,rgba(255,0,0,0.01),rgba(0,255,0,0.005),rgba(0,0,255,0.01))] bg-[length:100%_3px,3px_100%] z-0 opacity-30"}),Ie&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>re(!1)})]})});Gn.displayName="RealTerminal";const Ic=()=>e.jsxs("div",{className:"absolute inset-0 pointer-events-none select-none overflow-hidden opacity-20 text-[var(--color-text-secondary)]",children:[e.jsxs("svg",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] animate-subtle-rotate opacity-30",style:{animationDuration:"240s"},viewBox:"0 0 400 400",children:[e.jsx("circle",{cx:"200",cy:"200",r:"150",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"8, 8"}),e.jsx("path",{d:"M50,200 A150,150 0 0,1 350,200",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),e.jsx("path",{d:"M200,50 A150,150 0 0,1 200,350",fill:"none",stroke:"currentColor",strokeWidth:"0.5"}),e.jsx("path",{d:"M100,100 L300,300",stroke:"currentColor",strokeWidth:"0.5",strokeDasharray:"4,4",className:"animate-flow-dashes",style:{animationDuration:"5s"}}),e.jsx("path",{d:"M100,300 L300,100",stroke:"currentColor",strokeWidth:"0.5",strokeDasharray:"4,4",className:"animate-flow-dashes",style:{animationDuration:"5s",animationDirection:"reverse"}})]}),e.jsx("div",{className:"absolute top-[10%] left-[15%] animate-doodle-float",style:{animationDuration:"12s"},children:e.jsx("span",{className:"font-mono text-5xl opacity-50",children:"{ }"})}),e.jsxs("svg",{className:"absolute bottom-[15%] right-[10%] w-48 h-32 animate-doodle-float",style:{animationDuration:"10s",animationDelay:"2s"},viewBox:"0 0 100 100",children:[e.jsx("path",{d:"M10 90 Q 50 10, 90 90",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"5,5"}),e.jsx("circle",{cx:"10",cy:"90",r:"3",fill:"currentColor"}),e.jsx("circle",{cx:"90",cy:"90",r:"3",fill:"currentColor"})]}),e.jsx("svg",{className:"absolute top-[20%] right-[20%] w-24 h-24 animate-doodle-float",style:{animationDuration:"15s",animationDelay:"1s"},children:e.jsx("rect",{x:"10",y:"10",width:"80",height:"80",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeDasharray:"3,3",className:"rotate-12"})}),e.jsx("div",{className:"absolute bottom-[25%] left-[20%] animate-doodle-float",style:{animationDuration:"13s",animationDelay:"3s"},children:e.jsx("span",{className:"font-mono text-3xl opacity-40",children:"fn()"})}),e.jsx("svg",{className:"absolute top-[60%] right-[30%] w-32 h-20 animate-doodle-float opacity-60",style:{animationDuration:"11s",animationDelay:"0.5s"},children:e.jsx("path",{d:"M20 50 A20 20 0 1 1 60 50 A15 15 0 1 1 90 50 A10 10 0 1 1 80 30 A25 25 0 1 1 20 50 Z",fill:"currentColor",opacity:"0.1"})})]}),Ec=({onNewFile:t,onOpenCommandPalette:s,onOpenSettings:r,onAIAppGen:c,onOpenDocs:l,onOpenRecorder:g,onOpenCollaboration:j,onOpenWhiteboard:x,onChangePanel:h,userName:b="Designer",activeModelId:f,recents:p=[],userPlan:E="Hobby",onRestrictedClick:C})=>{const A=E==="Hobby",[U,me]=a.useState(""),te=a.useRef(null),_=a.useRef(null),ae=a.useRef(null),S=a.useRef(null),k=a.useRef(null),Q=q=>{q.preventDefault(),U.trim()&&c&&c(U,"app")};a.useEffect(()=>{const q=te.current;if(!q)return;const Ie=()=>{const re=q.scrollTop;_.current&&(_.current.style.transform=`translateY(${re*.4}px)`),ae.current&&(ae.current.style.transform=`translateY(${re*.2}px)`),S.current&&(S.current.style.transform=`translateY(${re*.1}px)`),k.current&&(k.current.style.transform=`translateY(${re*.05}px)`)};return q.addEventListener("scroll",Ie,{passive:!0}),()=>q.removeEventListener("scroll",Ie)},[]);const ue=[{id:"live-meeting",title:"Live Meeting",description:"Doodle together. Real-time sync for teams.",icon:e.jsx(ts,{size:20}),color:"text-emerald-600",bg:"bg-emerald-100",action:A?()=>C==null?void 0:C("Live Meeting"):j,locked:A},{id:"whiteboard",title:"Whiteboard",description:"Freeform canvas for architectural design.",icon:e.jsx(yr,{size:20}),color:"text-purple-600",bg:"bg-purple-100",action:A?()=>C==null?void 0:C("Whiteboard"):x,locked:A},{id:"docs",title:"Sketchpad",description:"Docs and technical specs as a canvas.",icon:e.jsx(bt,{size:20}),color:"text-indigo-600",bg:"bg-indigo-100",action:A?()=>C==null?void 0:C("Sketchpad"):l,locked:A},{id:"recorder",title:"Demo Catcher",description:"Record screen and camera instantly.",icon:e.jsx(fn,{size:20}),color:"text-rose-600",bg:"bg-rose-100",action:A?()=>C==null?void 0:C("Demo Catcher"):g,locked:A},{id:"agent",title:"AI Chat",description:"An AI that thinks in logic scribbles.",icon:e.jsx(vr,{size:20}),color:"text-blue-600",bg:"bg-blue-100",action:A?()=>C==null?void 0:C("AI Chat"):()=>c==null?void 0:c("Let's start a new architectural discussion.","chat"),locked:A}];return e.jsxs("div",{ref:te,className:"h-full w-full bg-[var(--color-background)] relative overflow-y-auto custom-scrollbar flex flex-col p-8 md:p-16 text-[var(--color-text-primary)]",children:[e.jsx(Ic,{}),e.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto w-full",children:[e.jsx("div",{ref:_,style:{willChange:"transform"},children:e.jsx("div",{className:"flex justify-between items-start mb-12",children:e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("p",{className:"text-3xl md:text-4xl text-[var(--color-text-secondary)] doodle-text mb-4",children:["Hello, ",e.jsx("span",{className:"text-[var(--color-text-accent)]",children:b}),"."]}),e.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black text-[var(--color-text-primary)] tracking-tighter mb-4 doodle-text",children:["Let's ",e.jsxs("span",{className:"relative inline-block",children:["Code.",e.jsx("svg",{className:"absolute bottom-[-12px] left-0 w-full h-4",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,5 Q50,10 100,5",stroke:"var(--color-text-accent)",strokeWidth:"8",fill:"none",strokeLinecap:"round"})})]})," Collaborate. Create."]}),e.jsx("p",{className:"text-[var(--color-text-secondary)] text-xl max-w-xl font-medium mt-8 leading-relaxed",children:"Turn your scribbles into logic with Sai. Organic synthesis for a modern, AI-first ecosystem."})]})})}),e.jsx("div",{ref:ae,className:"mb-24 w-full",style:{willChange:"transform"},children:e.jsx("form",{onSubmit:Q,className:"relative group",children:e.jsxs("div",{className:"relative flex items-center bg-white sketch-border sketch-shadow shadow-[inset_0_2px_4px_0_rgba(0,0,0,0.06)] p-2 transition-all group-focus-within:-translate-y-1 group-focus-within:shadow-xl",children:[e.jsx("div",{className:"pl-4 pr-3 text-gray-400 group-focus-within:text-[var(--color-text-accent)] transition-colors",children:e.jsx(Oi,{size:24,strokeWidth:2.5})}),e.jsx("input",{type:"text",value:U,onChange:q=>me(q.target.value),placeholder:"What should we build today in Sai?...",className:"flex-1 bg-transparent text-gray-800 text-2xl font-bold focus:outline-none doodle-text h-14 placeholder-gray-400"}),e.jsx("button",{type:"submit",className:"p-3 bg-[var(--color-accent)] text-white rounded-2xl hover:bg-[var(--color-accent-hover)] transition-all active:scale-95 shadow-lg shadow-blue-500/20",children:e.jsx(wr,{size:24,strokeWidth:3})})]})})}),e.jsx("div",{ref:S,style:{willChange:"transform"},children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:ue.map(q=>e.jsxs("button",{onClick:()=>{var Ie;return(Ie=q.action)==null?void 0:Ie.call(q)},className:`text-left bg-white sketch-border sketch-shadow p-6 group hover:-translate-y-2 transition-all relative ${q.locked?"opacity-75":""}`,children:[q.locked&&e.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center",children:e.jsx(xr,{size:12,className:"text-amber-600"})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-12 h-12 border-2 border-dashed border-gray-200 rounded-xl transition-transform group-hover:-translate-x-1 group-hover:-translate-y-1"}),e.jsx("div",{className:`w-14 h-14 rounded-2xl ${q.bg} ${q.color} flex items-center justify-center mb-6 shadow-sm group-hover:scale-110 transition-transform`,children:q.icon}),e.jsx("h3",{className:"font-black text-gray-900 mb-2 doodle-text text-xl",children:q.title}),e.jsx("p",{className:"text-xs text-gray-500 font-bold leading-relaxed",children:q.description}),q.locked&&e.jsx("p",{className:"text-[10px] text-amber-600 font-bold mt-2",children:"Pro Feature"})]},q.id))})}),e.jsx("div",{ref:k,style:{willChange:"transform"},children:e.jsxs("div",{className:"mt-20 pt-16 border-t-2 border-dashed border-gray-200 flex flex-wrap gap-6 justify-center",children:[e.jsxs("button",{onClick:t,className:"flex items-center gap-2.5 text-sm font-black text-[var(--color-text-secondary)] hover:text-[var(--color-text-accent)] transition-all hover:scale-105",children:[e.jsx(ss,{size:16,strokeWidth:3})," New Draft"]}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2.5 text-sm font-black text-[var(--color-text-secondary)] hover:text-[var(--color-text-accent)] transition-all hover:scale-105",children:[e.jsx(ut,{size:16,strokeWidth:3})," Run Cmd"]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2.5 text-sm font-black text-[var(--color-text-secondary)] hover:text-[var(--color-text-accent)] transition-all hover:scale-105",children:[e.jsx(kt,{size:16,strokeWidth:3})," Config"]})]})})]})]})},Tc=({original:t,modified:s,fileName:r,onApply:c,onDiscard:l})=>{const g=t.split(`
`),j=s.split(`
`);return e.jsxs("div",{className:"flex flex-col h-full bg-[#0d1117] animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-[#161b22] border-b border-white/10 shadow-xl z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-cyan-500/10 rounded-xl text-cyan-400 border border-cyan-500/20",children:e.jsx(ks,{size:18,fill:"currentColor"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-sm font-black text-white uppercase tracking-widest flex items-center gap-2",children:["Reviewing Proposed Logic ",e.jsx(wr,{size:14,className:"text-gray-600"})," ",e.jsx("span",{className:"text-cyan-400 font-mono",children:r})]}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase mt-0.5",children:"Synthesis complete  AI-Native Refactor"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 rounded-xl text-xs font-black uppercase text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Discard"}),e.jsxs("button",{onClick:c,className:"px-6 py-2 rounded-xl bg-cyan-600 hover:bg-cyan-500 text-white text-xs font-black uppercase tracking-widest shadow-xl shadow-cyan-900/40 transition-all active:scale-95 flex items-center gap-2",children:[e.jsx(Qt,{size:14})," Accept Synthesis"]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden font-mono text-xs",children:[e.jsxs("div",{className:"flex-1 flex flex-col border-r border-white/5 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-2 bg-black/40 text-[10px] font-black text-rose-500 uppercase border-b border-white/5 tracking-tighter",children:"Current Source"}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 bg-[#0d1117]",children:g.map((x,h)=>e.jsxs("div",{className:"flex gap-4 min-h-[1.2rem]",children:[e.jsx("span",{className:"w-8 text-right text-gray-700 select-none",children:h+1}),e.jsx("span",{className:"text-gray-400 whitespace-pre",children:x})]},h))})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-[#0d1117]",children:[e.jsx("div",{className:"px-4 py-2 bg-black/40 text-[10px] font-black text-cyan-400 uppercase border-b border-white/5 tracking-tighter",children:"AI-Synthesized Target"}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 bg-[#0d1117]",children:j.map((x,h)=>{const b=!g.includes(x);return e.jsxs("div",{className:`flex gap-4 min-h-[1.2rem] ${b?"bg-cyan-500/10 border-l-2 border-cyan-500":""}`,children:[e.jsx("span",{className:`w-8 text-right select-none ${b?"text-cyan-500 font-bold":"text-gray-700"}`,children:h+1}),e.jsx("span",{className:`${b?"text-white":"text-gray-400"} whitespace-pre`,children:x})]},h)})})]})]})]})},Ac=["#000000","#2563eb","#dc2626","#16a34a","#d97706","#9333ea","#ffffff"],Un=({onCollapse:t,onReturnToWelcome:s,activeModelId:r})=>{const c=a.useRef(null),l=a.useRef(null),g=a.useRef(null),[j,x]=a.useState([]),[h,b]=a.useState([]),[f,p]=a.useState(0),[E,C]=a.useState("pencil"),[A,U]=a.useState("#000000"),[me,te]=a.useState(4),[_,ae]=a.useState(!0),[S,k]=a.useState(!1),[Q,ue]=a.useState(null),[q,Ie]=a.useState(null),[re,Re]=a.useState(""),[Le,ke]=a.useState(!1),[pe,Y]=a.useState(null),We=(v,z)=>{if(v.strokeStyle=z.color,v.lineWidth=z.size,v.lineCap="round",v.lineJoin="round",v.fillStyle=z.color,z.type==="eraser"&&(v.strokeStyle="#f1f5f9",v.lineWidth=z.size*4),v.beginPath(),z.type==="pencil"||z.type==="eraser")z.points&&z.points.length>0&&(v.moveTo(z.points[0].x,z.points[0].y),z.points.forEach(le=>v.lineTo(le.x,le.y)),v.stroke());else if(z.start&&z.end){const{x:le,y:ve}=z.start,{x:je,y:Se}=z.end;if(z.type==="line"){v.moveTo(le,ve),v.lineTo(je,Se),v.stroke();const G=Math.atan2(Se-ve,je-le),ne=15;v.beginPath(),v.moveTo(je,Se),v.lineTo(je-ne*Math.cos(G-Math.PI/6),Se-ne*Math.sin(G-Math.PI/6)),v.lineTo(je-ne*Math.cos(G+Math.PI/6),Se-ne*Math.sin(G+Math.PI/6)),v.lineTo(je,Se),v.fill()}else if(z.type==="rect")v.strokeRect(le,ve,je-le,Se-ve);else if(z.type==="circle"){const G=Math.sqrt(Math.pow(je-le,2)+Math.pow(Se-ve,2));v.beginPath(),v.arc(le,ve,G,0,2*Math.PI),v.stroke()}}else z.type==="text"&&z.start&&z.text&&(v.font=`${z.size*4}px sans-serif`,v.textBaseline="top",v.fillText(z.text,z.start.x,z.start.y))},Ye=(v,z,le)=>{v.fillStyle="#cbd5e1";for(let ve=0;ve<z;ve+=40)for(let je=0;je<le;je+=40)v.fillRect(ve,je,2,2)},fe=a.useCallback(()=>{const v=c.current;if(!v)return;const z=v.getContext("2d");z&&(z.clearRect(0,0,v.width,v.height),z.fillStyle="#f1f5f9",z.fillRect(0,0,v.width,v.height),_&&Ye(z,v.width,v.height),j.forEach(le=>We(z,le)),Q&&We(z,Q))},[j,Q,_]);a.useEffect(()=>{fe()},[fe]),a.useEffect(()=>{const v=c.current,z=l.current;if(!v||!z)return;const le=()=>{v.width=z.clientWidth,v.height=z.clientHeight,fe()},ve=new ResizeObserver(()=>{le()});return ve.observe(z),le(),()=>ve.disconnect()},[fe]);const Ge=v=>{if(!c.current)return{x:0,y:0};const z=c.current.getBoundingClientRect(),le=v.touches?v.touches[0].clientX:v.clientX,ve=v.touches?v.touches[0].clientY:v.clientY;return{x:le-z.left,y:ve-z.top}},Te=v=>{if(E==="text"){if(q)Z();else{const ve=Ge(v);Ie(ve),setTimeout(()=>{var je;return(je=g.current)==null?void 0:je.focus()},50)}return}const z=Ge(v);k(!0);const le={id:Date.now().toString(),type:E,color:A,size:me,points:[z],start:z,end:z};ue(le)},He=v=>{if(!S||!Q)return;const z=Ge(v);ue(E==="pencil"||E==="eraser"?{...Q,points:[...Q.points||[],z]}:{...Q,end:z})},Be=()=>{if(!S||!Q)return;k(!1);const v=[...j,Q];x(v),ue(null);const z=h.slice(0,f+1);z.push(v),b(z),p(z.length-1)},Z=()=>{if(!q||!re.trim()){Ie(null),Re("");return}const v={id:Date.now().toString(),type:"text",start:q,end:q,text:re,color:A,size:me},z=[...j,v];x(z);const le=h.slice(0,f+1);le.push(z),b(le),p(le.length-1),Ie(null),Re("")},be=()=>{if(f>0){const v=f-1;x(h[v]||[]),p(v)}else f===0&&(x([]),p(-1))},Ae=()=>{if(f<h.length-1){const v=f+1;x(h[v]),p(v)}},De=()=>{x([]),b([]),p(0),Y(null)},Pe=()=>{const v=c.current;if(!v)return;const z=document.createElement("a");z.download=`SaiWhiteboard_${Date.now()}.png`,z.href=v.toDataURL(),z.click()};a.useEffect(()=>{const v=z=>{q||((z.metaKey||z.ctrlKey)&&z.key==="z"&&(z.preventDefault(),be()),(z.metaKey||z.ctrlKey)&&z.key==="y"&&(z.preventDefault(),Ae()),!z.metaKey&&!z.ctrlKey&&(z.key==="p"&&C("pencil"),z.key==="r"&&C("rect"),z.key==="c"&&C("circle"),z.key==="l"&&C("line"),z.key==="t"&&C("text"),z.key==="e"&&C("eraser")))};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[q,f,h]);const Ve=async()=>{const v=c.current;if(v){ke(!0),Y(null);try{const le=v.toDataURL("image/png").split(",")[1],ve=await ka.getChatResponse({prompt:"Interpret this architectural whiteboard sketch. Describe the components, their relationships, and suggest the tech stack that would be most appropriate. Be precise and professional.",modelId:"gemini-3-pro-image-preview",attachments:[{data:le,mimeType:"image/png",name:"sketch.png"}]});Y(ve.text||"Neural core failed to yield a conclusive interpretation.")}catch{Y("Link unstable. Synthesis error.")}finally{ke(!1)}}};return e.jsxs("div",{className:"h-full flex flex-col bg-slate-100 relative overflow-hidden font-sans",children:[e.jsxs("div",{className:"h-14 bg-white border-b border-slate-200 flex items-center justify-between px-4 z-20 shrink-0 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s&&e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-full text-slate-500 transition-colors",children:e.jsx(Li,{size:20})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-lg text-blue-600",children:e.jsx(hn,{size:18})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xs font-black uppercase tracking-widest text-slate-900",children:"Project Whiteboard"}),e.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tighter",children:"Architecture & Flow Studio"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:Ve,disabled:Le,className:"flex items-center gap-2 px-4 py-1.5 bg-slate-900 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg hover:bg-black transition-all disabled:opacity-50",children:[Le?e.jsx(Es,{size:14,className:"animate-spin"}):e.jsx(vr,{size:14}),Le?"Analyzing Sketch...":"AI Interpret"]}),t&&e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Ue,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-16 bg-white border-r border-slate-200 flex flex-col items-center py-6 gap-6 shrink-0 z-10 shadow-lg overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"flex flex-col gap-2 p-1.5 bg-slate-50 rounded-2xl border border-slate-100",children:[{id:"pencil",icon:e.jsx(Nn,{size:18}),label:"Draw (P)"},{id:"line",icon:e.jsx(_i,{size:18}),label:"Arrow (L)"},{id:"rect",icon:e.jsx(yn,{size:18}),label:"Rectangle (R)"},{id:"circle",icon:e.jsx($i,{size:18}),label:"Circle (C)"},{id:"text",icon:e.jsx(Fi,{size:18}),label:"Text (T)"},{id:"eraser",icon:e.jsx(Gi,{size:18}),label:"Eraser (E)"}].map(v=>e.jsx("button",{onClick:()=>C(v.id),className:`p-2.5 rounded-xl transition-all ${E===v.id?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:text-slate-600 hover:bg-slate-200"}`,title:v.label,children:v.icon},v.id))}),e.jsx("div",{className:"w-8 h-px bg-slate-200"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:be,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-xl",title:"Undo (Ctrl+Z)",children:e.jsx(pr,{size:18})}),e.jsx("button",{onClick:Ae,className:"p-2.5 text-slate-500 hover:bg-slate-100 rounded-xl",title:"Redo (Ctrl+Y)",children:e.jsx(hr,{size:18})})]}),e.jsx("div",{className:"w-8 h-px bg-slate-200"}),e.jsx("div",{className:"flex flex-col gap-3",children:Ac.map(v=>e.jsx("button",{onClick:()=>{U(v),E==="eraser"&&C("pencil")},className:`w-6 h-6 rounded-full border-2 transition-all hover:scale-110 ${A===v&&E!=="eraser"?"border-blue-500 scale-125 shadow-md":"border-transparent"}`,style:{backgroundColor:v}},v))}),e.jsx("div",{className:"w-8 h-px bg-slate-200"}),e.jsx("button",{onClick:()=>ae(!_),className:`p-2.5 rounded-xl transition-all ${_?"text-blue-600 bg-blue-50":"text-slate-400 hover:text-slate-600 hover:bg-slate-100"}`,title:"Toggle Grid",children:e.jsx(Ui,{size:20})}),e.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[e.jsx("button",{onClick:De,className:"p-2.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",title:"Clear All",children:e.jsx(Wt,{size:20})}),e.jsx("button",{onClick:Pe,className:"p-2.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Export PNG",children:e.jsx(Hs,{size:20})})]})]}),e.jsxs("div",{className:"flex-1 relative bg-slate-200 overflow-hidden",ref:l,children:[e.jsx("canvas",{ref:c,onMouseDown:Te,onMouseMove:He,onMouseUp:Be,onMouseLeave:Be,onTouchStart:Te,onTouchMove:He,onTouchEnd:Be,className:"absolute inset-0 cursor-crosshair touch-none",style:{cursor:E==="text"?"text":"crosshair"}}),q&&e.jsx("div",{className:"absolute",style:{left:q.x,top:q.y},children:e.jsx("textarea",{ref:g,value:re,onChange:v=>Re(v.target.value),onBlur:Z,onKeyDown:v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),Z()),v.key==="Escape"&&(Ie(null),Re(""))},className:"bg-transparent border border-blue-500 outline-none p-1 resize-none overflow-hidden shadow-lg rounded",style:{color:A,fontSize:`${me*4}px`,fontFamily:"sans-serif",minWidth:"100px",minHeight:"1.5em"},autoFocus:!0,placeholder:"Type..."})}),pe&&e.jsxs("div",{className:"absolute right-6 top-6 bottom-6 w-80 bg-white/95 backdrop-blur-md border border-slate-200 rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-slide-in-right z-30",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{size:16,className:"text-purple-600"}),e.jsx("h3",{className:"text-[10px] font-black uppercase text-slate-900 tracking-widest",children:"Neural Vision"})]}),e.jsx("button",{onClick:()=>Y(null),className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Ue,{size:16})})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto custom-scrollbar",children:e.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed font-medium italic",children:['"',pe,'"']})}),e.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50",children:e.jsx("button",{className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-[10px] font-black uppercase tracking-[0.2em] shadow-lg transition-all active:scale-95",children:"Forge Architecture"})})]})]})]}),e.jsxs("div",{className:"h-8 bg-white border-t border-slate-200 px-4 flex items-center justify-between text-[10px] font-black uppercase text-slate-400 tracking-widest shrink-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Es,{size:12,className:Le?"animate-spin":""})," Sync Ready"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Js,{size:12})," ",E," Mode"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_8px_#10b981]"}),"Neural Uplink Stable"]})]})]})},Dc=a.forwardRef((t,s)=>{const{tabGroups:r,focusedGroupId:c,onSelectTab:l,onCloseTab:g,onToggleGroupCollapse:j,onCreateGroup:x,onFileUpdate:h,terminalHeight:b,onTerminalResize:f,securityIssues:p,diffData:E,onCloseDiff:C,currentUser:A,activeModelId:U,onNewFile:me,onNewFolder:te,onDeleteFile:_,onCloneRepo:ae,onOpenCommandPalette:S,onOpenSettings:k,onAIAppGen:Q,onOpenDocs:ue,onOpenRecorder:q,recents:Ie,onChangePanel:re,onOpenGitGraph:Re,onTerminalOutput:Le,onCloudAuth:ke,comments:pe,onOpenCommentThread:Y,gitStatus:We,onSetStagedCommitMessage:Ye,onGitPush:fe,onCwdChange:Ge}=t,[Te,He]=a.useState("welcome"),[Be,Z]=a.useState(t.wordWrap==="on"),be="bash",[Ae,De]=a.useState([{id:"1",name:be,shell:be,ref:H.createRef()}]),[Pe,Ve]=a.useState("1"),[v,z]=a.useState("terminal"),[le,ve]=a.useState(!1),je=a.useRef(null),[Se,G]=a.useState(!1),ne=a.useRef(!1),he=a.useMemo(()=>{if(!(A!=null&&A.name))return"developer";const M=A.name.trim().split(/\s+/),ce=M[0],Ee=M[M.length-1];return`${ce.toLowerCase()}${Ee[0].toLowerCase()}`},[A==null?void 0:A.name]),Ne=M=>{const ce=be,Ee=Date.now().toString(),de={id:Ee,name:ce,shell:ce,ref:H.createRef()};return De(Je=>[...Je,de]),Ve(Ee),b===0&&f(250),Ee},qe=()=>{if(Ae.length>1){const M=Ae.filter(ce=>ce.id!==Pe);De(M),Ve(M[M.length-1].id)}else f(0)},rt=M=>{M.preventDefault(),ne.current=!0,G(!0),document.body.style.cursor="row-resize",document.body.style.userSelect="none"};a.useEffect(()=>{const M=Ee=>{if(!ne.current)return;const de=window.innerHeight-Ee.clientY,Je=window.innerHeight*.8;de>=0&&de<=Je&&f(de)},ce=()=>{ne.current&&(ne.current=!1,G(!1),document.body.style.cursor="",document.body.style.userSelect="")};return window.addEventListener("mousemove",M),window.addEventListener("mouseup",ce),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",ce)}},[f]),a.useImperativeHandle(s,()=>({runTerminalCommand:M=>{var Ee;b<100&&f(250),z("terminal");const ce=Ae.find(de=>de.id===Pe);(Ee=ce==null?void 0:ce.ref.current)==null||Ee.runCommand(M)},createTerminal:()=>{Ne()},writeToTerminal:M=>{var Ee;const ce=Ae.find(de=>de.id===Pe);(Ee=ce==null?void 0:ce.ref.current)==null||Ee.write(M)},ensureTerminalVisible:()=>{b<100&&f(250),z("terminal")},getTerminalCwd:()=>{var ce;const M=Ae.find(Ee=>Ee.id===Pe);return((ce=M==null?void 0:M.ref.current)==null?void 0:ce.getCwd())||"~"}}));const Rt=M=>{const ce=M.node.content||"",Ee=ce.split(`
`).length,de=Array.from({length:Ee},(Me,tt)=>tt+1),Je=pe[M.path]||[];return e.jsxs("div",{className:"flex h-full w-full bg-[var(--color-background)]",children:[e.jsx("div",{className:"text-right text-gray-600 select-none py-4 pr-3 font-mono text-sm leading-relaxed overflow-y-hidden border-r border-[var(--color-border)] opacity-60 flex flex-col relative",style:{fontSize:`${t.fontSize}px`,minWidth:"3.5rem",paddingLeft:"1rem"},children:de.map(Me=>{const tt=Je.some(Ze=>Ze.lineNumber===Me);return e.jsxs("div",{className:"relative group/line h-[21px] flex items-center justify-end",style:{lineHeight:"21px"},children:[Me,e.jsx("button",{onClick:()=>Y(M.path,Me),className:`absolute -left-1.5 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full flex items-center justify-center transition-all ${tt?"bg-blue-500 text-white":"bg-gray-700 text-gray-400 opacity-0 group-hover/line:opacity-100"}`,children:tt?e.jsx(Wi,{size:10,strokeWidth:3}):e.jsx(ss,{size:10,strokeWidth:3})})]},Me)})}),e.jsx("textarea",{value:ce,onChange:Me=>h(Me.target.value),className:"w-full h-full bg-transparent text-[var(--color-text-primary)] py-4 pr-4 pl-3 font-mono text-sm resize-none focus:outline-none leading-relaxed custom-scrollbar",style:{fontSize:`${t.fontSize}px`,whiteSpace:Be?"pre-wrap":"pre",tabSize:4,lineHeight:"21px"},spellCheck:!1})]})},Ct=()=>{const M={};p.forEach(de=>{M[de.file]||(M[de.file]=[]),M[de.file].push(de)});const ce={[yt.CRITICAL]:1,[yt.HIGH]:2,[yt.MEDIUM]:3,[yt.LOW]:4},Ee=de=>{switch(de){case yt.CRITICAL:return e.jsx(Vi,{size:14,className:"text-red-500"});case yt.HIGH:return e.jsx(fa,{size:14,className:"text-orange-400"});case yt.MEDIUM:return e.jsx(fa,{size:14,className:"text-yellow-400"});default:return e.jsx(kn,{size:14,className:"text-blue-400"})}};return e.jsx("div",{className:"h-full w-full p-4 text-xs font-mono text-gray-400",children:Object.keys(M).length===0?e.jsx("div",{className:"h-full flex items-center justify-center opacity-30",children:"No problems detected in workspace."}):Object.entries(M).sort(([de],[Je])=>de.localeCompare(Je)).map(([de,Je])=>e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-bold text-gray-300 mb-1",children:de}),e.jsx("div",{className:"pl-4 border-l border-gray-700/50",children:Je.sort((Me,tt)=>ce[Me.severity]-ce[tt.severity]).map(Me=>e.jsxs("div",{className:"flex items-start gap-2 py-1 hover:bg-white/5 rounded cursor-pointer",onClick:()=>t.onGoToFile(Me.file,Me.line),children:[Ee(Me.severity),e.jsxs("span",{className:"text-gray-400",children:["line ",Me.line,":"]}),e.jsx("span",{className:"text-gray-200",children:Me.description})]},Me.id))})]},de))})},xt=Ae.find(M=>M.id===Pe),vt=M=>e.jsxs("div",{className:`flex bg-[var(--color-background-secondary)] ${M?"":"border-t"} border-[var(--color-border)] text-xs font-medium text-gray-400 select-none`,children:[e.jsxs("button",{onClick:()=>{z("problems"),M||f(250)},className:`px-4 py-2 border-b-2 ${v==="problems"&&M?"border-[var(--color-accent)] text-white bg-[var(--color-background)]":"border-transparent hover:text-white"} flex items-center gap-2`,children:[e.jsx(fa,{size:14})," Problems ",p.length>0&&e.jsx("span",{className:"bg-red-500/20 text-red-400 text-[10px] px-1.5 rounded-full",children:p.length})]}),e.jsxs("button",{onClick:()=>{z("output"),M||f(250)},className:`px-4 py-2 border-b-2 ${v==="output"&&M?"border-[var(--color-accent)] text-white bg-[var(--color-background)]":"border-transparent hover:text-white"} flex items-center gap-2`,children:[e.jsx(Ca,{size:14})," Output"]}),e.jsxs("button",{onClick:()=>{z("terminal"),M||f(250)},className:`px-4 py-2 border-b-2 ${v==="terminal"&&M?"border-[var(--color-accent)] text-white bg-[var(--color-background)]":"border-transparent hover:text-white"} flex items-center gap-2`,children:[e.jsx(ut,{size:14})," Terminal"]}),e.jsxs("div",{className:"ml-auto flex items-center px-2 gap-1",children:[M&&v==="terminal"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:je,onClick:()=>ve(!le),className:"flex items-center gap-1.5 px-3 py-1 bg-black/20 rounded-md text-xs text-gray-400 hover:text-white",children:[Ae.length," ",xt==null?void 0:xt.name," ",e.jsx(Vs,{size:12})]}),le&&Hi.createPortal(e.jsx("div",{className:"absolute bottom-full mb-1 right-0 w-48 bg-[#161b22] border border-white/10 rounded-lg shadow-lg z-[200] p-1.5",children:Ae.map(ce=>e.jsxs("button",{onClick:()=>{Ve(ce.id),ve(!1)},className:`w-full flex items-center justify-between text-left px-3 py-1.5 rounded-md text-xs ${Pe===ce.id?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5"}`,children:[e.jsx("span",{children:ce.name}),Pe===ce.id&&e.jsx(As,{size:14,className:"text-cyan-400"})]},ce.id))}),document.body)]}),e.jsx("button",{onClick:()=>Ne(),className:"p-1.5 bg-black/20 rounded-md text-gray-400 hover:text-white",children:e.jsx(ss,{size:14})}),e.jsx("button",{onClick:qe,className:"p-1.5 bg-black/20 rounded-md text-gray-400 hover:text-white",children:e.jsx(Wt,{size:14})})]}),e.jsx("button",{onClick:()=>f(M?0:250),className:"p-1.5 bg-black/20 rounded-md text-gray-400 hover:text-white",children:M?e.jsx(fr,{size:14}):e.jsx(Js,{size:14})})]})]}),_e=r.some(M=>M.tabs.length>0);return e.jsxs("div",{className:"flex flex-col h-full bg-[#0d1117] overflow-hidden",children:[e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:E?e.jsx(Tc,{original:E.original,modified:E.modified,fileName:E.fileName,onApply:()=>{_e&&h(E.modified),C()},onDiscard:C}):_e?e.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:e.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto custom-scrollbar bg-black/20",children:r.map(M=>e.jsxs("div",{className:`flex flex-col border-b border-white/5 last:border-0 transition-all ${M.isCollapsed?"shrink-0":"flex-1 min-h-[120px]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-3 h-10 bg-[#161b22] border-b border-white/5 shrink-0 select-none",children:[e.jsxs("div",{className:"flex h-full items-center",children:[M.tabs.map((ce,Ee)=>{const de=M.activeTabIndex===Ee;return e.jsxs("div",{onClick:()=>l(M.id,Ee),className:`flex items-center gap-2 px-4 h-full cursor-pointer transition-all relative group/tab
                                                                ${de?"bg-[#0d1117] text-white":"text-gray-500 hover:text-gray-300 hover:bg-white/[0.02]"}
                                                                ${de?"sketch-border border-b-0 rounded-t-xl mx-0.5 mt-1":"border-r border-white/5"}
                                                            `,style:de?{borderBottom:"none",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}:{},children:[e.jsx("div",{className:`shrink-0 ${de?"text-cyan-400":"text-gray-600"}`,children:ce.node.name.endsWith(".tsx")||ce.node.name.endsWith(".ts")?e.jsx($t,{size:14}):e.jsx(bt,{size:14})}),e.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${de?"opacity-100":"opacity-60"}`,children:ce.node.name}),e.jsx("button",{onClick:Je=>{Je.stopPropagation(),g(M.id,Ee)},className:`ml-1 p-0.5 rounded-full transition-all ${de?"opacity-100 text-gray-500 hover:bg-white/10 hover:text-white":"opacity-0 group-hover/tab:opacity-100 text-gray-600 hover:bg-white/5 hover:text-gray-300"}`,children:e.jsx(Ue,{size:10,strokeWidth:3})}),de&&e.jsx("div",{className:"absolute -top-[1px] left-2 right-2 h-0.5 bg-cyan-500 rounded-full shadow-[0_2px_8px_cyan]"})]},ce.path)}),e.jsx("button",{onClick:()=>me(),className:"p-2 ml-2 text-gray-600 hover:text-gray-300 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(ss,{size:14})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-1 bg-white/[0.03] hover:bg-white/10 border border-white/5 rounded-lg text-[10px] font-black uppercase text-gray-500 hover:text-cyan-400 transition-all",children:[e.jsx(zs,{size:12})," Split"]})})]}),M.activeTabIndex!==-1&&M.tabs[M.activeTabIndex]&&e.jsx("div",{className:"h-8 flex items-center px-6 bg-[#0d1117]/80 border-b border-white/5 select-none shrink-0 overflow-hidden",children:e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-gray-500",children:[e.jsx("span",{className:"hover:text-gray-300 cursor-pointer",children:"workspace"}),e.jsx(Ts,{size:10,className:"opacity-30"}),e.jsx("span",{className:"hover:text-gray-300 cursor-pointer",children:"src"}),e.jsx(Ts,{size:10,className:"opacity-30"}),e.jsx("span",{className:"text-cyan-400/70",children:M.tabs[M.activeTabIndex].node.name})]})}),!M.isCollapsed&&e.jsx("div",{className:"flex-1 flex flex-col min-h-0 animate-fade-in",children:e.jsx("div",{className:"flex-1 min-h-0",children:M.activeTabIndex!==-1&&M.tabs[M.activeTabIndex]?Rt(M.tabs[M.activeTabIndex]):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-700 text-xs italic font-medium p-8 bg-[#0d1117]/50 gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center border border-white/5",children:e.jsx(bt,{size:24,className:"opacity-20"})}),"No active file in this group"]})})})]},M.id))})}):Te==="welcome"?e.jsx(Ec,{onNewFile:()=>me(),onCloneRepo:ae,onOpenCommandPalette:S,onOpenSettings:k,isMac:t.isMac,onClose:()=>{},userName:A==null?void 0:A.name,activeModelId:U,onAIAppGen:Q,onOpenDocs:ue,onOpenRecorder:q,recents:Ie,onOpenCollaboration:()=>re(I.TEAM),onOpenWhiteboard:()=>He("whiteboard"),userPlan:A==null?void 0:A.plan,onRestrictedClick:t.onRestrictedClick}):e.jsx(Un,{onReturnToWelcome:()=>He("welcome"),activeModelId:U})}),e.jsx("div",{className:"flex-shrink-0 flex flex-col",children:b>0?e.jsxs("div",{style:{height:`${b}px`},className:"flex flex-col",children:[e.jsx("div",{onMouseDown:rt,className:"w-full h-1.5 bg-[var(--color-background-tertiary)] hover:bg-[var(--color-accent)] transition-colors cursor-row-resize flex-shrink-0"}),vt(!0),e.jsxs("div",{className:"flex-1 min-0 bg-[#0d1117] overflow-y-auto custom-scrollbar",children:[v==="problems"&&Ct(),v==="output"&&e.jsx("div",{className:"p-4 text-xs font-mono text-gray-400 h-full flex items-center justify-center opacity-30",children:"Application output stream offline."}),v==="terminal"&&e.jsx(e.Fragment,{children:Ae.map(M=>e.jsx("div",{className:`h-full w-full ${M.id===Pe?"block":"hidden"}`,children:e.jsx(Gn,{ref:M.ref,shell:M.shell,fontSize:t.fontSize,fileStructure:t.fileStructure,onNewFile:me,onNewFolder:te,onDeleteFile:_,onCloudAuth:ke,username:he,gitStatus:We,onAiIntentRequest:Q,activeModelId:U,onCwdChange:Ge})},M.id))})]})]}):vt(!1)})]})}),Pc=async(t,s,r,c,l)=>{var j;if(r==="instagram"&&c.accessToken&&c.accountId){if(s!=="image")throw new Error("Currently, only Image publishing is supported for Real Instagram uploads via this tool.");if(t.startsWith("data:")||t.startsWith("blob:"))l(10,"Warning: Local images cannot be uploaded directly to Instagram API."),await new Promise(x=>setTimeout(x,2e3)),console.warn("Instagram API requires a public URL. Proceeding with simulation for local asset.");else try{l(10,"Connecting to Instagram Graph API...");const x=await fetch("/api/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:t,caption:`${c.caption||""} ${((j=c.tags)==null?void 0:j.map(b=>`#${b}`).join(" "))||""}`,accessToken:c.accessToken,accountId:c.accountId})});if(!x.ok){const b=await x.json();throw new Error(b.error||"Failed to publish to Instagram")}const h=await x.json();return l(100,"Published Successfully!"),`https://instagram.com/p/${h.id}`}catch(x){throw console.error("Instagram Upload Error:",x),new Error(`Instagram API Error: ${x.message}`)}}l(0,`Connecting to ${r.charAt(0).toUpperCase()+r.slice(1)}...`),await new Promise(x=>setTimeout(x,1e3)),s==="image"&&(r==="youtube"||r==="tiktok")?(l(10,"Optimizing image format for platform..."),await new Promise(x=>setTimeout(x,1e3))):s==="audio"&&(l(10,"Visualizing audio stream..."),await new Promise(x=>setTimeout(x,1e3))),l(20,`Authenticating for profile "${c.destination}"...`),await new Promise(x=>setTimeout(x,800)),l(30,"Starting upload...");for(let x=30;x<=90;x+=10)await new Promise(h=>setTimeout(h,400)),l(x,`Uploading to ${r}... ${x}%`);l(95,"Processing media..."),await new Promise(x=>setTimeout(x,1500)),l(100,"Upload Complete!");const g=Math.random().toString(36).substring(7);switch(r){case"youtube":return`https://youtu.be/${g}`;case"tiktok":return`https://tiktok.com/@user/video/${g}`;case"facebook":return`https://facebook.com/user/posts/${g}`;case"instagram":return`https://instagram.com/p/${g}`;default:return`https://example.com/${g}`}},Rc={uploadMedia:Pc},Sr=t=>{const s=[],r=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t.name||"SAI App"}</title>
    <meta name="description" content="${t.description||"Generated by SAI IDE"}">
    <script src="https://cdn.tailwindcss.com"><\/script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="module" src="/app.js"><\/script>
</body>
</html>`;s.push({path:"index.html",content:r});let c="";return t.components?c=t.components.map(l=>l.code||"").join(`

`):t.code?c=t.code:c=`
document.getElementById('root').innerHTML = \`
<div class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex items-center justify-center">
    <div class="text-center text-white p-8">
        <h1 class="text-5xl font-bold mb-4">${t.name||"SAI App"}</h1>
        <p class="text-xl opacity-80 mb-8">${t.description||"Built with SAI IDE"}</p>
        <div class="inline-flex items-center gap-2 px-6 py-3 bg-white/10 rounded-full backdrop-blur">
            <span class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></span>
            <span>Deployed Successfully</span>
        </div>
    </div>
</div>
\`;
`,s.push({path:"app.js",content:c}),s.push({path:"netlify.toml",content:`[build]
  publish = "."

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
`}),s.push({path:"vercel.json",content:JSON.stringify({version:2,builds:[{src:"**/*",use:"@vercel/static"}],routes:[{handle:"filesystem"},{src:"/(.*)",dest:"/index.html"}]},null,2)}),s},Bc=async(t,s,r)=>{const c=t.files.length>0?t.files:Sr(t);s({progress:5,status:"Preparing deployment...",log:" Initializing Netlify deployment..."});try{const l={},g={};for(const j of c){const h=new TextEncoder().encode(j.content),b=await crypto.subtle.digest("SHA-1",h),p=Array.from(new Uint8Array(b)).map(E=>E.toString(16).padStart(2,"0")).join("");l[`/${j.path}`]=p,g[p]=j.content}if(s({progress:15,status:"Computing file hashes...",log:` Prepared ${c.length} files for upload`}),r){s({progress:30,status:"Authenticating...",log:" Authenticating with Netlify API..."});const j=await fetch("https://api.netlify.com/api/v1/sites",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({name:t.projectName})});if(!j.ok){const f=await j.json();throw new Error(f.message||"Failed to create site")}const x=await j.json();s({progress:50,status:"Site created...",log:` Created site: ${x.name}`});const h=await fetch(`https://api.netlify.com/api/v1/sites/${x.id}/deploys`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({files:l})});if(!h.ok)throw new Error("Failed to create deploy");const b=await h.json();s({progress:70,status:"Uploading files...",log:" Uploading files..."});for(const f of b.required||[]){const p=g[f];p&&await fetch(`https://api.netlify.com/api/v1/deploys/${b.id}/files/${f}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/octet-stream"},body:p})}return s({progress:90,status:"Finalizing...",log:" Propagating to CDN..."}),await new Promise(f=>setTimeout(f,2e3)),s({progress:100,status:"Deployed!",log:` Live at ${x.ssl_url}`}),{success:!0,url:x.ssl_url,deployId:b.id}}else{if(s({progress:25,status:"Creating anonymous deploy...",log:" Using Netlify Drop API for deployment"}),!(await fetch("https://api.netlify.com/api/v1/sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.projectName+"-"+Math.random().toString(36).substring(2,8)})})).ok){s({progress:35,status:"Preparing bundle...",log:" Creating deployment bundle..."});const b="----NetlifyFormBoundary"+Math.random().toString(36).substring(2);let f="";for(const E of c)f+=`--${b}\r
`,f+=`Content-Disposition: form-data; name="files[]"; filename="${E.path}"\r
`,f+=`Content-Type: ${E.path.endsWith(".html")?"text/html":E.path.endsWith(".js")?"application/javascript":"text/plain"}\r
\r
`,f+=E.content+`\r
`;f+=`--${b}--\r
`,s({progress:50,status:"Uploading to Netlify...",log:" Uploading files to Netlify CDN..."});const p=await fetch("/api/deploy/netlify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:t.projectName,files:c.map(E=>({path:E.path,content:E.content}))})});if(p.ok){const E=await p.json();return s({progress:100,status:"Deployment complete!",log:` Deployed to ${E.url}`}),{success:!0,url:E.url,deployId:E.deployId}}}s({progress:60,status:"Generating deployment package...",log:" Creating downloadable bundle..."});const x=c.find(b=>b.path==="index.html"),h=c.find(b=>b.path==="app.js");if(x&&h){const b=x.content.replace('<script type="module" src="/app.js"><\/script>',`<script type="module">${h.content}<\/script>`),f=new Blob([b],{type:"text/html"}),p=URL.createObjectURL(f);s({progress:80,status:"Opening Netlify Drop...",log:" Opening Netlify Drop interface..."});const E="https://app.netlify.com/drop";window.open(E,"_blank");const C=document.createElement("a");return C.href=p,C.download=`${t.projectName}.html`,document.body.appendChild(C),C.click(),document.body.removeChild(C),s({progress:100,status:"Ready for deployment!",log:" Downloaded! Drag the file to Netlify Drop to deploy"}),{success:!0,url:E,deployId:"manual-drop"}}}throw new Error("Deployment method not available")}catch(l){return s({progress:0,status:"Failed",log:` Error: ${l.message}`}),{success:!1,error:l.message}}},Mc=async(t,s,r)=>{var l;const c=t.files.length>0?t.files:Sr(t);s({progress:5,status:"Preparing deployment...",log:" Initializing Vercel deployment..."});try{if(r){s({progress:20,status:"Authenticating...",log:" Authenticating with Vercel..."});const g=c.map(f=>({file:f.path,data:btoa(unescape(encodeURIComponent(f.content)))})),j=await fetch("https://api.vercel.com/v13/deployments",{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({name:t.projectName,files:g,projectSettings:{framework:null}})});if(!j.ok){const f=await j.json();throw new Error(((l=f.error)==null?void 0:l.message)||"Vercel deployment failed")}const x=await j.json();s({progress:60,status:"Building...",log:" Building project..."});let h=x.readyState,b=0;for(;h!=="READY"&&h!=="ERROR"&&b<30;)await new Promise(E=>setTimeout(E,2e3)),h=(await(await fetch(`https://api.vercel.com/v13/deployments/${x.id}`,{headers:{Authorization:`Bearer ${r}`}})).json()).readyState,b++,s({progress:60+Math.min(b*3,35),status:`Building... (${h})`,log:` Build status: ${h}`});if(h==="READY"){const f=`https://${x.url}`;return s({progress:100,status:"Deployed!",log:` Live at ${f}`}),{success:!0,url:f,deployId:x.id}}else throw new Error(`Deployment failed with status: ${h}`)}else{s({progress:20,status:"Preparing bundle...",log:" Creating deployment bundle..."});const g=await fetch("/api/deploy/vercel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectName:t.projectName,files:c.map(h=>({path:h.path,content:h.content}))})});if(g.ok){const h=await g.json();return s({progress:100,status:"Deployed!",log:` Deployed to ${h.url}`}),{success:!0,url:h.url,deployId:h.deployId}}s({progress:50,status:"Opening Vercel...",log:" Opening Vercel deployment interface..."});const j=c.find(h=>h.path==="index.html"),x=c.find(h=>h.path==="app.js");if(j&&x){const h=j.content.replace('<script type="module" src="/app.js"><\/script>',`<script type="module">${x.content}<\/script>`),b=new Blob([h],{type:"text/html"}),f=URL.createObjectURL(b),p=document.createElement("a");return p.href=f,p.download=`${t.projectName}.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.open("https://vercel.com/new","_blank"),s({progress:100,status:"Ready for import!",log:" Downloaded! Import to Vercel or connect your GitHub repo"}),{success:!0,url:"https://vercel.com/new",deployId:"manual-import"}}}throw new Error("Deployment method not available")}catch(g){return s({progress:0,status:"Failed",log:` Error: ${g.message}`}),{success:!1,error:g.message}}},mr=()=>localStorage.getItem("sai_netlify_token"),ur=()=>localStorage.getItem("sai_vercel_token"),Wn=t=>{localStorage.setItem("sai_netlify_token",t)},Hn=t=>{localStorage.setItem("sai_vercel_token",t)},Zr={deployToNetlify:Bc,deployToVercel:Mc,getNetlifyToken:mr,getVercelToken:ur,setNetlifyToken:Wn,setVercelToken:Hn,generateDeployableBundle:Sr},en=({content:t,isAppPlan:s,onInsertCode:r})=>{if(!t)return null;const[c,l]=a.useState(null),g=h=>{navigator.clipboard.writeText(h),l(h),setTimeout(()=>l(null),2e3)},j=t.split(/```/),x=h=>h.split(/(\*\*.*?\*\*|`.*?`)/g).map((f,p)=>f.startsWith("**")&&f.endsWith("**")?e.jsx("strong",{className:"font-bold text-white",children:f.slice(2,-2)},p):f.startsWith("`")&&f.endsWith("`")?e.jsx("code",{className:`px-1.5 py-0.5 rounded text-xs font-mono border ${s?"bg-black/20 text-indigo-200 border-indigo-400/50":"bg-gray-800 text-cyan-300 border-gray-700"}`,children:f.slice(1,-1)},p):f);return e.jsx("div",{className:`space-y-3 text-sm leading-relaxed ${s?"text-indigo-100":"text-gray-200"}`,children:j.map((h,b)=>{if(b%2===1){const f=h.indexOf(`
`),p=f>-1?h.substring(0,f).trim():"",E=f>-1?h.substring(f+1):h,C=c===E;return e.jsxs("div",{className:"bg-[#0d1117] rounded-md border border-gray-700 overflow-hidden my-2 relative group",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs("button",{onClick:()=>r(E),className:"bg-black/30 backdrop-blur-sm text-gray-400 hover:text-white px-2 py-1 text-[10px] rounded-md border border-white/10 flex items-center gap-1 font-black uppercase tracking-wider",title:"Insert into Active File",children:[e.jsx(Ki,{size:12})," Insert"]}),e.jsxs("button",{onClick:()=>g(E),className:"bg-black/30 backdrop-blur-sm text-gray-400 hover:text-white px-2 py-1 text-[10px] rounded-md border border-white/10 flex items-center gap-1 font-black uppercase tracking-wider",title:"Copy Code",children:[C?e.jsx(As,{size:12,className:"text-emerald-400"}):e.jsx(Gt,{size:12}),C?"Copied!":"Copy"]})]}),p&&e.jsx("div",{className:"bg-[#161b22] px-3 py-1 text-xs text-gray-400 font-mono border-b border-gray-700 select-none",children:p}),e.jsx("div",{className:"p-3 overflow-x-auto",children:e.jsx("code",{className:"font-mono text-xs text-blue-300 whitespace-pre",children:E})})]},b)}else return e.jsx("div",{children:h.split(`
`).map((f,p)=>{if(!f.trim())return e.jsx("div",{className:"h-2"},p);const E=f.trim();if(E.startsWith("### "))return e.jsx("h4",{className:"font-bold text-base text-white mt-4 mb-2",children:x(E.slice(4))},p);if(E.startsWith("## "))return e.jsx("h3",{className:"font-bold text-lg text-white mt-5 mb-2",children:x(E.slice(3))},p);if(E.startsWith("# "))return e.jsx("h2",{className:"font-bold text-xl text-white mt-6 mb-3",children:x(E.slice(2))},p);if(E.startsWith("- ")||E.startsWith("* "))return e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsx("span",{className:`${s?"text-indigo-300":"text-gray-400"}`,children:""}),e.jsx("span",{children:x(E.slice(2))})]},p);if(/^\d+\.\s/.test(E)){const C=E.match(/^(\d+)\.\s/),A=C?C[1]:"1";return e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsxs("span",{className:`${s?"text-indigo-300":"text-gray-400"}`,children:[A,"."]}),e.jsx("span",{children:x(E.replace(/^\d+\.\s/,""))})]},p)}return e.jsx("p",{className:"mb-1 min-h-[1em]",children:x(f)},p)})},b)})})},Ya={chat:{title:"Awaiting Draft",description:"Describe what you want to build. I'll sketch the logic and synthesize the implementation.",icon:e.jsx(Ws,{size:48}),color:"text-blue-600",btnColor:"bg-blue-600"},image:{title:"Visual Canvas",description:"Prompt a description, and I'll generate a high-fidelity visual sketch for your project using Imagen.",icon:e.jsx(jr,{size:48}),color:"text-emerald-600",btnColor:"bg-emerald-600"},video:{title:"Motion Engine",description:"Describe a scene. I'll synthesize a cinematic video preview using Veo 3.1 technology.",icon:e.jsx(Ks,{size:48,fill:"currentColor"}),color:"text-rose-600",btnColor:"bg-rose-600"},audio:{title:"Neural Voice",description:"Provide a script or text. I'll generate natural-sounding speech or ambient audio textures.",icon:e.jsx(Ys,{size:48}),color:"text-amber-600",btnColor:"bg-amber-600"},app:{title:"App Engine",description:"Powered by SAI. Describe an entire application or game, and I'll architect the full stack in one run.",icon:e.jsx(ge,{size:48}),color:"text-indigo-600",btnColor:"bg-indigo-600"}},Oc=({activeModelId:t,activePersona:s,session:r,allSessions:c=[],onUpdateSession:l,onCollapse:g,onModelChange:j,onNewChat:x,onSwitchChat:h,onDeleteSession:b,initialPrompt:f,onClearInitialPrompt:p,initialMode:E,onClearInitialMode:C,onAppGeneration:A,onInsertCodeIntoEditor:U,onOpenPreview:me})=>{var zt;const[te,_]=a.useState(""),[ae,S]=a.useState(!1),[k,Q]=a.useState("chat"),[ue,q]=a.useState([]),[Ie,re]=a.useState(!1),[Re,Le]=a.useState(!1),[ke,pe]=a.useState(!1),[Y,We]=a.useState(null),[Ye,fe]=a.useState(0),[Ge,Te]=a.useState(""),[He,Be]=a.useState(null),[Z,be]=a.useState(null),[Ae,De]=a.useState(!1),[Pe,Ve]=a.useState(!1),[v,z]=a.useState(null),[le,ve]=a.useState(null),[je,Se]=a.useState(0),[G,ne]=a.useState(""),[he,Ne]=a.useState([]),[qe,rt]=a.useState(null),[Rt,Ct]=a.useState("my-sai-app"),[xt,vt]=a.useState(!1),[_e,M]=a.useState(mr()||""),[ce,Ee]=a.useState(ur()||""),de=a.useRef(null),Je=a.useRef(null),Me=a.useRef(null),tt=a.useMemo(()=>{switch(k){case"image":return Cl;case"video":return zl;case"audio":return Il;case"app":return[{id:"google-opal",name:"Opal (App Engine)",provider:"Google",description:"Advanced app synthesis engine."}];case"chat":default:return or}},[k]);a.useEffect(()=>{de.current&&de.current.scrollIntoView({behavior:"smooth"})},[r==null?void 0:r.messages,k]),a.useEffect(()=>{f&&(_(f),p==null||p())},[f,p]),a.useEffect(()=>{E&&(Q(E),C==null||C(),E==="app"&&j("google-opal"))},[E,C,j]),a.useEffect(()=>{const w=oe=>{Je.current&&!Je.current.contains(oe.target)&&re(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[Je]),a.useEffect(()=>{const w=tt;!w.some(ye=>ye.id===t)&&w.length>0&&j(w[0].id)},[k,tt,t,j]);const Ze=w=>{const oe=w.target.files;oe&&(Array.from(oe).forEach(ye=>{const ee=new FileReader;ee.onload=At=>{var ht;const $e=((ht=At.target)==null?void 0:ht.result).split(",")[1];q(Ke=>[...Ke,{data:$e,mimeType:ye.type,name:ye.name}])},ee.readAsDataURL(ye)}),Me.current&&(Me.current.value=""))},xs=w=>{q(oe=>oe.filter((ye,ee)=>ee!==w))},Xe=async()=>{if(!te.trim()&&ue.length===0)return;const w={id:Date.now().toString(),role:"user",content:te,timestamp:new Date().toISOString(),mode:k,attachments:ue.length>0?ue:void 0},oe=[...(r==null?void 0:r.messages)||[],w];l(oe),_(""),q([]),S(!0);try{const ye=(s==null?void 0:s.systemInstruction)||"You are Sai, a helpful AI assistant specialized in software development, cloud infrastructure, and security. Be concise and helpful.",ee=await ka.getChatResponse({prompt:te,modelId:t,systemInstruction:ye,attachments:w.attachments}),At={id:(Date.now()+1).toString(),role:"assistant",content:ee.text||"I apologize, but I was unable to generate a response.",timestamp:new Date().toISOString(),mode:k};k==="app"&&ee.appPlan&&A(ee.appPlan,te),l([...oe,At])}catch(ye){console.error("Chat error:",ye);const ee={id:(Date.now()+1).toString(),role:"assistant",content:"An error occurred while processing your request. Please try again.",timestamp:new Date().toISOString(),mode:k};l([...oe,ee])}finally{S(!1)}},ct=Ya[k],Bt=a.useMemo(()=>((r==null?void 0:r.messages)||[]).filter(w=>w.mode?w.mode===k:k==="chat"),[r==null?void 0:r.messages,k]),jt=()=>{window.open(`${window.location.origin}${window.location.pathname}#preview=true`,"_blank"),me&&me()},Ht=(w,oe,ye)=>{We({url:w,type:oe,prompt:ye}),pe(!0),fe(0),Te(""),Be(null),be(null)},ps=async w=>{if(Y){Be(w),fe(0),Te("Preparing export..."),be(null);try{const oe=await Rc.uploadMedia(Y.url,Y.type,w,{title:`SAI Generated ${Y.type.charAt(0).toUpperCase()+Y.type.slice(1)}`,caption:Y.prompt.slice(0,200),tags:["ai","generated","sai",Y.type],destination:"@sai_creator",privacy:"public"},(ye,ee)=>{fe(ye),Te(ee)});be(oe)}catch(oe){Te(`Error: ${oe.message}`),fe(0),Be(null)}}},Xs=()=>{if(!Y)return;const w=document.createElement("a");w.href=Y.url,w.download=`sai-${Y.type}-${Date.now()}.${Y.type==="video"?"mp4":Y.type==="audio"?"mp3":"png"}`,document.body.appendChild(w),w.click(),document.body.removeChild(w)},Mt=()=>{Y&&(navigator.clipboard.writeText(Y.url),De(!0),setTimeout(()=>De(!1),2e3))},Ds=[{id:"youtube",name:"YouTube",icon:"",color:"bg-red-600 hover:bg-red-700",supports:["video","audio"]},{id:"tiktok",name:"TikTok",icon:"",color:"bg-black hover:bg-zinc-800 ring-1 ring-white/20",supports:["video"]},{id:"instagram",name:"Instagram",icon:"",color:"bg-gradient-to-tr from-yellow-500 via-pink-500 to-purple-600 hover:opacity-90",supports:["video","image"]},{id:"facebook",name:"Facebook",icon:"",color:"bg-blue-600 hover:bg-blue-700",supports:["video","image","audio"]}],Vt=w=>{z(w),Ve(!0),ve(null),Se(0),ne(""),Ne([]),rt(null);const oe=(w.name||"my-sai-app").toLowerCase().replace(/[^a-z0-9-]/g,"-").slice(0,32);Ct(oe)},pt=w=>{Ne(oe=>[...oe,`[${new Date().toLocaleTimeString()}] ${w}`])},Qs=()=>{_e&&Wn(_e),ce&&Hn(ce),vt(!1)},hs=async()=>{if(v){ve("netlify"),Se(0),rt(null),Ne([]);try{const w=mr(),oe=await Zr.deployToNetlify({projectName:Rt,files:[],framework:"vite"},ye=>{Se(ye.progress),ne(ye.status),ye.log&&pt(ye.log)},w||void 0);if(oe.success&&oe.url)rt(oe.url),Se(100),ne("Deployment complete!");else throw new Error(oe.error||"Deployment failed")}catch(w){pt(` Error: ${w.message}`),ne("Deployment failed"),ve(null)}}},ns=async()=>{if(v){ve("vercel"),Se(0),rt(null),Ne([]);try{const w=ur(),oe=await Zr.deployToVercel({projectName:Rt,files:[],framework:"vite"},ye=>{Se(ye.progress),ne(ye.status),ye.log&&pt(ye.log)},w||void 0);if(oe.success&&oe.url)rt(oe.url),Se(100),ne("Live on Vercel!");else throw new Error(oe.error||"Deployment failed")}catch(w){pt(` Error: ${w.message}`),ne("Deployment failed"),ve(null)}}};return e.jsxs("div",{className:"flex h-full bg-[var(--color-background)] text-[var(--color-text-primary)] border-l-2 border-[var(--color-border)] relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-y-0 left-0 z-30 w-72 bg-[var(--color-background-secondary)] border-r border-[var(--color-border)] transition-transform duration-300 ease-in-out shadow-2xl ${Re?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 border-b border-[var(--color-border)] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400",children:"Archives"}),e.jsx("button",{onClick:()=>{x(),Le(!1)},className:"p-1 hover:bg-blue-500/10 rounded-md text-blue-500 transition-all active:scale-90",title:"New Session",children:e.jsx(ss,{size:14,strokeWidth:3})})]}),e.jsx("button",{onClick:()=>Le(!1),className:"p-1 hover:bg-white/5 rounded-md text-gray-500 hover:text-white",children:e.jsx(Yi,{size:18})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-1 custom-scrollbar",children:(c||[]).map(w=>{var oe;return e.jsxs("div",{className:`group flex items-center gap-2 p-2.5 rounded-xl cursor-pointer transition-all border ${(r==null?void 0:r.id)===w.id?"bg-[var(--color-accent)]/10 border-[var(--color-accent)]/30 text-white":"border-transparent text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>{h(w.id),Le(!1)},children:[e.jsx("p",{className:"text-xs font-bold truncate leading-tight",children:w.title}),e.jsxs("p",{className:"text-[9px] font-black uppercase text-gray-600 mt-1",children:[((oe=w.messages)==null?void 0:oe.length)||0," messages"]})]}),e.jsx("button",{onClick:ye=>{ye.stopPropagation(),b==null||b(w.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-500/10 hover:text-red-400 rounded-md transition-all",children:e.jsx(Wt,{size:12})})]},w.id)})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 md:px-6 py-4 border-b-2 border-[var(--color-border)] bg-[var(--color-background-secondary)]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>Le(!0),className:"p-2 hover:bg-white/5 rounded-xl text-gray-500 hover:text-cyan-400 transition-all relative",children:[e.jsx(sr,{size:20}),((c==null?void 0:c.length)||0)>1&&e.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-blue-500 rounded-full border-2 border-[var(--color-background-secondary)]"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[9px] md:text-[10px] font-black uppercase text-[var(--color-text-secondary)] tracking-[0.2em] mb-1",children:"Neural Co-Pilot"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{size:14,className:"text-[var(--color-text-accent)]"}),e.jsx("span",{className:"text-xs font-bold doodle-text text-base md:text-lg truncate max-w-[150px] md:max-w-none",children:(s==null?void 0:s.name)||"General Draftsman"})]}),e.jsxs("div",{className:"relative",ref:Je,children:[e.jsxs("button",{onClick:()=>re(!Ie),className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-[var(--color-background-tertiary)] sketch-border border-[var(--color-border)]/20 hover:border-[var(--color-border)]/50 transition-all",children:[e.jsx(St,{size:14,className:"text-[var(--color-text-accent)]"}),e.jsx("span",{className:"text-xs font-bold doodle-text text-[var(--color-text-secondary)]",children:((zt=tt.find(w=>w.id===t))==null?void 0:zt.name)||"Select Model"}),e.jsx(Vs,{size:14,className:`text-[var(--color-text-secondary)] transition-transform ${Ie?"rotate-180":""}`})]}),Ie&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-[var(--color-background-secondary)] sketch-border border-[var(--color-border)] shadow-xl z-10 p-2 rounded-lg animate-fade-in",children:tt.map(w=>e.jsxs("button",{onClick:()=>{j(w.id),re(!1)},className:`w-full text-left p-2 rounded-md text-sm doodle-text font-bold flex items-center justify-between ${t===w.id?"bg-[var(--color-selection)] text-[var(--color-text-accent)]":"hover:bg-[var(--color-background-hover)]"}`,children:[w.name,t===w.id&&e.jsx(As,{size:16,className:"text-[var(--color-text-accent)]"})]},w.id))})]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:g,className:"p-2 hover:bg-[var(--color-background-hover)] rounded-full transition-colors",children:e.jsx(Ue,{size:20})})})]}),e.jsx("div",{className:"px-4 py-3 bg-[var(--color-background)] border-b border-dashed border-[var(--color-border)]/20 overflow-x-auto no-scrollbar shrink-0",children:e.jsx("div",{className:"flex gap-2 min-w-max",children:[{id:"chat",icon:e.jsx(es,{size:14}),label:"Chat",color:"bg-blue-600"},{id:"image",icon:e.jsx(jr,{size:14}),label:"Image",color:"bg-emerald-600"},{id:"video",icon:e.jsx(Sn,{size:14}),label:"Video",color:"bg-rose-600"},{id:"audio",icon:e.jsx(Ys,{size:14}),label:"Voice",color:"bg-amber-600"},{id:"app",icon:e.jsx(ge,{size:14}),label:"Build App",color:"bg-indigo-600"}].map(w=>e.jsxs("button",{onClick:()=>{Q(w.id),w.id==="app"&&j("google-opal")},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all sketch-border ${k===w.id?`${w.color} text-white sketch-shadow`:"bg-[var(--color-background-tertiary)] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]"}`,children:[w.icon," ",e.jsx("span",{className:"doodle-text",children:w.label})]},w.id))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 md:px-6 py-6 md:py-8 space-y-6 md:space-y-8 custom-scrollbar",children:[Bt.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center px-6 md:px-10 animate-fade-in",children:[e.jsx("div",{className:`p-4 md:p-5 bg-[var(--color-background-tertiary)] sketch-border sketch-shadow mb-6 ${ct.color}`,children:ct.icon}),e.jsx("h3",{className:"text-xl md:text-2xl font-black doodle-text text-[var(--color-text-primary)] mb-2",children:ct.title}),e.jsx("p",{className:"text-xs md:text-sm font-medium text-[var(--color-text-secondary)]",children:ct.description})]},k):Bt.map((w,oe)=>{if(w.sender==="ai")return e.jsx("div",{className:"flex justify-start animate-fade-in",children:e.jsxs("div",{className:"max-w-[95%] md:max-w-[90%] text-left",children:[e.jsxs("div",{className:`inline-block p-4 ${w.appPlan?"bg-indigo-600 text-white":"bg-[var(--color-background-tertiary)]"} rounded-2xl shadow-md`,children:[w.videoUrl&&e.jsxs("div",{className:"mb-3 rounded-lg overflow-hidden border border-[var(--color-border)]/20 bg-black relative group",children:[e.jsx("video",{src:w.videoUrl,controls:!0,className:"w-full h-auto max-h-60 object-contain"}),!w.isGenerating&&e.jsx("div",{className:"absolute top-2 right-2 flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("button",{onClick:()=>Ht(w.videoUrl,"video",w.text),className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white text-[9px] font-bold uppercase tracking-wider rounded-lg shadow-lg transition-all active:scale-95",title:"Export to Social Media",children:[e.jsx(Gs,{size:11})," Share"]})})]}),w.audioUrl&&e.jsxs("div",{className:"mb-3 rounded-lg overflow-hidden border border-[var(--color-border)]/20 bg-gradient-to-r from-amber-500/10 to-orange-500/10 p-3 relative group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Wr,{size:20,className:"text-white"})}),e.jsx("audio",{src:w.audioUrl,controls:!0,className:"flex-1 h-10"})]}),!w.isGenerating&&e.jsx("div",{className:"absolute top-2 right-2 flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("button",{onClick:()=>Ht(w.audioUrl,"audio",w.text),className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white text-[9px] font-bold uppercase tracking-wider rounded-lg shadow-lg transition-all active:scale-95",title:"Export Audio",children:[e.jsx(Gs,{size:11})," Share"]})})]}),w.imageUrl&&e.jsxs("div",{className:"mb-3 rounded-lg overflow-hidden border border-[var(--color-border)]/20 relative group",children:[e.jsx("img",{src:w.imageUrl,alt:"Sketch",className:"w-full h-auto max-h-60 object-cover"}),!w.isGenerating&&e.jsx("div",{className:"absolute top-2 right-2 flex gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("button",{onClick:()=>Ht(w.imageUrl,"image",w.text),className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white text-[9px] font-bold uppercase tracking-wider rounded-lg shadow-lg transition-all active:scale-95",title:"Export to Social Media",children:[e.jsx(Gs,{size:11})," Share"]})})]}),e.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-wrap font-medium",children:e.jsx(en,{content:w.text,isAppPlan:!!w.appPlan,onInsertCode:U})}),w.appPlan&&!w.isGenerating&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-indigo-400/30 space-y-3",children:[e.jsxs("button",{onClick:jt,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-white text-indigo-700 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg hover:bg-indigo-50 transition-all active:scale-95",children:[e.jsx(Ji,{size:14})," Full Page Preview"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>Vt(w.appPlan),className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg transition-all active:scale-95",children:[e.jsx("span",{className:"text-sm",children:""})," Netlify"]}),e.jsxs("button",{onClick:()=>Vt(w.appPlan),className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-black hover:bg-zinc-800 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg ring-1 ring-white/20 transition-all active:scale-95",children:[e.jsx("span",{className:"text-sm",children:""})," Vercel"]})]}),e.jsx("p",{className:"text-[8px] text-indigo-300/70 text-center",children:"Deploy your app to the cloud with one click"})]}),w.isGenerating&&e.jsxs("div",{className:`mt-4 flex items-center gap-3 ${w.appPlan?"text-indigo-200":"text-[var(--color-text-accent)]"} font-black text-[9px] uppercase tracking-widest doodle-text`,children:[e.jsx(Es,{size:12,className:"animate-spin"})," Wet ink drying..."]})]}),e.jsxs("div",{className:"mt-2 text-[9px] font-black text-[var(--color-text-secondary)] uppercase tracking-widest px-2 font-mono",children:["SAI SKETCHER  ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},oe);const ye=Ya[w.mode||"chat"];return e.jsx("div",{className:"flex justify-end animate-fade-in",children:e.jsxs("div",{className:"max-w-[95%] md:max-w-[90%] text-right",children:[e.jsxs("div",{className:`inline-block p-4 text-left rounded-2xl ${ye.btnColor} text-white shadow-lg`,children:[w.attachments&&w.attachments.length>0&&e.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:w.attachments.map((ee,At)=>ee.mimeType.startsWith("image/")&&e.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden border border-white/20",children:e.jsx("img",{src:`data:${ee.mimeType};base64,${ee.data}`,alt:ee.name,className:"w-full h-full object-cover"})},At))}),e.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-wrap font-medium",children:e.jsx(en,{content:w.text,onInsertCode:U})})]}),e.jsxs("div",{className:"mt-2 text-[9px] font-black text-[var(--color-text-secondary)] uppercase tracking-widest px-2 font-mono",children:["You  ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},oe)}),e.jsx("div",{ref:de})]}),e.jsxs("div",{className:"p-4 md:p-6 border-t-2 border-dashed border-[var(--color-border)]/20",children:[ue.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3 animate-fade-in",children:ue.map((w,oe)=>e.jsxs("div",{className:"relative group w-16 h-16 rounded-xl overflow-hidden border border-white/10 sketch-shadow",children:[w.mimeType.startsWith("image/")?e.jsx("img",{src:`data:${w.mimeType};base64,${w.data}`,alt:w.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:e.jsx(qi,{size:20,className:"text-gray-500"})}),e.jsx("button",{onClick:()=>xs(oe),className:"absolute top-1 right-1 p-0.5 bg-black/60 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ue,{size:10,strokeWidth:3})})]},oe))}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-[var(--color-border)]/5 rounded-[1.5rem] blur-sm"}),e.jsxs("div",{className:"relative bg-[var(--color-background-tertiary)] sketch-border p-1 md:p-2 flex items-center gap-2",children:[e.jsx("input",{type:"file",ref:Me,multiple:!0,onChange:Ze,className:"hidden",accept:"image/*"}),e.jsx("button",{onClick:()=>{var w;return(w=Me.current)==null?void 0:w.click()},className:"hidden sm:block p-2 text-[var(--color-text-secondary)] hover:text-[var(--color-text-accent)] transition-colors",title:"Attach context (Images)",children:e.jsx(Cn,{size:20})}),e.jsx("input",{value:te,onChange:w=>_(w.target.value),onKeyDown:w=>w.key==="Enter"&&Xe(),placeholder:k==="app"?"Synthesize an app with SAI...":k==="image"?"Imagine...":"Sketch...",className:"flex-1 bg-transparent border-none outline-none py-2 md:py-3 text-sm font-bold doodle-text text-base md:text-lg"}),e.jsx("button",{onClick:Xe,disabled:ae||!te.trim()&&ue.length===0,className:`p-2.5 md:p-3 rounded-xl transition-all ${te.trim()||ue.length>0?`${Ya[k].btnColor} text-white shadow-lg`:"bg-[var(--color-background-hover)] text-[var(--color-text-secondary)]/30 cursor-not-allowed"}`,children:ae?e.jsx(Es,{size:18,className:"animate-spin"}):e.jsx(wn,{size:18,strokeWidth:3})})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-center gap-1.5 text-[8px] md:text-[9px] font-black text-[var(--color-text-secondary)]/40 uppercase tracking-[0.2em]",children:[e.jsx(Zt,{size:10})," AI Assistant Ready"]})]})]}),ke&&Y&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-[var(--color-background-secondary)] rounded-2xl shadow-2xl border border-[var(--color-border)] w-full max-w-md mx-4 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-[var(--color-border)] flex items-center justify-between bg-gradient-to-r from-pink-500/10 via-purple-500/10 to-blue-500/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Gs,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-black uppercase tracking-wider text-[var(--color-text-primary)]",children:["Export ",Y.type]}),e.jsx("p",{className:"text-[10px] text-[var(--color-text-secondary)]",children:"Share to social media or download"})]})]}),e.jsx("button",{onClick:()=>pe(!1),className:"p-2 hover:bg-[var(--color-background-hover)] rounded-lg transition-colors",children:e.jsx(Ue,{size:18,className:"text-[var(--color-text-secondary)]"})})]}),e.jsxs("div",{className:"p-4 border-b border-[var(--color-border)]",children:[e.jsxs("div",{className:"rounded-xl overflow-hidden bg-black/50 max-h-40",children:[Y.type==="video"&&e.jsx("video",{src:Y.url,className:"w-full h-full max-h-40 object-contain"}),Y.type==="audio"&&e.jsxs("div",{className:"p-4 flex items-center gap-3 bg-gradient-to-r from-amber-500/20 to-orange-500/20",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center",children:e.jsx(Wr,{size:24,className:"text-white"})}),e.jsx("audio",{src:Y.url,controls:!0,className:"flex-1"})]}),Y.type==="image"&&e.jsx("img",{src:Y.url,alt:"Export preview",className:"w-full h-full max-h-40 object-contain"})]}),e.jsx("p",{className:"mt-2 text-[10px] text-[var(--color-text-secondary)] line-clamp-2",children:Y.prompt})]}),Z?e.jsxs("div",{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg animate-bounce",children:e.jsx(cs,{size:32,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-black text-[var(--color-text-primary)]",children:"Published Successfully!"}),e.jsx("p",{className:"text-xs text-[var(--color-text-secondary)] mt-1",children:"Your content is now live"})]}),e.jsxs("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white rounded-xl text-xs font-bold uppercase tracking-wider transition-all active:scale-95 shadow-lg",children:[e.jsx(Hr,{size:14})," View on Platform"]}),e.jsx("button",{onClick:()=>{pe(!1),be(null),Be(null)},className:"block w-full mt-2 text-[10px] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition-colors",children:"Close"})]}):e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:Xs,className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-[var(--color-background-tertiary)] hover:bg-[var(--color-background-hover)] text-[var(--color-text-primary)] rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all active:scale-95 border border-[var(--color-border)]",children:[e.jsx(Hs,{size:14})," Download"]}),e.jsxs("button",{onClick:Mt,className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-[var(--color-background-tertiary)] hover:bg-[var(--color-background-hover)] text-[var(--color-text-primary)] rounded-xl text-[10px] font-bold uppercase tracking-wider transition-all active:scale-95 border border-[var(--color-border)]",children:[Ae?e.jsx(cs,{size:14,className:"text-green-500"}):e.jsx(Gt,{size:14}),Ae?"Copied!":"Copy URL"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--color-text-secondary)] mb-2",children:"Share to Platform"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ds.filter(w=>w.supports.includes(Y.type)).map(w=>e.jsxs("button",{onClick:()=>ps(w.id),disabled:He!==null,className:`flex items-center justify-center gap-2 py-3 px-4 ${w.color} text-white rounded-xl text-[11px] font-bold uppercase tracking-wider transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg`,children:[e.jsx("span",{className:"text-base",children:w.icon}),He===w.id?e.jsx(ds,{size:14,className:"animate-spin"}):w.name]},w.id))})]}),He&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-2 bg-[var(--color-background-tertiary)] rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-600 transition-all duration-300",style:{width:`${Ye}%`}})}),e.jsx("p",{className:"text-[10px] text-[var(--color-text-secondary)] text-center font-medium",children:Ge})]})]})]})}),Pe&&v&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-[var(--color-background-secondary)] rounded-2xl shadow-2xl border border-[var(--color-border)] w-full max-w-lg mx-4 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-[var(--color-border)] flex items-center justify-between bg-gradient-to-r from-cyan-500/10 via-teal-500/10 to-emerald-500/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(ms,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-black uppercase tracking-wider text-[var(--color-text-primary)]",children:"Deploy Application"}),e.jsx("p",{className:"text-[10px] text-[var(--color-text-secondary)]",children:v.name||"SAI Generated App"})]})]}),e.jsx("button",{onClick:()=>Ve(!1),className:"p-2 hover:bg-[var(--color-background-hover)] rounded-lg transition-colors",children:e.jsx(Ue,{size:18,className:"text-[var(--color-text-secondary)]"})})]}),qe?e.jsxs("div",{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-2xl animate-bounce",children:e.jsx(ms,{size:40,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-black text-[var(--color-text-primary)]",children:" Deployed!"}),e.jsxs("p",{className:"text-sm text-[var(--color-text-secondary)] mt-1",children:["Your app is now live on ",le==="netlify"?"Netlify":"Vercel"]})]}),e.jsxs("div",{className:"bg-[var(--color-background-tertiary)] rounded-xl p-3 flex items-center gap-2",children:[e.jsx(Zt,{size:16,className:"text-emerald-400 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-sm font-mono text-cyan-400 truncate",children:qe}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(qe)},className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",title:"Copy URL",children:e.jsx(Gt,{size:14,className:"text-[var(--color-text-secondary)]"})})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("a",{href:qe,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-xl text-xs font-bold uppercase tracking-wider transition-all active:scale-95 shadow-lg",children:[e.jsx(Hr,{size:14})," Open Live Site"]})}),e.jsx("button",{onClick:()=>{Ve(!1),rt(null),ve(null),Ne([])},className:"text-[10px] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] transition-colors",children:"Close"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-[var(--color-border)]",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--color-text-secondary)] mb-2 block",children:"Project Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xi,{size:16,className:"text-[var(--color-text-secondary)]"}),e.jsx("input",{type:"text",value:Rt,onChange:w=>Ct(w.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")),className:"flex-1 bg-[var(--color-background-tertiary)] border border-[var(--color-border)] rounded-lg px-3 py-2 text-sm font-mono text-[var(--color-text-primary)] focus:outline-none focus:ring-2 focus:ring-cyan-500/50",placeholder:"my-sai-app"}),e.jsx("button",{onClick:()=>vt(!xt),className:`p-2 rounded-lg transition-colors ${xt?"bg-cyan-500/20 text-cyan-400":"hover:bg-[var(--color-background-hover)] text-[var(--color-text-secondary)]"}`,title:"Configure API tokens for direct deployment",children:e.jsx(Vr,{size:16})})]}),xt&&e.jsxs("div",{className:"mt-3 p-3 bg-[var(--color-background-tertiary)] rounded-lg border border-[var(--color-border)] space-y-3 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-bold uppercase tracking-wider text-amber-400",children:[e.jsx(Vr,{size:10}),"API Tokens (Optional - enables direct deployment)"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-teal-400 text-sm font-bold w-6",children:""}),e.jsx("input",{type:"password",value:_e,onChange:w=>M(w.target.value),placeholder:"Netlify Personal Access Token",className:"flex-1 bg-[var(--color-background)] border border-[var(--color-border)] rounded px-2 py-1.5 text-xs font-mono text-[var(--color-text-primary)] focus:outline-none focus:ring-1 focus:ring-teal-500/50"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white text-sm font-bold w-6",children:""}),e.jsx("input",{type:"password",value:ce,onChange:w=>Ee(w.target.value),placeholder:"Vercel Access Token",className:"flex-1 bg-[var(--color-background)] border border-[var(--color-border)] rounded px-2 py-1.5 text-xs font-mono text-[var(--color-text-primary)] focus:outline-none focus:ring-1 focus:ring-white/20"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-[8px] text-[var(--color-text-secondary)]",children:["Get tokens from"," ",e.jsx("a",{href:"https://app.netlify.com/user/applications#personal-access-tokens",target:"_blank",rel:"noopener noreferrer",className:"text-teal-400 hover:underline",children:"Netlify"})," / ",e.jsx("a",{href:"https://vercel.com/account/tokens",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline",children:"Vercel"})]}),e.jsx("button",{onClick:Qs,className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded text-[9px] font-bold uppercase hover:bg-cyan-500/30 transition-colors",children:"Save"})]}),e.jsx("p",{className:"text-[8px] text-amber-400/70",children:"Without tokens: Downloads bundle + opens platform for manual deploy"})]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("h4",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--color-text-secondary)]",children:"Select Platform"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:hs,disabled:le!==null,className:"group relative p-4 bg-gradient-to-br from-teal-500/10 to-cyan-500/10 hover:from-teal-500/20 hover:to-cyan-500/20 border border-teal-500/30 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:""})}),e.jsx("span",{className:"text-sm font-bold text-[var(--color-text-primary)]",children:"Netlify"}),e.jsx("span",{className:"text-[9px] text-[var(--color-text-secondary)]",children:"Free  CDN  Auto HTTPS"})]}),le==="netlify"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-xl",children:e.jsx(ds,{size:24,className:"text-teal-400 animate-spin"})})]}),e.jsxs("button",{onClick:ns,disabled:le!==null,className:"group relative p-4 bg-gradient-to-br from-zinc-800/50 to-zinc-900/50 hover:from-zinc-700/50 hover:to-zinc-800/50 border border-white/10 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/20 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:""})}),e.jsx("span",{className:"text-sm font-bold text-[var(--color-text-primary)]",children:"Vercel"}),e.jsx("span",{className:"text-[9px] text-[var(--color-text-secondary)]",children:"Hobby  Edge  Fast"})]}),le==="vercel"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-xl",children:e.jsx(ds,{size:24,className:"text-white animate-spin"})})]})]})]}),he.length>0&&e.jsxs("div",{className:"p-4 border-t border-[var(--color-border)]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ut,{size:12,className:"text-[var(--color-text-secondary)]"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--color-text-secondary)]",children:"Build Output"})]}),e.jsx("div",{className:"bg-[#0a0a0f] rounded-lg p-3 max-h-32 overflow-y-auto font-mono text-[10px] space-y-1",children:he.map((w,oe)=>e.jsx("div",{className:"text-emerald-400",children:w},oe))}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx("div",{className:"h-2 bg-[var(--color-background-tertiary)] rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${le==="netlify"?"bg-gradient-to-r from-teal-500 to-cyan-500":"bg-gradient-to-r from-zinc-600 to-white"}`,style:{width:`${je}%`}})}),e.jsx("p",{className:"text-[10px] text-[var(--color-text-secondary)] text-center",children:G})]})]})]})]})})]})};function Lc(){const t=[{name:"Stripe",url:"https://cdn.simpleicons.org/stripe/475569"},{name:"Snowflake",url:"https://cdn.simpleicons.org/snowflake/475569"},{name:"GitHub",url:"https://cdn.simpleicons.org/github/475569"},{name:"Notion",url:"https://cdn.simpleicons.org/notion/475569"},{name:"Zapier",url:"https://cdn.simpleicons.org/zapier/475569"},{name:"Netlify",url:"https://cdn.simpleicons.org/netlify/475569"}];return e.jsxs("footer",{className:"bg-white border-t border-slate-200 py-12 flex flex-col items-center w-full",children:[e.jsx("div",{className:"flex justify-center gap-16 mb-8 flex-wrap",children:t.map((s,r)=>e.jsx("img",{src:s.url,alt:s.name,className:"w-8 h-8 opacity-60 hover:opacity-100 transition-opacity duration-300"},r))}),e.jsxs("p",{className:"text-slate-500 text-sm text-center font-medium",children:[" 2025 ",e.jsx("span",{className:"font-bold text-blue-600",children:"S.AI"})," made with"," ",e.jsx("span",{className:"text-red-500/80",children:""})," by"," ",e.jsx("span",{className:"font-bold text-emerald-600",children:"SSlabs"}),"  All rights reserved."]})]})}const _c="pk_live_ed60e4f4795819681d9d81227a608c66a60c2a48",$c=1600,Fc=[{id:"hobby",name:"Hobby",priceUSD:0,tokens:"100K",features:["Code Editor with Syntax Highlighting","File Explorer & Terminal","Git Integration","5 AI Models (Gemini Flash, GPT-4o Mini)","3 AI Personas","Community Support","Basic Kanban Board"]},{id:"pro",name:"Pro",priceUSD:29,tokens:"1M",features:["Everything in Hobby","25+ AI Models (Claude, GPT-4, Gemini Pro)","15+ AI Personas","10 External Agents (Auto-Fixer, Test Writer)","Run & Debug with Breakpoints","Docker Management","Terraform Generator","API Client (API Forge)","Database Manager","Unlimited Deployments","Security Scanning","Priority Email Support"]},{id:"enterprise",name:"Enterprise",priceUSD:299,tokens:"20M",features:["Everything in Pro","55+ AI Models (All Providers)","25+ AI Personas (All Categories)","30 External Agents (Full Suite)","33 MCP Servers","Ghost Agent (Autonomous Tasks)","Team Collaboration & Video Calls","Live Coding Sessions","Custom Security Policies","Compliance (SOC2, HIPAA, GDPR)","Audit Logs & Activity Feed","ML Studio & UX Lab","Dedicated Support (24/7)","Custom Integrations"]}];class Gc{constructor(){Ua(this,"publicKey",_c)}getAmount(s,r){const c=r==="USD"?s:s*$c;return Math.round(c*100)}initializePayment(s){const r=this.getAmount(s.amountUSD,s.currency);window.PaystackPop.setup({key:this.publicKey,email:s.email,amount:r,currency:s.currency,ref:`sai-${Date.now()}-${Math.floor(Math.random()*1e6)}`,metadata:s.metadata,callback:l=>{s.onSuccess(l.reference)},onClose:()=>{s.onCancel()}}).openIframe()}async verifyTransaction(s){return console.log(`[Paystack] Verifying transaction: ${s}`),await new Promise(r=>setTimeout(r,1500)),!0}}const pm=new Gc,Uc=[{id:"collab",title:"Live Meeting",description:"Doodle together. Real-time sync for teams.",icon:e.jsx(ts,{size:24,className:"text-emerald-500"})},{id:"whiteboard",title:"Whiteboard",description:"Freeform canvas for architectural design.",icon:e.jsx(yr,{size:24,className:"text-purple-500"})},{id:"docs",title:"Sketchpad",description:"Docs and technical specs as a canvas.",icon:e.jsx(bt,{size:24,className:"text-blue-500"})},{id:"recorder",title:"Demo Catcher",description:"Record screen and camera instantly.",icon:e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 ring-4 ring-red-500/30"})})},{id:"agent",title:"AI Chat",description:"An AI that thinks in logic scribbles.",icon:e.jsx(vr,{size:24,className:"text-indigo-500"})}],_s={"Universal Terminal":{title:"Universal Terminal",description:"A fully-featured shell environment right in your browser.",content:e.jsxs("div",{className:"prose prose-sm max-w-none text-slate-600 leading-relaxed",children:[e.jsx("p",{children:"The Universal Terminal provides a sandboxed POSIX environment with common shell commands and language runtimes like Node.js, Python, Go, and Rust. It's designed for quick scripts, package management, and running build processes without leaving your browser."}),e.jsx("h4",{className:"font-bold text-slate-700",children:"Key Features:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"AI Integration:"}),' Type a natural language command (e.g., "find all files larger than 1MB") and press Tab to have the AI generate and suggest the correct shell command.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Persistent Sessions:"})," Your terminal state, including history and environment variables, is saved across reloads within your workspace."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Multi-Tab Support:"})," Run multiple terminal sessions side-by-side for parallel tasks."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Workspace Aware:"})," The terminal starts in your project's root directory, with access to all your files."]})]}),e.jsx("h4",{className:"font-bold text-slate-700",children:"Example Command:"}),e.jsx("pre",{className:"bg-slate-100 p-3 rounded-lg text-xs",children:e.jsx("code",{children:'# sai synth "a REST API with an endpoint /users" --lang=go'})})]})},"UX Studio":{title:"UX Studio",description:"Prototype components, map user flows, and manage design systems with AI.",content:e.jsxs("div",{className:"prose prose-sm max-w-none text-slate-600 leading-relaxed",children:[e.jsx("p",{children:"The UX Studio is a suite of AI-powered tools designed for product designers and frontend engineers to bridge the gap between idea and implementation. It focuses on rapid prototyping, user flow visualization, and maintaining a consistent design system."}),e.jsx("h4",{className:"font-bold text-slate-700",children:"Available Tools:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Flow Synthesizer:"}),' Describe a user journey in plain language (e.g., "a user signs up, creates a profile, and posts a message") and the AI will generate a complete user flow diagram.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Component Critic:"})," Get instant, AI-driven feedback on your UI components. The critic analyzes accessibility (WCAG), responsiveness, and adherence to design system principles."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Design System Manager:"})," Automatically document your components, generate variations, and ensure consistency across your entire application."]})]})]})},Governance:{title:"Governance & Security",description:"Define and enforce security policies for your infrastructure and code.",content:e.jsxs("div",{className:"prose prose-sm max-w-none text-slate-600 leading-relaxed",children:[e.jsx("p",{children:"Sai's Governance module acts as a real-time sentinel for your codebase and infrastructure definitions. It ensures your projects adhere to security best practices and compliance standards automatically."}),e.jsx("h4",{className:"font-bold text-slate-700",children:"Core Concepts:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Policy as Code:"}),' Define rules in a simple, readable format (e.g., "No Public S3 Buckets", "Mandatory CostCenter Tag").']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Real-time Scanning:"})," The system continuously scans your Terraform, Dockerfiles, and application code for policy violations."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Automated Remediation:"})," For certain violations, the AI can suggest and apply a fix with a single click, hardening your infrastructure automatically."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Compliance Reporting:"})," Generate reports for standards like SOC2, HIPAA, and GDPR based on your enforced policies and detected infrastructure."]})]})]})},"Container Studio":{title:"Container Studio",description:"Synthesize, manage, and optimize Docker images and containers.",content:e.jsxs("div",{className:"prose prose-sm max-w-none text-slate-600 leading-relaxed",children:[e.jsx("p",{children:"The Container Studio provides a complete lifecycle management suite for your containerized applications. From AI-powered Dockerfile generation to a real-time fleet overview, it streamlines your entire container workflow."}),e.jsx("h4",{className:"font-bold text-slate-700",children:"Key Features:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Dockerfile Synthesis:"}),` Describe your application's needs (e.g., "a production-ready Node.js app") and let the AI generate an optimized, multi-stage Dockerfile.`]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Neural Hardening:"})," Use the AI to scan your Dockerfiles for security vulnerabilities and apply best practices automatically, reducing image size and attack surface."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Workspace Fleet Management:"})," View and manage all Docker images and running containers within your local workspace. Start, stop, and inspect containers with a single click."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Registry Integration:"})," Connect to Docker Hub, GitHub Container Registry, and other private registries to pull and push images."]})]})]})},"API Studio":{title:"API Studio",description:"A comprehensive toolkit for designing, testing, and generating APIs.",content:e.jsxs("div",{className:"prose prose-sm max-w-none text-slate-600 leading-relaxed",children:[e.jsx("p",{children:'API Studio is your central hub for API development. It combines an intuitive HTTP client for testing endpoints with a powerful AI "Forge" for scaffolding entire API backends from a simple design interface.'}),e.jsx("h4",{className:"font-bold text-slate-700",children:"Key Components:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"API Client:"})," A full-featured HTTP client to send requests, manage headers, parameters, and bodies. Inspect responses, status codes, and timings in a clean interface."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"API Forge:"})," Visually design your API endpoints (paths, methods, descriptions). The Forge uses this design to synthesize a complete backend implementation in your chosen language (Node.js, Go, Python, Rust)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Automated Documentation:"})," The AI can generate OpenAPI/Swagger specs from your existing code or from the visual designs in the Forge."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Integration with Run & Debug:"})," Directly run your forged API and test it with the client, all within the same environment."]})]})]})}},Wc=[{user:"Alex C.",action:"pushed 3 commits to 'neural-ux-lab'",time:"2m ago",icon:e.jsx(In,{size:14,className:"text-blue-500"})},{user:"Sarah J.",action:"commented on 'Mobile Grid Fix'",time:"15m ago",icon:e.jsx(Zi,{size:14,className:"text-green-500"})},{user:"Mike R.",action:"deployed 'hyper-commerce' to staging",time:"45m ago",icon:e.jsx(ms,{size:14,className:"text-purple-500"})},{user:"Emily B.",action:"opened a new issue: 'Add dark mode'",time:"1h ago",icon:e.jsx(Nn,{size:14,className:"text-orange-500"})}],tn=["Starling-7B","Nexus-Raven","Zephyr-12B","Whisper-Large","Llama-3-70B","Mixtral-8x7B","Gemma-IT","Code-Llama-Instruct","Phi-2","Qwen-1.5-Chat","DBRX-Instruct","OLMo-7B","Jamba-Instruct","Falcon-180B","DeepSeek-Coder","Grok-1","Command-R+","Mistral-Large","Yi-34B","Solar-10.7B"],sn=[{mode:"VIDEO",icon:e.jsx(Sn,{size:16}),prompt:"A cinematic shot of a rainy night in Tokyo.",color:"rose"},{mode:"IMAGE",icon:e.jsx(jr,{size:16}),prompt:"A photorealistic image of a futuristic city skyline.",color:"emerald"},{mode:"AUDIO",icon:e.jsx(Ys,{size:16}),prompt:"Generate a lo-fi hip hop track, 120bpm.",color:"amber"},{mode:"APP",icon:e.jsx(ge,{size:16}),prompt:"Build a simple to-do list application.",color:"indigo"},{mode:"CHAT",icon:e.jsx(es,{size:16}),prompt:"Explain quantum computing in simple terms.",color:"blue"}],Hc=({onLaunch:t,onSubscribe:s})=>{const[r,c]=a.useState(""),[l,g]=a.useState(""),j="What should we build today? (Sai)...",x=a.useRef(null),h=a.useRef(null),[b,f]=a.useState(!1),[p,E]=a.useState(null),[C,A]=a.useState(!1),[U,me]=a.useState(0),te=S=>{E(S),f(!0)},_=S=>{S&&S.preventDefault(),alert("Under Development")};a.useEffect(()=>{const S=document.getElementById("root");S&&(S.style.overflowY="auto",S.classList.add("custom-scrollbar"));const k=()=>{if(!S)return;const Q=S.scrollTop;x.current&&(x.current.style.transform=`translate(-50%, -50%) translateY(${Q*.2}px) rotate(${Q*.05}deg)`),h.current&&(h.current.style.transform=`translate(-50%, 80px) translateY(${Q*.4}px)`)};return S&&S.addEventListener("scroll",k,{passive:!0}),()=>{S&&(S.style.overflowY="hidden",S.classList.remove("custom-scrollbar"),S.removeEventListener("scroll",k))}},[]),a.useEffect(()=>{let S;return r.length<j.length&&(S=setTimeout(()=>{c(j.substring(0,r.length+1))},100)),()=>clearTimeout(S)},[r]),a.useEffect(()=>{const S=k=>{if(b)return;const Q=k.target;["INPUT","TEXTAREA"].includes(Q.tagName)||k.key.length===1&&!k.ctrlKey&&!k.metaKey&&(k.preventDefault(),g(k.key),setTimeout(()=>{t(),g("")},200))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,b]),a.useEffect(()=>{const S=setInterval(()=>{me(k=>(k+1)%sn.length)},3e3);return()=>clearInterval(S)},[]);const ae=sn[U];return e.jsxs("div",{className:"w-full bg-white text-slate-900 font-sans antialiased relative",children:[e.jsx("style",{children:`
            @keyframes scribble {
                from { stroke-dashoffset: 400; }
                to { stroke-dashoffset: 0; }
            }
            .animate-scribble {
                stroke-dasharray: 400;
                animation: scribble 3s ease-out forwards;
            }
            @keyframes doodle-float {
                0%, 100% { transform: translateY(0) rotate(0deg); }
                33% { transform: translateY(-10px) rotate(-2deg); }
                66% { transform: translateY(5px) rotate(2deg); }
            }
            .animate-doodle-float {
                animation: doodle-float 6s ease-in-out infinite;
            }
            @keyframes slow-rotate {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            .animate-slow-rotate {
                animation: slow-rotate 60s linear infinite;
            }
            .font-doodle { font-family: 'Gochi Hand', cursive; }
            @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
            .animate-fade-in { animation: fade-in 0.6s ease-out forwards; }
            @keyframes scroll-up {
                from { transform: translateY(0); }
                to { transform: translateY(-50%); }
            }
            .animate-scroll-up {
                animation: scroll-up 40s linear infinite;
            }
        `}),e.jsxs("div",{id:"the-blueprint-hero",className:"h-screen min-h-[700px] w-full flex flex-col justify-center items-center p-8 overflow-hidden relative bg-[#1e293b] text-white",style:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[e.jsxs("div",{ref:x,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] pointer-events-none z-0",children:[e.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white/10 rounded-full animate-slow-rotate"}),e.jsx("div",{className:"absolute inset-12 border border-dashed border-white/5 rounded-full animate-slow-rotate",style:{animationDirection:"reverse"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-px h-full bg-gradient-to-b from-transparent via-white/10 to-transparent -translate-y-1/2"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 h-px w-full bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-1/2"}),e.jsx("svg",{className:"absolute top-20 left-40 w-12 h-12 text-cyan-400/20 animate-doodle-float",viewBox:"0 0 100 100",children:e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4"})}),e.jsx("svg",{className:"absolute bottom-20 right-40 w-16 h-16 text-purple-400/20 animate-doodle-float",style:{animationDelay:"1s"},viewBox:"0 0 100 100",children:e.jsx("rect",{x:"20",y:"20",width:"60",height:"60",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4",transform:"rotate(15 50 50)"})})]}),e.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto w-full text-center flex flex-col items-center animate-fade-in",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-black/20 border border-white/10 mb-8 backdrop-blur-sm shadow-lg animate-fade-in",style:{animationDelay:"200ms"},children:e.jsx("span",{className:"font-doodle text-sm text-cyan-300",children:"Welcome to Sai"})}),e.jsxs("h1",{className:"relative text-6xl md:text-8xl font-black text-white tracking-tighter mb-4 font-doodle leading-none animate-fade-in",style:{animationDelay:"400ms"},children:[e.jsxs("svg",{className:"absolute -top-12 -right-12 w-24 h-24 text-white/10 -rotate-12 animate-doodle-float z-0",style:{animationDuration:"10s"},viewBox:"0 0 100 100",children:[e.jsx("path",{d:"M50 10 L70 40 L60 40 L60 70 L40 70 L40 40 L30 40 Z",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"animate-scribble"}),e.jsx("path",{d:"M40 70 L50 90 L60 70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Let's ",e.jsxs("span",{className:"relative inline-block text-cyan-400",children:["Code.",e.jsx("svg",{className:"absolute -bottom-3 left-0 w-full h-4 text-cyan-400",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,5 Q25,10 50,5 T100,5",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeLinecap:"round",className:"animate-scribble"})})]})," Collaborate. Create."]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-xl font-medium mt-6 leading-relaxed animate-fade-in",style:{animationDelay:"600ms"},children:"Turn your scribbles into high-fidelity logical structures. Organic synthesis for a modern, AI-first ecosystem."}),e.jsxs("form",{onSubmit:_,className:"relative group w-full max-w-2xl mt-12 animate-fade-in",style:{animationDelay:"800ms"},children:[e.jsxs("svg",{className:"absolute -left-24 -bottom-4 w-48 h-24 text-white/20 rotate-[-15deg] animate-doodle-float z-0",style:{animationDelay:"1s",animationDuration:"12s"},viewBox:"0 0 200 100",children:[e.jsx("path",{d:"M10 80 Q 80 90, 150 50",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M140 60 L150 50 L140 40",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.jsx("text",{x:"20",y:"60",className:"font-doodle text-lg fill-current opacity-70",children:"Sai synthesis"})]}),e.jsxs("div",{className:"relative flex items-center bg-white rounded-full p-2 shadow-2xl shadow-black/30 z-20 transition-transform hover:scale-[1.01]",children:[e.jsx("div",{className:"pl-4 pr-3 text-gray-400",children:e.jsx(Cn,{size:24,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 text-2xl font-bold text-gray-800 font-doodle h-14 flex items-center",children:[l||r,e.jsx("span",{className:"w-1 h-7 bg-cyan-500 ml-1",style:{animation:"cursor-blink 1s infinite"}})]}),e.jsx("button",{type:"submit",className:"w-14 h-14 bg-cyan-400 text-black rounded-full hover:bg-cyan-300 transition-all active:scale-95 shadow-lg shadow-cyan-500/20 flex items-center justify-center",children:e.jsx(wr,{size:24,strokeWidth:3})})]}),e.jsx("div",{ref:h,className:"absolute top-1/2 left-1/2 w-[1200px] h-[400px] -translate-x-1/2 translate-y-[80px] pointer-events-none opacity-50 z-0",children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 1200 400",children:[e.jsx("path",{d:"M600,0 C 500,150 300,100 200,300",stroke:"rgba(255,255,255,0.1)",strokeWidth:"2",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M600,0 C 650,150 750,120 900,250",stroke:"rgba(255,255,255,0.1)",strokeWidth:"2",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M600,0 C 450,250 400,200 450,350",stroke:"rgba(255,255,255,0.1)",strokeWidth:"2",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M600,0 C 750,250 800,200 750,350",stroke:"rgba(255,255,255,0.1)",strokeWidth:"2",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mt-32 w-full animate-fade-in relative z-20",style:{animationDelay:"1000ms"},children:Uc.map(S=>e.jsxs("button",{onClick:()=>_(),className:"text-left bg-black/30 border border-white/10 p-6 rounded-3xl group hover:-translate-y-1 transition-all backdrop-blur-lg hover:bg-black/40 shadow-2xl shadow-black/60 relative z-20 overflow-hidden",children:[e.jsx("svg",{className:"absolute -bottom-8 -right-8 w-24 h-24 text-white/5 opacity-0 group-hover:opacity-100 transition-opacity animate-slow-rotate",viewBox:"0 0 100 100",children:e.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4"})}),e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-5 transition-transform group-hover:scale-110",children:S.icon}),e.jsx("h3",{className:"font-bold text-white mb-1 font-doodle text-xl",children:S.title}),e.jsx("p",{className:"text-xs text-gray-400 font-medium leading-relaxed",children:S.description})]},S.id))})]})]}),e.jsxs("section",{id:"the-blueprint",className:"py-24 px-8 max-w-5xl mx-auto text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] pointer-events-none opacity-[0.08]",children:e.jsxs("svg",{width:"800",height:"800",viewBox:"0 0 800 800",className:"text-slate-900 animate-slow-rotate",children:[e.jsx("circle",{cx:"400",cy:"400",r:"350",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"8 8"}),e.jsx("circle",{cx:"400",cy:"400",r:"250",stroke:"currentColor",strokeWidth:"1",fill:"none"}),e.jsx("path",{d:"M400,50 L400,750 M50,400 L750,400",stroke:"currentColor",strokeWidth:"0.5",fill:"none",strokeDasharray:"4 4"}),e.jsx("path",{d:"M143,143 L657,657 M143,657 L657,143",stroke:"currentColor",strokeWidth:"0.5",fill:"none",strokeDasharray:"4 4"}),e.jsx("rect",{x:"200",y:"200",width:"400",height:"400",stroke:"currentColor",strokeWidth:"1",fill:"none",transform:"rotate(45 400 400)"})]})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(Ca,{size:32,className:"mx-auto text-blue-600 mb-4 animate-pulse"}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-black text-slate-900 tracking-tighter mb-4 font-doodle relative",children:[e.jsx("div",{className:"absolute top-0 -left-8 text-blue-300/50 animate-doodle-float",children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 100 100",children:e.jsx("path",{d:"M50 10 L55 45 L90 50 L55 55 L50 90 L45 55 L10 50 L45 45 Z",fill:"currentColor"})})}),"The Sai Fabric",e.jsx("svg",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-64 h-6 text-blue-200",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,5 Q25,0 50,5 T100,5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",className:"animate-scribble"})})]}),e.jsx("p",{className:"text-slate-600 text-lg max-w-xl mx-auto font-medium mt-10 leading-relaxed",children:"A unified fabric for modern AI-native development."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mt-16 text-left",children:[e.jsx(pa,{icon:e.jsx(es,{size:24,className:"text-blue-600"}),title:"Multimodal Core",description:"Chat, generate images, video, and audio with a suite of GenAI models.",doodleIcon:e.jsx(es,{size:80,strokeWidth:1,className:"-rotate-12 animate-doodle-float"})}),e.jsx(pa,{icon:e.jsx(ms,{size:24,className:"text-purple-600"}),title:"Cloud Orchestration",description:"Synthesize and deploy infrastructure across AWS, GCP, and Azure.",doodleIcon:e.jsx(ms,{size:80,strokeWidth:1,className:"rotate-12 animate-doodle-float",style:{animationDelay:"0.5s"}})}),e.jsx(pa,{icon:e.jsx(Qt,{size:24,className:"text-emerald-600"}),title:"Sentinel Security",description:"Enforce governance with real-time policy checks and vulnerability scanning.",doodleIcon:e.jsx(Qt,{size:80,strokeWidth:1,className:"-rotate-6 animate-doodle-float",style:{animationDelay:"1s"}})}),e.jsx(pa,{icon:e.jsx(ts,{size:24,className:"text-rose-600"}),title:"Live Collaboration",description:"Code, chat, and share your screen with your team in real time.",doodleIcon:e.jsx(ts,{size:80,strokeWidth:1,className:"rotate-6 animate-doodle-float",style:{animationDelay:"1.5s"}})})]})]})]}),e.jsxs("section",{id:"model-library",className:"py-24 px-8 bg-slate-900 text-center w-full relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0)",backgroundSize:"24px 24px"}}),e.jsx("div",{className:"absolute -top-32 -left-32 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-32 -right-32 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"3s"}}),e.jsxs("div",{className:"max-w-5xl mx-auto relative",children:[e.jsx(St,{size:32,className:"mx-auto text-cyan-400 mb-4 animate-slow-rotate"}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-black text-white tracking-tighter mb-4 font-doodle relative",children:["AI Model Hub",e.jsx("svg",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-64 h-6 text-cyan-400/50",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,5 Q25,0 50,5 T100,5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",className:"animate-scribble"})})]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-xl mx-auto font-medium mt-10 leading-relaxed",children:"50+ AI models from leading providers, ready to use."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 mt-16 text-left",children:[e.jsx(ha,{name:"Meta",doodleIcon:e.jsx(Za,{size:120,strokeWidth:.5,className:"-rotate-6 animate-doodle-float"})}),e.jsx(ha,{name:"Google",doodleIcon:e.jsx(St,{size:120,strokeWidth:.5,className:"-rotate-12 animate-doodle-float",style:{animationDelay:"0.3s"}})}),e.jsx(ha,{name:"Anthropic",doodleIcon:e.jsx(Za,{size:120,strokeWidth:.5,className:"rotate-6 animate-doodle-float",style:{animationDelay:"0.6s"}})}),e.jsx(ha,{name:"OpenAI",doodleIcon:e.jsx(St,{size:120,strokeWidth:.5,className:"rotate-12 animate-doodle-float",style:{animationDelay:"0.9s"}})}),e.jsx("div",{className:"h-[270px]",children:C?e.jsxs("div",{className:"relative w-full h-full bg-slate-800/50 border-2 border-dashed border-cyan-400/50 rounded-2xl flex flex-col p-6 transition-all overflow-hidden animate-fade-in",children:[e.jsx("button",{onClick:()=>A(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-white z-20 p-1 hover:bg-white/10 rounded-full",children:e.jsx(Ue,{size:16})}),e.jsx("h3",{className:"font-bold text-white text-center text-base mb-4",children:"Connecting Endpoints..."}),e.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-x-0 top-0 h-8 bg-gradient-to-b from-slate-800/50 to-transparent z-10"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-8 bg-gradient-to-t from-slate-800/50 to-transparent z-10"}),e.jsx("div",{className:"absolute inset-0 animate-scroll-up",children:e.jsx("div",{className:"space-y-2",children:[...tn,...tn].map((S,k)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-black/20 rounded-lg animate-fade-in",style:{animationDelay:`${k*50}ms`},children:[e.jsx(St,{size:14,className:"text-gray-600"}),e.jsx("span",{className:"text-xs font-mono text-gray-400",children:S})]},k))})})]})]}):e.jsxs("button",{onClick:()=>A(!0),className:"w-full h-full bg-transparent border-2 border-dashed border-white/10 rounded-2xl flex flex-col items-center justify-center p-6 group hover:border-cyan-400/50 hover:bg-cyan-500/5 transition-all hover:-translate-y-2",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-dashed border-white/20 group-hover:border-cyan-400/80 flex items-center justify-center mb-4 transition-colors group-hover:scale-110",children:e.jsx(ss,{size:32,className:"text-white/30 group-hover:text-cyan-400 transition-colors"})}),e.jsx("h3",{className:"font-bold text-white text-lg",children:"Bring Your Own"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Connect a custom LLM endpoint."})]})})]})]})]}),e.jsx("section",{id:"universal-synthesizer",className:"py-24 px-8 bg-slate-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-5xl md:text-6xl font-black text-slate-900 tracking-tighter mb-4 font-doodle relative",children:"Universal Synthesizer"}),e.jsx("p",{className:"text-slate-600 text-lg max-w-md mx-auto md:mx-0 font-medium mt-10 leading-relaxed",children:"Go beyond code completion. Our Sai co-pilot is a multimodal engine that can chat, design visuals, compose audio, and synthesize entire applications from a single prompt."})]}),e.jsxs("div",{className:"bg-slate-800/90 border border-slate-700/50 rounded-2xl shadow-2xl p-4 backdrop-blur-lg ring-1 ring-black/5",children:[e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-xs text-slate-300 border border-slate-700/50",children:e.jsx("pre",{children:e.jsxs("code",{children:[e.jsx("span",{className:"text-green-400",children:">"})," sai install @multimodal/core",e.jsx("br",{}),e.jsx("span",{className:"text-gray-500",children:"... synthesis engine loaded"})]})})}),e.jsxs("div",{className:"mt-4 bg-slate-900/70 border border-slate-700/50 rounded-lg p-4 animate-fade-in",children:[e.jsxs("div",{className:`flex justify-between items-center border-b border-${ae.color}-500/30 pb-2`,children:[e.jsxs("div",{className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-${ae.color}-400`,children:[ae.icon,ae.mode]}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),e.jsx("p",{className:"text-sm text-slate-300 mt-3 h-10",children:ae.prompt}),e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2 text-center",children:[e.jsx("div",{className:`w-8 h-8 border-2 border-${ae.color}-400 border-t-transparent rounded-full animate-spin`}),e.jsx("span",{className:`text-xs font-bold text-${ae.color}-400/80 uppercase tracking-widest`,children:"Synthesizing..."})]})]},U)]})]})}),e.jsx("div",{className:"bg-white text-slate-900 w-full",children:e.jsxs("section",{id:"documentation",className:"py-24 px-8 max-w-5xl mx-auto text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] pointer-events-none opacity-[0.08]",children:e.jsxs("svg",{width:"800",height:"800",viewBox:"0 0 800 800",className:"text-slate-900 animate-slow-rotate",style:{animationDirection:"reverse"},children:[e.jsx("path",{d:"M400,400 C 200,200 600,200 400,400 C 200,600 600,600 400,400",stroke:"currentColor",strokeWidth:"0.5",fill:"none",opacity:"0.5"}),e.jsx("path",{d:"M400,400 Q 250,250 100,200",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M400,400 Q 550,250 700,200",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M400,400 Q 250,550 100,600",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"}),e.jsx("path",{d:"M400,400 Q 550,550 700,600",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4",className:"animate-scribble"})]})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(gr,{size:32,className:"mx-auto text-blue-600 mb-4 animate-bounce"}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-black text-slate-900 tracking-tighter mb-4 font-doodle relative",children:[e.jsxs("svg",{className:"absolute top-0 -right-24 w-32 h-16 text-slate-300/80 animate-doodle-float z-0",style:{animationDuration:"15s"},viewBox:"0 0 200 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("circle",{cx:"150",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{d:"M90 50 H 110",stroke:"currentColor",strokeWidth:"4"})]}),"The Sai Manual",e.jsx("svg",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-64 h-6 text-blue-200",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,5 Q25,0 50,5 T100,5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",className:"animate-scribble"})})]}),e.jsx("p",{className:"text-slate-600 text-lg max-w-xl mx-auto font-medium mt-10 leading-relaxed",children:"Your guide to synthesizing at the speed of thought."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mt-16 text-left relative z-20",children:[e.jsx($s,{icon:e.jsx(ut,{className:"text-blue-600"}),title:"Universal Terminal",description:"A fully-featured shell environment right in your browser.",doodleIcon:e.jsx(ut,{size:80,strokeWidth:1,className:"-rotate-12 animate-doodle-float"}),onClick:()=>te(_s["Universal Terminal"])}),e.jsx($s,{icon:e.jsx(Qa,{className:"text-rose-600"}),title:"API Studio",description:"A comprehensive toolkit for designing, testing, and generating APIs.",doodleIcon:e.jsx(Qa,{size:80,strokeWidth:1,className:"-rotate-12 animate-doodle-float",style:{animationDelay:"0.2s"}}),onClick:()=>te(_s["API Studio"])}),e.jsx($s,{icon:e.jsx(Cs,{className:"text-cyan-600"}),title:"Container Studio",description:"Synthesize, manage, and optimize Docker images and containers.",doodleIcon:e.jsx(Cs,{size:80,strokeWidth:1,className:"rotate-12 animate-doodle-float",style:{animationDelay:"0.4s"}}),onClick:()=>te(_s["Container Studio"])}),e.jsx($s,{icon:e.jsx(zs,{className:"text-purple-600"}),title:"UX Studio",description:"Prototype components, map user flows, and manage design systems with AI.",doodleIcon:e.jsx(zs,{size:80,strokeWidth:1,className:"rotate-6 animate-doodle-float",style:{animationDelay:"0.6s"}}),onClick:()=>te(_s["UX Studio"])}),e.jsx($s,{icon:e.jsx(Qt,{className:"text-emerald-600"}),title:"Governance",description:"Define and enforce security policies for your infrastructure and code.",doodleIcon:e.jsx(Qt,{size:80,strokeWidth:1,className:"-rotate-6 animate-doodle-float",style:{animationDelay:"0.8s"}}),onClick:()=>te(_s.Governance)})]})]})]})}),e.jsxs("section",{id:"community",className:"py-32 px-8 bg-slate-50 text-slate-900 w-full relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1200px] h-[1200px] pointer-events-none opacity-50",children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 1200 1200",className:"text-slate-200/80 animate-slow-rotate",children:[e.jsx("path",{d:"M600,0 C 300,300 300,900 600,1200",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4"}),e.jsx("path",{d:"M0,600 C 300,300 900,300 1200,600",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4"}),e.jsx("path",{d:"M600,0 C 900,300 900,900 600,1200",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4"}),e.jsx("path",{d:"M0,600 C 300,900 900,900 1200,600",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeDasharray:"4 4"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto relative",children:[e.jsxs("div",{className:"text-center mb-24",children:[e.jsx(ts,{size:32,className:"mx-auto text-blue-600 mb-4 animate-pulse"}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-black text-slate-900 tracking-tighter mb-4 font-doodle relative",children:["Community Hub",e.jsx("svg",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-64 h-6 text-blue-200",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,5 Q25,0 50,5 T100,5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",className:"animate-scribble"})})]}),e.jsx("p",{className:"text-slate-600 text-lg max-w-xl mx-auto font-medium mt-10 leading-relaxed",children:"Collaborate in real-time, anywhere in Sai."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start relative z-20",children:[e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"bg-yellow-50 border-4 border-slate-900 sketch-border p-8 relative rotate-[-2deg] shadow-lg transition-transform hover:rotate-0 duration-500",children:[e.jsx("div",{className:"absolute -top-4 -left-4 bg-red-500 text-white font-black doodle-text px-4 py-1.5 rounded text-lg rotate-[-10deg] shadow-md animate-pulse",children:"LIVE!"}),e.jsx("h3",{className:"text-2xl font-black doodle-text text-slate-800 mb-6",children:"Activity Pulse"}),e.jsx("div",{className:"space-y-6",children:Wc.map((S,k)=>e.jsxs("div",{className:"flex items-start gap-3 animate-fade-in",style:{animationDelay:`${k*100}ms`},children:[e.jsx("div",{className:"p-2 bg-white rounded-full border-2 border-slate-200",children:S.icon}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-slate-700 leading-tight",children:[S.user," ",S.action]}),e.jsx("p",{className:"text-xs text-slate-400 font-bold",children:S.time})]})]},k))})]}),e.jsxs("div",{className:"bg-blue-50 border-4 border-slate-900 sketch-border p-8 relative rotate-[1deg] shadow-lg transition-transform hover:rotate-0 duration-500",children:[e.jsxs("h3",{className:"text-2xl font-black doodle-text text-slate-800 mb-6 flex items-center gap-2",children:[e.jsx(es,{size:24})," Community Discussions"]}),e.jsx("div",{className:"space-y-4",children:An.map((S,k)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border-2 border-slate-200 hover:border-slate-300 transition-all cursor-pointer hover:scale-[1.02]",children:[e.jsx("div",{className:"p-2",children:S.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-slate-700 leading-tight",children:S.title}),e.jsxs("p",{className:"text-xs text-gray-400 font-bold",children:["by @",S.user,"  ",S.time]})]})]},k))})]})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"bg-green-50 border-4 border-slate-900 sketch-border p-8 relative rotate-[2deg] shadow-lg transition-transform hover:rotate-0 duration-500",children:[e.jsxs("h3",{className:"text-2xl font-black doodle-text text-slate-800 mb-6 flex items-center gap-2",children:[e.jsx(zn,{size:24})," Live Session Agenda"]}),e.jsx("div",{className:"space-y-3",children:En.map(S=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border-2 border-slate-200",children:[S.completed?e.jsx(Qi,{size:16,className:"text-green-500"}):e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 rounded-sm flex-shrink-0"}),e.jsx("p",{className:`text-sm font-bold ${S.completed?"text-slate-400 line-through":"text-slate-700"}`,children:S.text})]},S.id))})]}),e.jsxs("div",{className:"space-y-8 rotate-[-1deg]",children:[e.jsxs("div",{className:"bg-white border-4 border-slate-900 sketch-border p-8 relative shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-black doodle-text text-slate-800 mb-4",children:"Live Participants"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex -space-x-4",children:ja.map(S=>e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center text-lg font-bold border-4 border-white text-white overflow-hidden shadow-md hover:scale-110 hover:z-10 transition-transform",title:S.name,children:S.avatarUrl?e.jsx("img",{src:S.avatarUrl,alt:S.name,className:"w-full h-full object-cover"}):S.initials},S.id))}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 border-4 border-dashed border-slate-300 flex items-center justify-center cursor-pointer hover:bg-slate-200 transition-colors",children:e.jsx(ss,{size:20,className:"text-slate-400"})})]})]}),e.jsxs("div",{className:"space-y-4 px-4",children:[e.jsx("button",{className:"w-full bg-slate-800 text-white border-4 border-slate-900 sketch-border sketch-shadow px-6 py-4 font-black text-sm uppercase tracking-widest hover:-translate-y-1 transition-all active:scale-95",children:"Join Discord"}),e.jsx("button",{className:"w-full bg-white text-slate-900 border-4 border-slate-900 sketch-border sketch-shadow px-6 py-4 font-black text-sm uppercase tracking-widest hover:-translate-y-1 transition-all active:scale-95",children:"GitHub Discussions"})]})]})]})]})]})]}),e.jsx("section",{id:"pricing",className:"py-24 px-8 bg-[#0b0e14] text-white relative overflow-hidden",children:e.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx(va,{size:32,className:"mx-auto text-emerald-400 mb-4 animate-bounce"}),e.jsxs("h2",{className:"text-5xl md:text-6xl font-black tracking-tighter mb-4 font-doodle",children:["Neural ",e.jsx("span",{className:"text-emerald-400",children:"Pricing"})]}),e.jsx("p",{className:"text-gray-400 text-lg max-w-xl mx-auto font-medium leading-relaxed",children:"Flexible tokens. Scale as you synthesize."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Fc.map(S=>e.jsxs("div",{className:`relative p-8 rounded-3xl border transition-all duration-300 hover:-translate-y-2 ${S.id==="pro"?"bg-slate-800/80 border-emerald-500 shadow-[0_0_40px_rgba(16,185,129,0.15)] ring-1 ring-emerald-500/50":"bg-slate-900/50 border-white/10 hover:bg-slate-800/50"}`,children:[S.id==="pro"&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-emerald-500 text-black text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full shadow-lg",children:"Recommended"}),e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-widest mb-2",children:S.name}),e.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[e.jsxs("span",{className:"text-4xl font-black text-white",children:["$",S.priceUSD]}),e.jsx("span",{className:"text-sm text-gray-500 font-bold uppercase",children:"/mo"})]}),S.priceUSD>0&&e.jsxs("button",{onClick:s,className:"w-full mb-4 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest bg-gradient-to-r from-emerald-500 to-cyan-500 text-black hover:from-emerald-400 hover:to-cyan-400 shadow-lg shadow-emerald-500/20 transition-all flex items-center justify-center gap-2",children:[e.jsx(va,{size:14}),"Pay Now"]}),e.jsxs("div",{className:"mb-8 p-3 rounded-xl bg-white/5 border border-white/5",children:[e.jsx("div",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest mb-1",children:"Quota"}),e.jsxs("div",{className:"text-2xl font-black text-emerald-400",children:[S.tokens," ",e.jsx("span",{className:"text-sm text-white",children:"Tokens"})]})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:S.features.map((k,Q)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-300",children:[e.jsx(As,{size:16,className:"text-emerald-500 shrink-0 mt-0.5"}),e.jsx("span",{className:"leading-tight",children:k})]},Q))}),e.jsx("button",{onClick:s,className:`w-full py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${S.id==="pro"?"bg-emerald-500 text-black hover:bg-emerald-400 shadow-lg shadow-emerald-500/20":"bg-white/10 text-white hover:bg-white/20"}`,children:S.id==="hobby"?"Start Free":"Subscribe"})]},S.id))})]})}),e.jsx(Lc,{}),e.jsx(Vc,{isOpen:b,onClose:()=>f(!1),doc:p})]})},pa=({icon:t,title:s,description:r,doodleIcon:c})=>e.jsxs("div",{className:"bg-slate-50/50 border border-slate-200 p-6 rounded-2xl shadow-lg shadow-slate-200/50 hover:bg-white hover:-translate-y-2 transition-all relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-5 -bottom-5 text-slate-100/80 transition-transform duration-500 group-hover:scale-110 group-hover:rotate-[-6deg] z-0",children:c}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white flex items-center justify-center mb-4 border border-slate-200/80 shadow-sm transition-transform group-hover:scale-110",children:t}),e.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:s}),e.jsx("p",{className:"text-sm text-slate-500",children:r})]})]}),$s=({icon:t,title:s,description:r,doodleIcon:c,onClick:l})=>e.jsxs("button",{onClick:l,className:"text-left block bg-slate-50/50 border border-slate-200 p-6 rounded-2xl shadow-lg shadow-slate-200/50 hover:bg-white hover:-translate-y-2 transition-all relative overflow-hidden group",children:[e.jsx("div",{className:"absolute -right-8 -bottom-8 text-slate-100/80 transition-transform duration-500 group-hover:scale-110 group-hover:rotate-[-6deg] z-0",children:c}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white flex items-center justify-center mb-4 border border-slate-200/80 shadow-sm transition-transform group-hover:scale-110",children:t}),e.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-2",children:s}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:r}),e.jsx("span",{className:"text-sm font-bold text-blue-600 group-hover:underline",children:"Read more "})]})]}),Vc=({isOpen:t,onClose:s,doc:r})=>!t||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4 animate-fade-in",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col shadow-2xl",onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r.title}),e.jsx("button",{onClick:s,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full",children:e.jsx(Ue,{size:20})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:r.content}),e.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50 flex justify-end",children:e.jsx("button",{onClick:s,className:"px-5 py-2 bg-blue-600 text-white rounded-lg font-semibold text-sm hover:bg-blue-500 transition-colors shadow-lg shadow-blue-500/20 active:scale-95",children:"Close"})})]})}),ha=({name:t,doodleIcon:s})=>{const r=t.length>8?"text-2xl":t.length>6?"text-3xl":"text-4xl";return e.jsxs("div",{className:"h-[270px] bg-slate-800/50 border border-white/10 p-6 rounded-2xl hover:bg-slate-800/80 hover:-translate-y-2 transition-all relative overflow-hidden group backdrop-blur-sm shadow-2xl shadow-black/40 flex flex-col",children:[e.jsx("div",{className:"absolute -right-8 -bottom-8 text-white/5 transition-transform duration-500 group-hover:scale-110 group-hover:rotate-[-6deg] z-0",children:s}),e.jsxs("div",{className:"relative z-10 flex items-start justify-between gap-2",children:[e.jsx("h3",{className:`font-mono text-white font-black leading-tight break-words ${r}`,children:t}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1.5 text-emerald-400 bg-emerald-500/10 px-2 py-1 rounded-full border border-emerald-500/20",children:[e.jsx(cs,{size:12}),e.jsx("span",{className:"text-[10px] font-bold",children:"Verified"})]})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-auto relative z-10 group-hover:text-gray-200 transition-colors",children:"Industry-leading models for a variety of synthesis tasks."})]})},Kc=H.lazy(()=>X(()=>import("./SearchPane-BHYV9q6M.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Yc=H.lazy(()=>X(()=>import("./SourceControlPane-DxpsIPEP.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Jc=H.lazy(()=>X(()=>import("./SecurityPane-ClOeaO1L.js"),__vite__mapDeps([8,1,2,3,4,5,6]))),qc=H.lazy(()=>X(()=>import("./TerraformGenerator-YYgatlVo.js"),__vite__mapDeps([9,1,10,2,3,4,5,6]))),Xc=H.lazy(()=>X(()=>import("./DockerPane-D67MpmOT.js"),__vite__mapDeps([11,1,2,3,4,5,6]))),Qc=H.lazy(()=>X(()=>import("./SettingsPane-DpNHO3WQ.js"),__vite__mapDeps([12,1,2,3,4,5,6]))),Zc=H.lazy(()=>X(()=>import("./HelpPane-B5uu7i_N.js"),__vite__mapDeps([13,1,2,3,4,5,6]))),ed=H.lazy(()=>X(()=>import("./PreviewPane-DBc_0zk1.js"),__vite__mapDeps([14,1]))),td=H.lazy(()=>X(()=>import("./ModelMarketplace-ByOJTEIo.js"),__vite__mapDeps([15,1,2,3,4,5,6]))),sd=H.lazy(()=>X(()=>import("./PersonasPane-D_Bo1W88.js"),__vite__mapDeps([16,1,2,3,4,5,6]))),ad=H.lazy(()=>X(()=>import("./ExtensionsPane-C4Ive8tS.js"),__vite__mapDeps([17,1,2,3,4,5,6]))),rd=H.lazy(()=>X(()=>import("./UxLabPane-2BOK_RKH.js"),__vite__mapDeps([18,1,2,3,4,5,6]))),nd=H.lazy(()=>X(()=>import("./DebugPane-D_wdjKv6.js"),__vite__mapDeps([19,1,2,3,4,5,6]))),od=H.lazy(()=>X(()=>import("./TestingPane-5aB3wDK_.js"),__vite__mapDeps([20,1,2,3,4,5,6]))),id=H.lazy(()=>X(()=>import("./DatabasePane-DyhHrVCS.js"),__vite__mapDeps([21,1,2,3,4,5,6]))),ld=H.lazy(()=>X(()=>import("./KanbanPane-BeSgkkaN.js"),__vite__mapDeps([22,1]))),cd=H.lazy(()=>X(()=>import("./ApiForgePane-C2CXrhH0.js"),__vite__mapDeps([23,1,2,3,4,5,6]))),dd=H.lazy(()=>X(()=>import("./RecorderPane-LDWMptZm.js"),__vite__mapDeps([24,1,2,3,4,5,6]))),md=H.lazy(()=>X(()=>import("./DocumentEditorPane-DIPbKQGn.js"),__vite__mapDeps([25,1,2,3,4,5,6]))),ud=H.lazy(()=>X(()=>import("./CollaborationSidebarPane-Ck_ujz6E.js"),__vite__mapDeps([26,1])));H.lazy(()=>X(()=>import("./TeamCollaborationPane-D7P8trNP.js"),__vite__mapDeps([27,1,28,29,2,3,4,5,6])).then(t=>({default:t.TeamCollaborationPane})));const xd=H.lazy(()=>X(()=>import("./GhostAgent-BFNZC7BX.js"),__vite__mapDeps([30,1]))),pd=H.lazy(()=>X(()=>import("./DeploymentCenter-BUgjRBMo.js"),__vite__mapDeps([31,1,2,3,4,5,6]))),hd=H.lazy(()=>X(()=>import("./TeamHub-DrcQ8it_.js"),__vite__mapDeps([32,1]))),gd=H.lazy(()=>X(()=>import("./FloatingChatWidget-B2VlPKGD.js"),__vite__mapDeps([33,1,29,2,3,4,5,6])).then(t=>({default:t.FloatingChatWidget}))),fd=H.lazy(()=>X(()=>import("./VideoGrid-BXfVL_9s.js"),__vite__mapDeps([34,1]))),bd=H.lazy(()=>X(()=>import("./LiveSessionChat-jTGbm1Yz.js"),__vite__mapDeps([35,1]))),yd=H.lazy(()=>X(()=>import("./IntegrationsPane-DHPe-Vwq.js"),__vite__mapDeps([36,1,2,3,4,5,6]))),wd=H.lazy(()=>X(()=>import("./TemplateLibrary-CRtPK39Q.js"),__vite__mapDeps([37,1,2,3,4,5,6]))),vd=H.lazy(()=>X(()=>import("./MicaAssistant-B-snqZMB.js"),__vite__mapDeps([38,1,6,2,3,4,5]))),jd=H.lazy(()=>X(()=>import("./MlStudioPane-BIjR6YiW.js"),__vite__mapDeps([39,1,3,4]))),Nd=H.lazy(()=>X(()=>import("./CommandPaletteModal-3vpI4sIh.js"),__vite__mapDeps([40,1]))),kd=H.lazy(()=>X(()=>import("./OnboardingModal-D9aMS-6U.js"),__vite__mapDeps([41,1,2,3,4,5,6])).then(t=>({default:t.OnboardingModal}))),Sd=H.lazy(()=>X(()=>import("./InviteMemberModal-Bs8xVX5_.js"),__vite__mapDeps([28,1]))),Cd=H.lazy(()=>X(()=>import("./SaveToGithubModal-DarYln1-.js"),__vite__mapDeps([42,1]))),zd=H.lazy(()=>X(()=>import("./AiSuggestionModal-SBs7Rh5-.js"),__vite__mapDeps([43,1,2,3,4,5,6]))),Id=H.lazy(()=>X(()=>import("./FileTypeModal-BNPTkSWJ.js"),__vite__mapDeps([44,1,2,3,4,5,6]))),Ed=H.lazy(()=>X(()=>import("./AuthModal-BbaZsPQ2.js"),__vite__mapDeps([45,1,2,3,4,5,6]))),Td=H.lazy(()=>X(()=>import("./SwitchProjectModal-BfeJpP5T.js"),__vite__mapDeps([46,1]))),Ad=H.lazy(()=>X(()=>import("./IdentityDashboardModal-BDy54a_G.js"),__vite__mapDeps([47,1]))),Dd=H.lazy(()=>X(()=>import("./CreateProjectModal-DUocNBPU.js"),__vite__mapDeps([48,1]))),Pd=H.lazy(()=>X(()=>import("./UpgradeModal-ClteX_uG.js"),__vite__mapDeps([49,1]))),Rd=H.lazy(()=>X(()=>import("./AboutModal-BkINnO31.js"),__vite__mapDeps([50,1]))),Bd=H.lazy(()=>X(()=>import("./VoiceCommandModal-Bo5P88g_.js"),__vite__mapDeps([51,1]))),Md=H.lazy(()=>X(()=>import("./ScreenRecorderModal-DBy_63nN.js"),__vite__mapDeps([52,1,10,2,3,4,5,6]))),Od=H.lazy(()=>X(()=>import("./CloneRepoModal-D2lmioVR.js"),__vite__mapDeps([53,1]))),Ld=H.lazy(()=>X(()=>import("./NetlifyDeployModal-C-yobEaa.js"),__vite__mapDeps([54,1]))),_d=H.lazy(()=>X(()=>import("./ConnectCloudModal-CyHGEA-f.js"),__vite__mapDeps([55,1]))),$d=H.lazy(()=>X(()=>import("./CommentThreadModal-04YzJVIa.js"),__vite__mapDeps([56,1,2,3,4,5,6]))),Fd=H.lazy(()=>X(()=>import("./BuildPreviewModal-BJIKQtG_.js"),__vite__mapDeps([57,1]))),Gd=H.lazy(()=>X(()=>import("./CreatePersonaModal-VlclLuJj.js"),__vite__mapDeps([58,1]))),Ud=H.lazy(()=>X(()=>import("./PaymentModal-BRr3bO7O.js"),__vite__mapDeps([59,1,2,3,4,5,6]))),_t=()=>e.jsx("div",{className:"flex items-center justify-center h-full w-full bg-[var(--color-background)]",children:e.jsx(ds,{className:"w-6 h-6 animate-spin text-[var(--color-accent)]"})}),an="sai_workspace_fs",rn="sai_last_commit_fs",nn="sai_recordings",on="sai_projects",Wd=[{id:"1",title:"alphabet-explorer",description:"Interactive letter-recognition game for early learners.",teamMemberIds:["1","2","3","4"],status:Ss.ACTIVE,changeCount:0,lastUpdate:"Just now",comments:[]},{id:"2",title:"neural-ux-lab",description:"Experimental design systems with AI",teamMemberIds:["1","2"],status:Ss.REVIEW,changeCount:5,lastUpdate:"1h ago",comments:[]},{id:"3",title:"hyper-commerce",description:"Go-based scalable microservices",teamMemberIds:["1","3"],status:Ss.DEPLOYED,changeCount:0,lastUpdate:"3d ago",comments:[]}],Hd=()=>e.jsxs("div",{className:"absolute inset-0 pointer-events-none select-none opacity-[0.03] overflow-hidden",children:[e.jsxs("svg",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]",viewBox:"0 0 100 100",children:[e.jsx("path",{d:"M10,10 L30,40 L60,20 L90,80",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"2,2",className:"animate-flow-dashes"}),e.jsx("circle",{cx:"10",cy:"10",r:"2",fill:"currentColor",className:"animate-pulse-scale",style:{animationDelay:"0s"}}),e.jsx("circle",{cx:"30",cy:"40",r:"2",fill:"currentColor",className:"animate-pulse-scale",style:{animationDelay:"1s"}}),e.jsx("circle",{cx:"60",cy:"20",r:"2",fill:"currentColor",className:"animate-pulse-scale",style:{animationDelay:"2s"}}),e.jsx("circle",{cx:"90",cy:"80",r:"2",fill:"currentColor",className:"animate-pulse-scale",style:{animationDelay:"3s"}})]}),e.jsxs("svg",{className:"absolute bottom-[20%] left-[-5%] w-[300px] h-[300px] text-blue-500 animate-subtle-rotate animate-breathe",style:{transformOrigin:"center"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5",children:[e.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 4.44-2.04z"}),e.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-4.44-2.04z"})]}),e.jsx("div",{className:"absolute top-[40%] left-[40%] doodle-text text-8xl opacity-10 animate-doodle-float",children:"{}"})]}),Vd=({design:t,setDesign:s})=>{var $r;const[r,c]=a.useState(null),[l,g]=a.useState([]),[j,x]=a.useState(ft.HUB),[h,b]=a.useState(!1),[f,p]=a.useState(null),[E,C]=a.useState(!1),[A,U]=a.useState(!1),[me,te]=a.useState(()=>{const i=localStorage.getItem(on);return i?JSON.parse(i):Wd}),[_,ae]=a.useState(()=>{const i=localStorage.getItem(an);if(i)try{return JSON.parse(i)}catch(m){console.error("Failed to parse saved FS",m)}return qr}),[S,k]=a.useState(()=>{const i=localStorage.getItem(rn);return i?JSON.parse(i):qr}),[Q,ue]=a.useState([{id:"group-1",name:"Main",tabs:[],activeTabIndex:-1,isCollapsed:!1}]),[q,Ie]=a.useState("group-1"),re=a.useMemo(()=>{const i=Q.find(m=>m.id===q);return!i||i.activeTabIndex===-1?null:i.tabs[i.activeTabIndex]},[Q,q]),[Re,Le]=a.useState(localStorage.getItem("sai_theme")||"Evergreen"),[ke,pe]=a.useState("gemini-3-pro-preview"),[Y,We]=a.useState(!0),[Ye,fe]=a.useState(!1),[Ge,Te]=a.useState(0),[He,Be]=a.useState(!1),[Z,be]=a.useState(!0),[Ae,De]=a.useState(!1),[Pe,Ve]=a.useState(320),[v,z]=a.useState(!1),le=a.useRef(!1),[ve,je]=a.useState(450),[Se,G]=a.useState(!1),ne=a.useRef(!1),[he,Ne]=a.useState([]),[qe,rt]=a.useState("main"),[Rt,Ct]=a.useState(["main","dev"]),[xt,vt]=a.useState(!1),[_e,M]=a.useState(!1);a.useEffect(()=>{const i=()=>window.innerWidth<768;return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const[ce,Ee]=a.useState([]),[de,Je]=a.useState(null),[Me,tt]=a.useState(!1),[Ze,xs]=a.useState(()=>{const i=localStorage.getItem(nn);return i?JSON.parse(i):[]}),[Xe,ct]=a.useState(!1),[Bt,jt]=a.useState(!1),[Ht,ps]=a.useState([]),[Xs,Mt]=a.useState(!1),[Ds,Vt]=a.useState([]),[pt,Qs]=a.useState(An),[hs,ns]=a.useState(En),[zt,w]=a.useState({modified:[],untracked:[],deleted:[]});a.useEffect(()=>{const i=new Map,m=new Map,u=(L,ze,O)=>{const ie=ze?`${ze}/${L.name}`:L.name;O.set(ie,L),L.children&&L.children.forEach(Ns=>u(Ns,ie,O))};u(S,"",i),u(_,"",m);const N=[],T=[],B=[];m.forEach((L,ze)=>{const O=ze.substring(_.name.length+1);if(!O)return;const ie=ze.replace(_.name,S.name);if(i.has(ie)){const Ns=i.get(ie);L.type==="file"&&Ns.type==="file"&&L.content!==Ns.content&&N.push(O)}else L.type==="file"&&T.push(O)}),i.forEach((L,ze)=>{const O=ze.substring(S.name.length+1);O&&(m.has(ze.replace(S.name,_.name))||L.type==="file"&&B.push(O))}),w({modified:N,untracked:T,deleted:B})},[_,S]);const{stagedChanges:oe,unstagedChanges:ye}=a.useMemo(()=>{const i=[...zt.modified.map(m=>({file:m,status:"M"})),...zt.untracked.map(m=>({file:m,status:"A"})),...zt.deleted.map(m=>({file:m,status:"D"}))];return{stagedChanges:i.filter(m=>he.includes(m.file)),unstagedChanges:i.filter(m=>!he.includes(m.file))}},[zt,he]),ee=a.useCallback((i,m)=>{const u={id:`act-${Date.now()}`,icon:m,text:i,time:"just now",user:(r==null?void 0:r.name)||"Anonymous"};Vt(N=>[u,...N])},[r]),At=i=>{if(!r)return;const m={id:Date.now().toString(),text:i,completed:!1};ns(u=>[...u,m]),ee(`${r.name} added to agenda: "${i}"`,e.jsx(zn,{size:14,className:"text-blue-400"}))},Ps=i=>{r&&ns(m=>{const u=m.map(T=>T.id===i?{...T,completed:!T.completed}:T),N=u.find(T=>T.id===i);return N!=null&&N.completed&&ee(`${r.name} completed: "${N.text}"`,e.jsx(As,{size:14,className:"text-green-400"})),u})},$e=i=>{if(!r)return;const m=hs.find(u=>u.id===i);m&&ee(`${r.name} removed from agenda: "${m.text}"`,e.jsx(Ue,{size:14,className:"text-red-400"})),ns(u=>u.filter(N=>N.id!==i))},ht=i=>{if(!r)return;let m=e.jsx(Zt,{size:16,className:"text-gray-400"}),u=`Discussion: ${new URL(i).hostname}`,N="a link";if(i.includes("github.com")){m=e.jsx(cn,{size:16,className:"text-gray-400"});const B=i.match(/github\.com\/([^\/]+\/[^\/]+)/),L=B?B[1].replace(".git",""):"a repository";u=`Review: ${L}`,N=`repository ${L}`}else i.includes("medium.com")&&(m=e.jsx(bt,{size:16,className:"text-green-400"}),u=`Article: ${(new URL(i).pathname.split("/").pop()||"an article").replace(/-/g," ")}`,N="a Medium article");const T={user:r.name,icon:m,title:u,time:"just now"};Qs(B=>[T,...B]),ee(`${r.name} imported ${N} for discussion`,e.jsx(sl,{size:14,className:"text-gray-400"}))},Ke=()=>{ct(!0),jt(!1),Mt(!1)},gs=i=>{if(!r)return;const m={user:r.name,text:i,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};ps(u=>[...u,m]),setTimeout(()=>{const u=l.filter(N=>N.id!==r.id);if(u.length>0){const T={user:u[Math.floor(Math.random()*u.length)].name,text:"Roger that.",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};ps(B=>[...B,T]),(Bt||!Xe)&&Mt(!0)}},2e3)};a.useEffect(()=>{localStorage.setItem(nn,JSON.stringify(Ze))},[Ze]),a.useEffect(()=>{localStorage.setItem(on,JSON.stringify(me))},[me]);const Ea=a.useCallback(i=>{xs(m=>[i,...m])},[]),Ta=a.useCallback(i=>{xs(m=>m.filter(u=>u.id!==i))},[]),[Kt,Zs]=a.useState(localStorage.getItem("sai_github_token")),[Rs,fs]=a.useState(null),[bs,ea]=a.useState([]),[ta,ys]=a.useState(wl),[ws,sa]=a.useState(!1),[aa,Aa]=a.useState("vscode"),[Da,Ot]=a.useState(),[Pa,ra]=a.useState(),[Lt,dt]=a.useState("idle"),[na,ot]=a.useState([]),[Ra,Yt]=a.useState("");a.useEffect(()=>{localStorage.setItem(an,JSON.stringify(_))},[_]),a.useEffect(()=>{localStorage.setItem(rn,JSON.stringify(S))},[S]);const Qe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);a.useEffect(()=>{const i=m=>{(m.metaKey||m.ctrlKey)&&m.key==="j"&&(m.preventDefault(),Te(u=>u===0?250:0)),(m.metaKey||m.ctrlKey)&&m.shiftKey&&m.key==="p"&&(m.preventDefault(),Bs(!0)),(m.metaKey||m.ctrlKey)&&m.key==="b"&&(m.preventDefault(),We(u=>!u)),(m.metaKey||m.ctrlKey)&&m.key==="i"&&(m.preventDefault(),(r==null?void 0:r.plan)==="Hobby"?(vs("AI Chat"),Jt(!0)):fe(u=>!u))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[re]);const[Dt,mt]=a.useState([{id:"1",title:"Neural Sync Assistant",messages:[]}]),[y,n]=a.useState("1"),d=()=>{const i=Date.now().toString();mt(m=>[...m,{id:i,title:"New Conversation",messages:[]}]),n(i)},o=i=>{n(i)},D=i=>{if(Dt.length<=1){mt([{id:Date.now().toString(),title:"Neural Sync Assistant",messages:[]}]),n(Dt[0].id);return}const m=Dt.filter(u=>u.id!==i);mt(m),y===i&&n(m[m.length-1].id)},P=a.useMemo(()=>Dt.find(i=>i.id===y)||Dt[0],[Dt,y]),[V,se]=a.useState(()=>{try{const i=localStorage.getItem("sai_api_keys");return i?JSON.parse(i):{}}catch{return{}}});a.useEffect(()=>{localStorage.setItem("sai_api_keys",JSON.stringify(V));const i=V.google||V.gemini||V["gemini-3-pro-preview"];i&&localStorage.setItem("sai_gemini_api_key",i)},[V]);const{servers:R,connectServer:K,disconnectServer:nt}=uc(),[gt,it]=a.useState(null),[$,J]=a.useState([]),[xe,F]=a.useState(Nl),[W,we]=a.useState(Sl),[Ce,st]=a.useState(El),[et,It]=a.useState(!1),[Ba,Ma]=a.useState("header"),[oa,Oa]=a.useState(Dl),[Cr,Kn]=a.useState(""),[Yn,Bs]=a.useState(!1),[Jn,La]=a.useState(!1),[qn,ia]=a.useState(!1),[Xn,la]=a.useState(!1),[Qn,Zn]=a.useState(!1),[eo,Ms]=a.useState(!1),[to,ca]=a.useState(!1),[so,zr]=a.useState(!1),[ao,_a]=a.useState(!1),[ro,Ir]=a.useState(!1),[no,Er]=a.useState(!1),[oo,io]=a.useState("profile"),[lo,da]=a.useState(!1),[co,Jt]=a.useState(!1),[mo,vs]=a.useState(""),[uo,xo]=a.useState(!1),[po,Tr]=a.useState(!1),[ho,$a]=a.useState(!1),[go,Ar]=a.useState(!1),[fo,bo]=a.useState("~"),Nt=a.useRef(null),[Dr,yo]=a.useState({}),[qt,Pr]=a.useState(null),wo=(i,m)=>{Pr({filePath:i,lineNumber:m})},vo=(i,m,u)=>{if(!r)return;const N={id:Date.now().toString(),author:r.name,initials:r.initials,text:u,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),lineNumber:m};yo(T=>({...T,[i]:[...T[i]||[],N]}))},jo=i=>{const m={...i,id:`task-${Date.now()}`,status:"todo"};ys(u=>[m,...u])},Os=(i,m)=>{ue(u=>{const N=[...u];let T=-1,B=-1;if(N.forEach((L,ze)=>{const O=L.tabs.findIndex(ie=>ie.path===m);O!==-1&&(T=ze,B=O)}),T!==-1)N[T].activeTabIndex=B,Ie(N[T].id);else{const L=N.findIndex(ze=>ze.id===q);L!==-1&&(N[L].tabs.push({node:i,path:m}),N[L].activeTabIndex=N[L].tabs.length-1)}return N}),fs(null)},Rr=(i,m)=>{ue(u=>u.map(T=>{if(T.id!==i)return T;const B=T.tabs.filter((ze,O)=>O!==m);let L=T.activeTabIndex;return L>=B.length&&(L=B.length-1),{...T,tabs:B,activeTabIndex:L}}))},ma=a.useCallback(i=>{ea(m=>[...m,i].slice(-100))},[]),Fe=a.useCallback(i=>{var m,u;(m=Nt.current)==null||m.ensureTerminalVisible(),(u=Nt.current)==null||u.runTerminalCommand(i)},[]),No=a.useCallback(i=>{Fe(`git checkout ${i}`),rt(i),ee(`Switched to branch: ${i}`,e.jsx(Pt,{size:14,className:"text-purple-400"}))},[Fe,ee]),ko=a.useCallback(i=>{Fe(`git checkout -b ${i}`),Ct(m=>[...new Set([...m,i])]),rt(i),ee(`Created and switched to new branch: ${i}`,e.jsx(Pt,{size:14,className:"text-green-400"}))},[Fe,ee]),So=a.useCallback(()=>{vt(!0),Fe(`git pull origin ${qe} && git push origin ${qe}`),ee(`Syncing changes with remote on branch: ${qe}`,e.jsx(Es,{size:14,className:"text-blue-400"})),setTimeout(()=>vt(!1),3e3)},[Fe,qe,ee]),Co=a.useCallback(()=>{Fe("git status")},[Fe]),zo=a.useCallback(i=>{Fe(`git add "${i}"`),Ne(m=>[...new Set([...m,i])])},[Fe]),Io=a.useCallback(i=>{Fe(`git restore --staged "${i}"`),Ne(m=>m.filter(u=>u!==i))},[Fe]),Eo=a.useCallback(()=>{Fe("git add -A"),Ne(ye.map(i=>i.file).concat(he))},[Fe,ye,he]),To=a.useCallback(()=>{Fe("git restore --staged ."),Ne([])},[Fe]),Oe=a.useCallback(i=>{var m,u;(m=Nt.current)==null||m.ensureTerminalVisible(),Array.isArray(i)?i.forEach(N=>{var T;(T=Nt.current)==null||T.writeToTerminal(N),ma(N)}):((u=Nt.current)==null||u.writeToTerminal(i),ma(i))},[ma]),Ao=a.useCallback(i=>{if(!Nt.current)return;const m=i.split("/"),u=m[m.length-1];let N=i;u.includes(".")&&(N=m.slice(0,-1).join("/"));const T=`cd ${N||"~"}`;Nt.current.runTerminalCommand(T)},[]),Do=a.useCallback(i=>{var L;if(!Nt.current)return;const m=i.split("/"),u=m[m.length-1],N=(L=u.split(".").pop())==null?void 0:L.toLowerCase();let T="";if(N==="js")T=`node ${u}`;else if(N==="ts")T=`npx ts-node ${u}`;else if(N==="py")T=`python ${u}`;else if(N==="sh")T=`bash ${u}`;else if(N==="go")T=`go run ${u}`;else if(N==="rs")T=`rustc ${u} && ./${u.replace(".rs","")}`;else if(N==="rb")T=`ruby ${u}`;else{Oe(`\r
\x1B[33mNo runner configured for .${N} files\x1B[0m`);return}const B=m.slice(0,-1).join("/")||"~";Nt.current.runTerminalCommand(`cd ${B} && ${T}`)},[Oe]),Po=a.useCallback(i=>{bo(i)},[]),Ro=a.useCallback(()=>{Oe([`\r
\x1B[1;34m[SAI]\x1B[0m Synchronizing workspace files...`,"\x1B[1;32m\x1B[0m File system re-indexed.","\x1B[1;34m[SAI]\x1B[0m Refresh complete."])},[Oe]),Bo=a.useCallback(()=>{var u;if(!re){Oe(`\r
\x1B[31mError: No active file selected.\x1B[0m`);return}const i=(u=re.node.name.split(".").pop())==null?void 0:u.toLowerCase();let m="";i==="js"||i==="ts"?m=`node ${re.node.name}`:i==="py"&&(m=`python ${re.node.name}`),m&&Fe(m)},[re,Fe,Oe]),Mo=a.useCallback(i=>i.trim().toLowerCase().startsWith("rm -rf /")?{allowed:!1,reason:"Destructive root commands are restricted in this environment."}:{allowed:!0},[]),Oo=a.useCallback(()=>{Oe([`\r
\x1B[1;35m[SYSTEM]\x1B[0m Triggering workspace build sequence...`,"\x1B[1;32m\x1B[0m Build artifacts generated.","\x1B[1;35m[SYSTEM]\x1B[0m Ready for deployment."]),ee(`${(r==null?void 0:r.name)||"User"} triggered a workspace build`,e.jsx(qa,{size:14,className:"text-amber-400"}))},[Oe,ee,r]);a.useEffect(()=>{const i=Ls.getCurrentUser();i?(c(i),g([i]),localStorage.getItem("sai_onboarded")||setTimeout(()=>La(!0),800)):g([])},[]),a.useEffect(()=>{(async()=>{const m=sessionStorage.getItem("github_oauth_code"),u=sessionStorage.getItem("github_oauth_state_received");if(m&&u){sessionStorage.removeItem("github_oauth_code"),sessionStorage.removeItem("github_oauth_state_received");try{const T=await fetch("/api/auth/github/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:m,state:u})});if(T.ok){const B=await T.json();if(B.user){const L=await Ls.signInWithGitHubToken(B.accessToken);c(L),g([L]),x(ft.WORKSPACE);return}}}catch{console.log("Backend OAuth exchange not available, checking stored token...")}const N=localStorage.getItem("github_access_token");if(N)try{const T=await Ls.signInWithGitHubToken(N);c(T),g([T]),x(ft.WORKSPACE);return}catch(T){console.error("GitHub re-auth failed:",T)}console.log("GitHub OAuth requires backend code exchange. Opening auth modal for alternative methods."),b(!0)}})()},[]),a.useEffect(()=>{const i=Xr.find(m=>m.name===Re)||Xr[0];Object.entries(i.colors).forEach(([m,u])=>{document.documentElement.style.setProperty(m,u)}),localStorage.setItem("sai_theme",Re)},[Re]);const Lo=i=>{mt(m=>m.map(u=>{var N;if(u.id===y){const T=(N=i.find(L=>L.sender==="user"))==null?void 0:N.text,B=T?T.length>30?T.substring(0,30)+"...":T:u.title;return{...u,messages:i,title:B}}return u}))},_o=a.useCallback(async(i,m)=>{var L,ze;const u=m.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").slice(0,50)||`sai-app-${Date.now()}`;dt("planning"),Yt("Decomposing Synthesis Plan..."),ot([{id:"1",label:"Decomposing Synthesis Plan",status:"running"},{id:"2",label:`Generating files for '${u}'`,status:"idle"},{id:"3",label:`Injecting '${u}' into workspace`,status:"idle"},{id:"4",label:"Updating Team Hub",status:"idle"},{id:"5",label:"Launching Preview Runtime",status:"idle"}]),await new Promise(O=>setTimeout(O,1200)),dt("executing"),Yt(`Generating files for '${u}'...`),ot(O=>O.map(ie=>ie.id==="1"?{...ie,status:"completed"}:ie.id==="2"?{...ie,status:"running"}:ie));const N={name:u,type:"folder",children:i.files.map(O=>({name:O.fileName,type:"file",content:O.content}))};ue([{id:"group-1",name:"Main",tabs:[],activeTabIndex:-1,isCollapsed:!1}]),ae(O=>{const ie=O.children||[],Ns=[N,...ie.filter(li=>li.name!=="alphabet-explorer")];return{...O,children:Ns}}),await new Promise(O=>setTimeout(O,800)),Yt(`Injecting '${u}' into workspace...`),ot(O=>O.map(ie=>ie.id==="2"?{...ie,status:"completed"}:ie.id==="3"?{...ie,status:"running"}:ie));const T={id:Date.now().toString(),title:u,description:`AI-generated project for: "${m}"`,teamMemberIds:r?[r.id]:[],status:Ss.ACTIVE,changeCount:i.files.length,lastUpdate:"Just now",comments:[]};te(O=>[T,...O]),ee(`${(r==null?void 0:r.name)||"User"} synthesized new app: '${u}'`,e.jsx(ks,{size:14,className:"text-cyan-400"})),await new Promise(O=>setTimeout(O,1e3)),Yt("Updating Team Hub..."),ot(O=>O.map(ie=>ie.id==="3"?{...ie,status:"completed"}:ie.id==="4"?{...ie,status:"running"}:ie)),await new Promise(O=>setTimeout(O,600)),Yt("Launching Preview Runtime..."),ot(O=>O.map(ie=>ie.id==="4"?{...ie,status:"completed"}:ie.id==="5"?{...ie,status:"running"}:ie));const B=((L=N.children)==null?void 0:L.find(O=>O.name==="index.html"))||((ze=N.children)==null?void 0:ze[0]);B&&Os(B,`${u}/${B.name}`),x(ft.WORKSPACE),p(I.PREVIEW),Oe(`\r
\x1B[32m Synthesized and saved new project: ${u}\x1B[0m`),dt("completed"),Yt("Manifest injection successful."),ot(O=>O.map(ie=>({...ie,status:"completed"})))},[r,Oe,ee]),js=i=>{if(!re)return;const{path:m}=re,u=m.split("/");ue(T=>T.map(B=>({...B,tabs:B.tabs.map(L=>L.path===m?{...L,node:{...L.node,content:i}}:L)})));const N=(T,B)=>{if(!T||B.length===0)return{updatedNodes:T,changed:!1};let L=!1;return{updatedNodes:T.map(O=>{if(O.name!==B[0])return O;if(B.length===1&&O.type==="file")return L=!0,{...O,content:i};if(O.type==="folder"&&O.children){const ie=N(O.children,B.slice(1));if(ie.changed)return L=!0,{...O,children:ie.updatedNodes}}return O}),changed:L}};ae(T=>{if(!T.children)return T;const{updatedNodes:B,changed:L}=N(T.children,u);return L?{...T,children:B}:T})},$o=i=>{if(!re){alert("No active file to insert code into. Please open a file first.");return}const u=(re.node.content||"")+`

`+i;js(u)},Fa=i=>{ae(m=>{var B;let u=i||"New Folder";const N=((B=m.children)==null?void 0:B.map(L=>L.name))||[];if(!i)for(;N.includes(u);)u=`New Folder ${Math.floor(Math.random()*100)}`;const T={name:u,type:"folder",children:[],isRenaming:!i};return{...m,children:[...m.children||[],T]}})},Fo=i=>{if(i){let m=i;ae(u=>{const N={name:m,type:"file",content:"",isRenaming:!1};return{...u,children:[...u.children||[],N]}}),p(I.FILES),setTimeout(()=>{Os({name:m,type:"file",content:""},m)},100)}else Ms(!0)},Go=(i,m)=>{let u;m?u=m:u=i?`untitled.${i}`:"untitled",ae(N=>{const T=(N.children||[]).map(O=>O.name);let B=0,L=u;for(;T.includes(L);)B++,L=i?`untitled_${B}.${i}`:`untitled_${B}`;u=L;const ze={name:u,type:"file",content:"",isRenaming:!m};return{...N,children:[...N.children||[],ze]}}),p(I.FILES),setTimeout(()=>{Os({name:u,type:"file",content:""},u)},100)},Br=(i,m=!1)=>{if(!(m?!0:window.confirm(`Delete '${i.split("/").pop()}'?`)))return;const N=(T,B)=>{if(!T||B.length===0)return T;const L=B[0],ze=B.slice(1);return ze.length===0?T.filter(O=>O.name!==L):T.map(O=>O.name===L&&O.type==="folder"&&O.children?{...O,children:N(O.children,ze)}:O)};ae(T=>({...T,children:N(T.children||[],i.split("/"))})),ue(T=>T.map(B=>({...B,tabs:B.tabs.filter(L=>L.path!==i),activeTabIndex:B.activeTabIndex>=B.tabs.length-1?Math.max(0,B.tabs.length-2):B.activeTabIndex})))},Uo=(i,m)=>{const u=N=>N.name===i?{...N,name:m,isRenaming:!1}:N.children?{...N,children:N.children.map(u)}:N;ae(N=>u(N))},Wo=i=>{const m=u=>{if(u.name===i)return{...u,isRenaming:!0};const N={...u,isRenaming:!1};return N.children?{...N,children:N.children.map(m)}:N};ae(u=>m(u))},Ho=(i,m)=>{let u=null;const N=(B,L)=>{if(L.length===0||!B.children)return B;const ze=L[0];if(L.length===1){const O=B.children.find(ie=>ze===ie.name);return O&&(u=O),{...B,children:B.children.filter(ie=>ie.name!==ze)}}return{...B,children:B.children.map(O=>O.name===ze&&O.type==="folder"?N(O,L.slice(1)):O)}},T=(B,L,ze)=>{if(L.length===0)return{...B,children:[...B.children||[],ze]};if(!B.children)return B;const O=L[0];return{...B,children:B.children.map(ie=>ie.name===O&&ie.type==="folder"?T(ie,L.slice(1),ze):ie)}};ae(B=>{if(!i||m.startsWith(i))return B;const L=N(B,i.split("/"));return u?T(L,m?m.split("/"):[],u):B})},Vo=i=>{var T;const m=i.startsWith(`${_.name}/`)?i.substring(_.name.length+1):i,u=m.split("/");let N=_;for(const B of u)N=(T=N==null?void 0:N.children)==null?void 0:T.find(L=>L.name===B);N&&N.type==="file"&&(Os(N,m),p(I.FILES))},Ko=i=>{c(i),b(!1),localStorage.getItem("sai_onboarded")||setTimeout(()=>La(!0),500)},Mr=i=>{const m=R.find(u=>u.id===i);m&&(m.status==="connected"?nt(i):K(i,{env:V}))},Yo=a.useCallback(i=>{Je(i),tt(!0)},[]),Jo=i=>{de&&(Ee(m=>[...new Set([...m,de])]),Oe([`\r
\x1B[32m Identity Verified for ${de}.\x1B[0m`,"\x1B[34m[SAI]\x1B[0m Session token injected into kernel buffer."]),ee(`${(r==null?void 0:r.name)||"User"} connected to ${de} cloud`,e.jsx(Qt,{size:14,className:"text-emerald-400"}))),tt(!1)},Ga=a.useCallback((i,m="chat")=>{fe(!0),Ot(i),ra(m)},[]),qo=i=>{i.preventDefault(),le.current=!0,z(!0),document.body.style.cursor="col-resize"},Xo=i=>{i.preventDefault(),ne.current=!0,G(!0),document.body.style.cursor="col-resize"};a.useEffect(()=>{const i=u=>{if(le.current){const N=u.clientX-56;N<50?Ve(0):N<=800&&Ve(N)}if(ne.current&&!_e){const N=window.innerWidth-u.clientX;N<50?fe(!1):je(N)}},m=()=>{le.current=!1,z(!1),ne.current=!1,G(!1),document.body.style.cursor=""};return window.addEventListener("mousemove",i),window.addEventListener("mouseup",m),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",m)}},[_e]);const Qo=[{label:"File",items:[{label:"New File",action:()=>Ms(!0),shortcut:Qe?"N":"Ctrl+N",icon:e.jsx(Xa,{size:14})},{label:"New Folder",action:()=>Fa(),shortcut:Qe?"N":"Ctrl+Shift+N",icon:e.jsx(ls,{size:14})},{divider:!0},{label:"Open Project",action:()=>Ir(!0),icon:e.jsx(Kr,{size:14})},{label:"Save All",action:()=>{},shortcut:Qe?"S":"Ctrl+S",icon:e.jsx(Ha,{size:14})}]},{label:"Edit",items:[{label:"Undo",action:()=>{},shortcut:Qe?"Z":"Ctrl+Z",icon:e.jsx(pr,{size:14})},{label:"Redo",action:()=>{},shortcut:Qe?"Y":"Ctrl+Y",icon:e.jsx(hr,{size:14})},{divider:!0},{label:"Cut",action:()=>{},shortcut:Qe?"X":"Ctrl+X",icon:e.jsx(el,{size:14})},{label:"Copy",action:()=>{},shortcut:Qe?"C":"Ctrl+C",icon:e.jsx(Gt,{size:14})},{label:"Paste",action:()=>{},shortcut:Qe?"V":"Ctrl+V",icon:e.jsx(er,{size:14})}]},{label:"Selection",items:[{label:"Select All",action:()=>{},shortcut:Qe?"A":"Ctrl+A",icon:e.jsx(tl,{size:14})},{label:"Expand Selection",action:()=>{},icon:e.jsx(zs,{size:14})}]},{label:"View",items:[{label:"Command Palette",action:()=>Bs(!0),shortcut:Qe?"P":"Ctrl+Shift+P",icon:e.jsx(vn,{size:14})},{label:"Toggle Sidebar",action:()=>We(!Y),shortcut:Qe?"B":"Ctrl+B",icon:e.jsx(Kr,{size:14})},{label:"Toggle Chat",action:()=>fe(!Ye),shortcut:Qe?"I":"Ctrl+I",icon:e.jsx(es,{size:14})},{label:"Toggle Terminal",action:()=>Te(i=>i===0?250:0),shortcut:Qe?"J":"Ctrl+J",icon:e.jsx(ut,{size:14})}]},{label:"Go",items:[{label:"Go to File",action:()=>Bs(!0),shortcut:Qe?"P":"Ctrl+P",icon:e.jsx(Is,{size:14})},{label:"Go to Symbol",action:()=>{},shortcut:Qe?"O":"Ctrl+Shift+O",icon:e.jsx(ks,{size:14})}]}],Zo=[{id:"new-file",label:"New File",icon:e.jsx(Xa,{size:16}),category:"File",action:()=>Ms(!0),shortcut:"N"},{id:"save-file",label:"Save File",icon:e.jsx(Ha,{size:16}),category:"File",action:()=>handleSaveFile(),shortcut:"S"},{id:"save-all",label:"Save All Files",icon:e.jsx(Ha,{size:16}),category:"File",action:()=>handleSaveAllFiles(),shortcut:"S"},{id:"close-tab",label:"Close Tab",icon:e.jsx(Ue,{size:16}),category:"File",action:()=>{var i;if(q&&Q.length>0){const m=Q.find(u=>u.id===q);m&&m.tabs.length>0&&Rr(q,((i=m.tabs[m.activeTabIndex])==null?void 0:i.id)||"")}},shortcut:"W"},{id:"close-all-tabs",label:"Close All Tabs",icon:e.jsx(Ue,{size:16}),category:"File",action:()=>ue(i=>i.map(m=>({...m,tabs:[],activeTabIndex:-1}))),shortcut:"W"},{id:"toggle-chat",label:"Open AI Chat",icon:e.jsx(es,{size:16}),category:"AI",action:()=>{(r==null?void 0:r.plan)==="Hobby"?(vs("AI Chat"),Jt(!0)):fe(!0)},shortcut:"A"},{id:"ai-generate",label:"AI Generate Code",icon:e.jsx(Ft,{size:16}),category:"AI",action:()=>{fe(!0),Ot("Generate code for: ")}},{id:"ai-explain",label:"AI Explain Code",icon:e.jsx(Ft,{size:16}),category:"AI",action:()=>{fe(!0),Ot("Explain this code: ")}},{id:"ai-refactor",label:"AI Refactor Code",icon:e.jsx(Ft,{size:16}),category:"AI",action:()=>{fe(!0),Ot("Refactor this code to improve: ")}},{id:"ai-debug",label:"AI Debug Helper",icon:e.jsx(Ft,{size:16}),category:"AI",action:()=>{fe(!0),Ot("Help me debug: ")}},{id:"ghost-agent",label:"Summon Ghost Agent",icon:e.jsx(Ft,{size:16}),category:"AI",action:()=>setShowGhostAgent(!0)},{id:"toggle-terminal",label:"Toggle Terminal",icon:e.jsx(ut,{size:16}),category:"View",action:()=>setIsTerminalOpen(!isTerminalOpen),shortcut:"`"},{id:"toggle-sidebar",label:"Toggle Sidebar",icon:e.jsx(gn,{size:16}),category:"View",action:()=>setIsSidebarExpanded(!isSidebarExpanded),shortcut:"B"},{id:"toggle-preview",label:"Toggle Preview",icon:e.jsx(rr,{size:16}),category:"View",action:()=>setIsPreviewVisible(!isPreviewVisible),shortcut:"P"},{id:"zen-mode",label:"Zen Mode",icon:e.jsx(Js,{size:16}),category:"View",action:()=>{setIsSidebarExpanded(!1),setIsTerminalOpen(!1)}},{id:"split-editor",label:"Split Editor",icon:e.jsx(tr,{size:16}),category:"View",action:()=>ti()},{id:"open-explorer",label:"Open File Explorer",icon:e.jsx(xn,{size:16}),category:"Panel",action:()=>p(I.EXPLORER),shortcut:"E"},{id:"open-search",label:"Global Search",icon:e.jsx(Is,{size:16}),category:"Panel",action:()=>p(I.SEARCH),shortcut:"F"},{id:"open-git",label:"Source Control",icon:e.jsx(Pt,{size:16}),category:"Panel",action:()=>p(I.SOURCE_CONTROL),shortcut:"G"},{id:"open-extensions",label:"Extensions",icon:e.jsx(Ut,{size:16}),category:"Panel",action:()=>p(I.EXTENSIONS),shortcut:"X"},{id:"open-debug",label:"Debug Panel",icon:e.jsx(br,{size:16}),category:"Panel",action:()=>p(I.DEBUG)},{id:"open-settings",label:"Settings",icon:e.jsx(kt,{size:16}),category:"Panel",action:()=>p(I.SETTINGS),shortcut:","},{id:"open-database",label:"Database Panel",icon:e.jsx(wa,{size:16}),category:"Panel",action:()=>p(I.DATABASE)},{id:"open-docker",label:"Docker Panel",icon:e.jsx(Ut,{size:16}),category:"Panel",action:()=>p(I.DOCKER)},{id:"open-api-client",label:"API Client",icon:e.jsx(Zt,{size:16}),category:"Panel",action:()=>p(I.API_CLIENT)},{id:"open-security",label:"Security Scan",icon:e.jsx(Sa,{size:16}),category:"Panel",action:()=>p(I.SECURITY)},{id:"open-testing",label:"Testing Panel",icon:e.jsx(Yr,{size:16}),category:"Panel",action:()=>p(I.TESTING)},{id:"open-kanban",label:"Project Board",icon:e.jsx(rl,{size:16}),category:"Project",action:()=>p(I.KANBAN)},{id:"open-whiteboard",label:"Whiteboard",icon:e.jsx(nl,{size:16}),category:"Project",action:()=>p(I.WHITEBOARD)},{id:"open-document",label:"Document Studio",icon:e.jsx(bt,{size:16}),category:"Project",action:()=>p(I.DOCUMENT)},{id:"new-project",label:"Create New Project",icon:e.jsx(pn,{size:16}),category:"Project",action:()=>da(!0)},{id:"clone-repo",label:"Clone Repository",icon:e.jsx(Pt,{size:16}),category:"Project",action:()=>$a(!0)},{id:"git-commit",label:"Git: Commit",icon:e.jsx(In,{size:16}),category:"Git",action:()=>{p(I.SOURCE_CONTROL)}},{id:"git-push",label:"Git: Push",icon:e.jsx(jn,{size:16}),category:"Git",action:()=>Oe(`\r
\x1B[34m[GIT]\x1B[0m Pushing to remote...`)},{id:"git-pull",label:"Git: Pull",icon:e.jsx(Hs,{size:16}),category:"Git",action:()=>Oe(`\r
\x1B[34m[GIT]\x1B[0m Pulling from remote...`)},{id:"git-branch",label:"Git: Create Branch",icon:e.jsx(Pt,{size:16}),category:"Git",action:()=>p(I.SOURCE_CONTROL)},{id:"format-document",label:"Format Document",icon:e.jsx(ol,{size:16}),category:"Tools",action:()=>Oe(`\r
\x1B[32m Document formatted\x1B[0m`),shortcut:"F"},{id:"run-build",label:"Run Build",icon:e.jsx(qa,{size:16}),category:"Tools",action:()=>{setIsTerminalOpen(!0),Oe(`\r
\x1B[36m[BUILD]\x1B[0m Starting build process...`)},shortcut:"B"},{id:"deploy",label:"Deploy to Cloud",icon:e.jsx(Fs,{size:16}),category:"Tools",action:()=>setIsDeployModalOpen(!0)},{id:"preview-build",label:"Preview Build",icon:e.jsx(rr,{size:16}),category:"Tools",action:()=>ca(!0)},{id:"run-tests",label:"Run Tests",icon:e.jsx(Yr,{size:16}),category:"Tools",action:()=>{p(I.TESTING)}},{id:"open-collab",label:"Team Collaboration",icon:e.jsx(ts,{size:16}),category:"Collaboration",action:()=>p(I.COLLABORATION)},{id:"start-live-share",label:"Start Live Share",icon:e.jsx(Gs,{size:16}),category:"Collaboration",action:()=>Oe(`\r
\x1B[35m[LIVE]\x1B[0m Starting live share session...`)},{id:"open-team-hub",label:"Team Hub",icon:e.jsx(ts,{size:16}),category:"Collaboration",action:()=>x(ft.HUB)},{id:"keyboard-shortcuts",label:"Keyboard Shortcuts",icon:e.jsx(ar,{size:16}),category:"Help",action:()=>p(I.HELP),shortcut:"K S"},{id:"documentation",label:"Documentation",icon:e.jsx(gr,{size:16}),category:"Help",action:()=>p(I.HELP)},{id:"about",label:"About SAI-IDE",icon:e.jsx(kn,{size:16}),category:"Help",action:()=>setIsAboutOpen(!0)},{id:"whats-new",label:"What's New",icon:e.jsx(il,{size:16}),category:"Help",action:()=>setIsAboutOpen(!0)}],ei=i=>{La(!1),localStorage.setItem("sai_onboarded","true"),ae(m=>({...m,name:i})),Oe([`\r
\x1B[32m Neural workspace initialized as "${i}".\x1B[0m`,"\x1B[34m[SAI]\x1B[0m Ready for synthesis."]),x(ft.HUB)},ti=()=>{const i=`group-${Date.now()}`;ue(m=>[...m,{id:i,name:"New Group",tabs:[],activeTabIndex:-1,isCollapsed:!1}]),Ie(i)},Or=i=>{x(ft.WORKSPACE),Oe([`\r
\x1B[36m[HUB]\x1B[0m Entering workspace: ${i}...`,"\x1B[34m[SAI]\x1B[0m Attaching co-pilot session to project context."])},si=i=>{const m={id:Date.now().toString(),title:i.title,description:i.description,teamMemberIds:i.memberIds,status:Ss.ACTIVE,changeCount:0,lastUpdate:"Just now",comments:[]};te(u=>[m,...u]),da(!1),Oe(`\r
\x1B[32m Created new blueprint: ${i.title}\x1B[0m`),ee(`${(r==null?void 0:r.name)||"User"} created project: '${i.title}'`,e.jsx(zs,{size:14,className:"text-blue-400"}))},ai=()=>{U(!0),p(null)},ri=()=>{U(!1)},Lr=i=>{i===I.DEPLOYMENT?C(!0):p(f===i?null:i)},ni=i=>{Or(i.title),setTimeout(()=>{Ga(i.prompt,"app")},1e3)},oi=a.useCallback(i=>{var u,N;const m=i.replace(/"/g,'\\"');(u=Nt.current)==null||u.ensureTerminalVisible(),(N=Nt.current)==null||N.runTerminalCommand(`git commit -m "${m}"`),Oa(T=>[{id:Math.random().toString(16).substring(2,9),message:i,author:(r==null?void 0:r.name)||"Anonymous",date:"Just now",branch:qe,parentIds:T.length>0?[T[0].id]:[],color:"#4ade80"},...T]),k(JSON.parse(JSON.stringify(_))),Ne([]),ee(`${(r==null?void 0:r.name)||"User"} committed: "${i}"`,e.jsx(Pt,{size:14,className:"text-green-400"}))},[r,ee,_,qe]),ii=i=>{if(r){const m={...r,plan:i};c(m),Ls.createProUser(r.name,r.email,"NO_PASS_UPDATE"),Oe([`\r
\x1B[32m PRO UPGRADE SUCCESSFUL\x1B[0m`,`\x1B[34m[SAI]\x1B[0m Welcome to the ${i} tier. Neural pipelines upgraded.`]),ee(`${r.name} upgraded to ${i} plan!`,e.jsx(ks,{size:14,className:"text-yellow-400"}))}},_r=()=>{const i=Math.floor(Math.random()*2e3)+1e3;setTimeout(()=>{const m=ja.filter(u=>!l.some(N=>N.email===u.email)&&(r?u.email!==r.email:!0));if(m.length>0){const u=m[0];g(N=>[...N,u]),ee(`${u.name} joined via invite link`,e.jsx(al,{size:14,className:"text-green-400"})),Oe([`\r
\x1B[32m[System]\x1B[0m New connection established: ${u.name}`,"\x1B[34m[Collab]\x1B[0m Synchronizing workspace state... Done."]),Xe&&gs(`**${u.name}** has joined the session.`)}},i)};return e.jsxs("div",{className:"flex flex-col h-screen bg-[var(--color-background)] text-[var(--color-text-primary)] relative overflow-hidden",children:[e.jsx(hc,{models:or,activeModelId:ke,onModelChange:pe,teamMembers:l,currentUser:r,onSignIn:()=>b(!0),onSignOut:()=>{Ls.signOut(),c(null)},onInvite:()=>ia(!0),isLanding:!r,isChatOpen:Ye,onToggleChat:()=>{(r==null?void 0:r.plan)==="Hobby"?(vs("AI Chat"),Jt(!0)):fe(!Ye)},isSidebarVisible:Y,onToggleSidebar:()=>We(!Y),onOpenProfile:()=>{io("profile"),Er(!0)},mcpServers:R,onToggleMcp:Mr,onStatusChange:i=>r&&c({...r,status:i}),menuCategories:Qo,isLive:et,onOpenVoiceCommand:()=>De(!0),activePanel:f,onPanelChange:Lr,onToggleTerminal:()=>Te(i=>i===0?250:0),isTerminalOpen:Ge>0,onRun:Bo,onBuild:()=>ca(!0),isCallMinimized:He,onToggleCallMinimize:()=>Be(i=>!i),isMicOn:Z,onToggleMic:()=>be(i=>!i),onUpgradeClick:()=>{vs("Premium Features"),Jt(!0)}}),et&&r&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(fd,{onStopSession:()=>It(!1),currentUser:r,teamMembers:l,isMinimized:He,onToggleMinimize:()=>Be(i=>!i),isMicOn:Z,onToggleMic:()=>be(i=>!i),onToggleLiveChat:Ke})}),r&&Xe&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(bd,{currentUser:r,teamMembers:l,isOpen:Xe,isMinimized:Bt,messages:Ht,hasUnread:Xs,activity:Ds,onSendMessage:gs,onClose:()=>ct(!1),onMinimize:()=>jt(!0),onMaximize:()=>{jt(!1),Mt(!1)},discussions:pt})}),A&&r&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(gd,{currentUser:r,teamMembers:l,onDock:ri})}),Lt!=="idle"&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(xd,{status:Lt,steps:na,currentAction:Ra,onClose:()=>dt("idle")})}),e.jsx("div",{className:"flex-1 flex flex-col pt-14 overflow-y-auto custom-scrollbar relative",children:r?e.jsx(e.Fragment,{children:j===ft.HUB?e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(hd,{projects:me,teamMembers:l,currentUser:r,onLaunchWorkspace:Or,onInvite:()=>ia(!0),onCreateProject:()=>da(!0),onBrowseTemplates:()=>x(ft.TEMPLATES),commits:oa,onAskHubAgent:Ga,onJoinDiscussion:ee,discussions:pt,onImportLink:ht,agendaItems:hs,activity:Ds})}):j===ft.TEMPLATES?e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(wd,{onSelect:ni,onBack:()=>x(ft.HUB)})}):e.jsxs("div",{className:"flex-1 flex overflow-x-auto md:overflow-hidden relative animate-fade-in h-full",children:[e.jsx(Hd,{}),Y&&e.jsx(yc,{activePanel:f,onPanelChange:Lr,userPlan:r.plan,onRestrictedClick:i=>{vs(i),Jt(!0)},pendingChangesCount:ye.length+oe.length}),e.jsx("div",{className:"absolute bottom-20 left-2 w-10 h-10 z-50",children:e.jsxs("button",{onClick:()=>x(ft.HUB),className:"p-2 rounded-lg bg-slate-800 text-slate-400 hover:text-white transition-all shadow-lg border border-white/10 group overflow-hidden relative",title:"Return to Team Hub",children:[e.jsx(Ca,{size:20}),e.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),f===I.DOCUMENT?e.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-[#0d1117]/80 backdrop-blur-sm relative z-20",children:e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(md,{onCollapse:()=>p(null),activeModelId:ke,teamMembers:l,currentUser:r})})}):f===I.STITCH_STUDIO?e.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-[#0b0e14] relative z-20 animate-fade-in",children:e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(rd,{onCollapse:()=>p(null),activeModelId:ke,onSaveFile:js})})}):f===I.WHITEBOARD?e.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-slate-100 relative z-20 animate-fade-in",children:e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(Un,{onCollapse:()=>p(null),activeModelId:ke})})}):f===I.KANBAN?e.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-[#0b0e14] relative z-20 animate-fade-in",children:e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(ld,{onCollapse:()=>p(null),fileStructure:_,tasks:ta,setTasks:ys,projectName:_.name,teamMembers:l})})}):f===I.DATABASE?e.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-[#0b0e14] relative z-20 animate-fade-in",children:e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(id,{onCollapse:()=>p(null),activeModelId:ke})})}):e.jsxs(e.Fragment,{children:[f&&f!==I.CHAT&&e.jsxs(e.Fragment,{children:[_e&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[180] animate-fade-in",onClick:()=>p(null)}),e.jsx("div",{className:`border-r border-[var(--color-border)] flex flex-col bg-[var(--color-background-secondary)]/90 backdrop-blur-md z-[190] transition-all
                                              ${_e?"fixed inset-y-0 left-14 top-14 w-[calc(100%-56px)] animate-slide-in-left shadow-2xl":`relative ${v?"border-[var(--color-accent)]":""}`}
                                          `,style:{width:_e?"calc(100% - 56px)":`${Pe}px`,minWidth:_e?"auto":Pe===0?"0px":"50px"},children:e.jsxs(a.Suspense,{fallback:e.jsx(_t,{}),children:[f===I.FILES&&e.jsx(vc,{rootNode:_,activeFile:re?re.node:null,onFileSelect:Os,onCollapse:()=>p(null),onNewFile:()=>Ms(!0),onNewFolder:()=>Fa(),onRefresh:Ro,onSaveToGithub:()=>la(!0),onBuild:()=>ca(!0),onRenameFile:Uo,onStartRenaming:Wo,onDeleteFile:Br,onOpenInTerminal:Ao,onRunFile:Do,terminalCwd:fo,onMoveNode:Ho,securityIssues:W,onOpenDocuments:()=>p(I.DOCUMENT),onPanelChange:p}),f===I.SEARCH&&e.jsx(Kc,{onCollapse:()=>p(null)}),f===I.SOURCE_CONTROL&&e.jsx(Yc,{onCollapse:()=>p(null),changes:ye,stagedChanges:oe,onStageFile:zo,onUnstageFile:Io,onStageAll:Eo,onUnstageAll:To,onCommit:oi,onSync:So,isSyncing:xt,currentBranch:qe,branches:Rt,onBranchChange:No,onCreateBranch:ko,commits:oa,fileStructure:_,activeModelId:ke,onWriteToTerminal:Oe,onRefreshGitStatus:Co}),f===I.SECURITY&&e.jsx(Jc,{securityIssues:W,onCollapse:()=>p(null),policies:xe,onTogglePolicy:i=>F(m=>m.map(u=>u.id===i?{...u,enabled:!u.enabled}:u)),onSetPolicies:F,fileStructure:_}),f===I.TERRAFORM&&e.jsx(qc,{onSaveFile:js,activeModelId:ke,onCollapse:()=>p(null),policies:xe,onWriteToTerminal:Oe}),f===I.DOCKER&&e.jsx(Xc,{onSaveFile:js,activeModelId:ke,onCollapse:()=>p(null),policies:xe,onWriteToTerminal:Oe,fileStructure:_}),f===I.EXTENSIONS&&e.jsx(ad,{installedExtensions:Ce,onInstall:i=>st([...Ce,i]),onUninstall:i=>st(Ce.filter(m=>m.id!==i)),onCollapse:()=>p(null)}),f===I.TEAM&&e.jsx(ud,{isLive:et,onStartSession:()=>{It(!0),Ke()},onStopSession:()=>It(!1),onInvite:()=>ia(!0),teamMembers:l,currentUser:r,onCollapse:()=>p(null),inviteDockLocation:Ba,onMoveInvite:()=>Ma(i=>i==="header"?"sidebar":"header"),onPopOut:ai,agendaItems:hs,onAddAgendaItem:At,onToggleAgendaItem:Ps,onDeleteAgendaItem:$e,onInviteSent:_r}),f===I.INTEGRATIONS&&e.jsx(yd,{githubToken:Kt,onConnectGithub:()=>la(!0),onDisconnectGithub:()=>{Zs(null),localStorage.removeItem("sai_github_token")},onDeployNetlify:()=>Ar(!0),onCollapse:()=>p(null)}),f===I.AI_MARKETPLACE&&e.jsx(td,{models:or,activeModelId:ke,apiKeys:V,onSetActiveModel:pe,onSaveApiKey:(i,m)=>se(u=>({...u,[i]:m})),onCollapse:()=>p(null)}),f===I.PERSONAS&&e.jsx(sd,{personas:[...Al,...$],activePersona:gt,onSelectPersona:it,onCreatePersona:()=>zr(!0),onCollapse:()=>p(null)}),f===I.ML_STUDIO&&e.jsx(jd,{onCollapse:()=>p(null),activeModelId:ke}),f===I.RECORDER&&e.jsx(dd,{recordings:Ze,onDeleteRecording:Ta,onCollapse:()=>p(null),onOpenRecorder:()=>Tr(!0)}),f===I.SETTINGS&&e.jsx(Qc,{onCollapse:()=>p(null),design:t,onDesignChange:s,themeName:Re,onThemeChange:Le,apiKeys:V,onSaveApiKey:(i,m)=>se(u=>({...u,[i]:m})),mcpServers:R,onToggleMcp:Mr,onOpenBilling:()=>_a(!0),currentPlan:r.plan}),f===I.HELP&&e.jsx(Zc,{onCollapse:()=>p(null)}),f===I.DEBUG&&e.jsx(nd,{onCollapse:()=>p(null),onRun:Fe,activeFile:re?re.node:null,fileStructure:_,terminalHistory:bs,activeModelId:ke}),f===I.TESTING&&e.jsx(od,{onCollapse:()=>p(null),fileStructure:_,setFileStructure:ae,onRunTest:Fe,onWriteToTerminal:i=>Oe(i),securityIssues:W,policies:xe,onGoToFile:Vo,activeExplorerFile:re}),f===I.PREVIEW&&e.jsx(ed,{onCollapse:()=>p(null),fileStructure:_}),f===I.API_STUDIO&&e.jsx(cd,{onCollapse:()=>p(null),activeModelId:ke,onSaveFile:js,onRunInTerminal:Fe,onPanelChange:p})]})}),!_e&&e.jsx("div",{onMouseDown:qo,className:"w-2 cursor-col-resize group z-30 flex-shrink-0 flex items-center justify-center",title:"Resize Panel",children:e.jsx("div",{className:`h-full w-px bg-white/10 group-hover:bg-cyan-500/50 transition-colors duration-200 ${v?"bg-cyan-500 w-0.5":""}`})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-[var(--color-background)] relative h-full",children:[e.jsx(Dc,{ref:Nt,tabGroups:Q,focusedGroupId:q,onSelectTab:(i,m)=>{Ie(i),ue(u=>u.map(N=>N.id===i?{...N,activeTabIndex:m}:N))},onCloseTab:Rr,onFileUpdate:js,onToggleGroupCollapse:i=>{ue(m=>m.map(u=>u.id===i?{...u,isCollapsed:!u.isCollapsed}:u))},onCreateGroup:()=>{const i={id:Date.now().toString(),tabs:[],activeTabIndex:0,isCollapsed:!1};ue(m=>[...m,i]),Ie(i.id)},onUndo:()=>{},onRedo:()=>{},appEvents:[],onClearEvents:()=>{},onGoToFile:()=>{},onOpenChat:()=>fe(!0),onOpenSettings:()=>p(I.SETTINGS),onStartDebugging:()=>p(I.DEBUG),onCloneRepo:()=>$a(!0),onChangePanel:p,onNewFile:Fo,onNewFolder:Fa,onDeleteFile:Br,fontSize:"14",wordWrap:"off",keymap:aa,vimMode:ws,isMac:Qe,onOpenCommandPalette:()=>Bs(!0),collaborationState:{},teamMembers:l,currentUser:r,fileStructure:_,setFileStructure:ae,canEdit:!0,terminalHeight:Ge,onTerminalResize:Te,policies:xe,securityIssues:W,installedExtensions:Ce,onGetSuggestions:()=>{},onClearProblems:()=>{},onValidateCommand:Mo,diffData:Rs,onCloseDiff:()=>fs(null),onReturnToSetup:()=>{},recents:[],onTerminalOutput:ma,onCloudAuth:Yo,onAIAppGen:Ga,onOpenDocs:()=>p(I.DOCUMENT),onOpenRecorder:()=>p(I.RECORDER),comments:Dr,onOpenCommentThread:wo,gitStatus:zt,onSetStagedCommitMessage:Kn,onGitPush:()=>la(!0),onCwdChange:Po,activeModelId:ke,onRestrictedClick:i=>{vs(i),Jt(!0)}}),E&&e.jsx("div",{className:"absolute inset-0 z-50 animate-fade-in backdrop-blur-xl",children:e.jsx(a.Suspense,{fallback:e.jsx(_t,{}),children:e.jsx(pd,{onClose:()=>C(!1),authenticatedProviders:ce,fileStructure:_,onRunInTerminal:Fe,activeModelId:ke})})})]}),Ye&&e.jsxs(e.Fragment,{children:[!_e&&e.jsx("div",{onMouseDown:Xo,className:"w-2 cursor-col-resize group z-30 flex-shrink-0 flex items-center justify-center",children:e.jsx("div",{className:`h-full w-px bg-white/10 group-hover:bg-cyan-500/50 transition-colors duration-200 ${Se?"bg-cyan-500 w-0.5":""}`})}),_e&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[190] animate-fade-in",onClick:()=>fe(!1)}),e.jsx("div",{className:`transition-all z-[200] bg-[var(--color-background)]/95 backdrop-blur-xl overflow-hidden shadow-2xl relative
                                          ${_e?"fixed inset-0 top-14 animate-slide-in-right":`flex-shrink-0 border-l border-white/5 ${Se?"border-[var(--color-accent)]":""}`}`,style:{width:_e?"100%":`${ve}px`},children:e.jsx(Oc,{activeModelId:ke,activePersona:gt,session:P,allSessions:Dt,onUpdateSession:Lo,onNewChat:d,onSwitchChat:o,onDeleteSession:D,onCollapse:()=>fe(!1),apiKeys:V,currentUser:r,onModelChange:pe,initialPrompt:Da,onClearInitialPrompt:()=>Ot(void 0),initialMode:Pa,onClearInitialMode:()=>ra(void 0),onAppGeneration:_o,onInsertCodeIntoEditor:$o,onOpenPreview:()=>p(I.PREVIEW),onDeployRequest:()=>C(!0)})})]})]})]})}):e.jsx(Hc,{onLaunch:()=>b(!0),onSubscribe:()=>b(!0)})}),e.jsxs(a.Suspense,{fallback:null,children:[e.jsx(Ed,{isOpen:h,onClose:()=>b(!1),onAuthSuccess:Ko}),e.jsx(Nd,{isOpen:Yn,onClose:()=>Bs(!1),commands:Zo,onAskOracle:i=>{fe(!0),Ot(i)}}),r&&e.jsx(kd,{isOpen:Jn,onClose:ei,design:t,onDesignChange:s,currentTheme:Re,onThemeChange:Le,keymap:aa,onKeymapChange:Aa,vimMode:ws,onToggleVimMode:()=>sa(!ws)}),e.jsx(Sd,{isOpen:qn,onClose:()=>ia(!1),onInviteSent:_r}),e.jsx(Cd,{isOpen:Xn,onClose:()=>la(!1),fileStructure:_,token:Kt,onSetToken:Zs}),e.jsx(zd,{isOpen:Qn,onClose:()=>Zn(!1),activeFileContent:re==null?void 0:re.node.content,activeFileName:re==null?void 0:re.node.name,activeModelId:ke}),e.jsx(Id,{isOpen:eo,onClose:()=>Ms(!1),onSelect:Go}),e.jsx(Fd,{isOpen:to,onClose:()=>ca(!1),onRunBuild:Oo,onOpenGit:()=>p(I.SOURCE_CONTROL),onOpenDeploy:()=>C(!0),activeFile:re?re.node:null}),e.jsx(Gd,{isOpen:so,onClose:()=>zr(!1),onCreate:i=>J(m=>[...m,{...i,id:`custom-${Date.now()}`}])}),e.jsx(Ud,{isOpen:ao,onClose:()=>_a(!1),currentUser:r,onUpgradeSuccess:ii}),e.jsx(Td,{isOpen:ro,onClose:()=>Ir(!1),onSelect:i=>{},currentProjectName:_.name}),r&&e.jsx(Ad,{isOpen:no,onClose:()=>Er(!1),user:r,initialTab:oo}),e.jsx(Dd,{isOpen:lo,onClose:()=>da(!1),onSubmit:si,teamMembers:l}),e.jsx(Pd,{isOpen:co,onClose:()=>Jt(!1),onUpgrade:()=>{Jt(!1),_a(!0)},featureName:mo}),e.jsx(Rd,{isOpen:uo,onClose:()=>xo(!1)}),e.jsx(Bd,{isOpen:Ae,onClose:()=>De(!1),onCommand:i=>{Fe(`sai synth "${i}"`)}}),e.jsx(Md,{isOpen:po,onClose:()=>Tr(!1),onSave:Ea}),e.jsx(Od,{isOpen:ho,onClose:()=>$a(!1),onClone:i=>{Fe(`git clone ${i}`)}}),e.jsx(Ld,{isOpen:go,onClose:()=>Ar(!1),projectName:_.name}),e.jsx(_d,{isOpen:Me,onClose:()=>tt(!1),providerName:de||"Cloud",onConnect:Jo}),qt&&r&&e.jsx($d,{isOpen:!!qt,onClose:()=>Pr(null),filePath:qt.filePath,lineNumber:qt.lineNumber,thread:(($r=Dr[qt.filePath])==null?void 0:$r.filter(i=>i.lineNumber===qt.lineNumber))||[],onAddComment:i=>vo(qt.filePath,qt.lineNumber,i),onSynthesizeTask:jo,currentUser:r}),!r&&e.jsx(vd,{})]})]})},Kd=H.lazy(()=>X(()=>import("./StandaloneEditor-D_ZZ5D92.js"),__vite__mapDeps([60,1,2,3,4,5,6]))),Yd=H.lazy(()=>X(()=>import("./StandalonePreview-C7o50R8o.js"),__vite__mapDeps([61,1,14,2,3,4,5,6]))),Jd=()=>{const[t,s]=a.useState("processing"),[r,c]=a.useState("Processing authentication...");return a.useEffect(()=>{(async()=>{const g=new URLSearchParams(window.location.search),j=g.get("code"),x=g.get("state"),h=g.get("error");if(h){s("error"),c(`Authentication failed: ${h}`);return}if(j&&x){sessionStorage.setItem("github_oauth_code",j),sessionStorage.setItem("github_oauth_state_received",x);const b=sessionStorage.getItem("github_oauth_redirect")||"/";sessionStorage.removeItem("github_oauth_redirect"),s("success"),c("Authentication successful! Redirecting..."),setTimeout(()=>{window.location.href=b},500)}else s("error"),c("Invalid callback parameters.")})()},[]),e.jsx("div",{className:"w-screen h-screen bg-[#080a0f] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl mb-4 ${t==="processing"?"text-cyan-400":t==="success"?"text-green-400":"text-red-400"}`,children:t==="processing"&&e.jsxs("svg",{className:"animate-spin h-8 w-8 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("p",{className:"text-gray-400 font-mono text-sm",children:r})]})})},qd=()=>{const[t,s]=a.useState(()=>localStorage.getItem("sai_design")||"neural-ink");if(a.useEffect(()=>{document.documentElement.className=`design-${t}`,localStorage.setItem("sai_design",t)},[t]),window.location.pathname==="/auth/github/callback")return e.jsx(Jd,{});const c=window.location.hash.substring(1),l=new URLSearchParams(c),g=l.has("popoutKey"),j=l.has("preview");return g?e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"w-screen h-screen bg-[#0b0e14] flex items-center justify-center text-gray-500 font-mono text-xs uppercase tracking-widest",children:"Initialising Editor..."}),children:e.jsx(Kd,{})}):j?e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"w-screen h-screen bg-[#0b0e14] flex items-center justify-center text-gray-500 font-mono text-xs uppercase tracking-widest",children:"Initialising Preview..."}),children:e.jsx(Yd,{})}):e.jsx(Vd,{design:t,setDesign:s})},Vn=document.getElementById("root");if(!Vn)throw new Error("Could not find root element to mount to");const Xd=ll.createRoot(Vn);Xd.render(e.jsx(qd,{}));export{yl as C,Dc as E,cm as F,lt as I,mm as L,en as M,I as P,yt as S,Xr as T,ka as a,im as b,lm as c,dm as d,Ls as e,xm as f,um as g,om as h,nm as i,Fc as j,pm as p};
