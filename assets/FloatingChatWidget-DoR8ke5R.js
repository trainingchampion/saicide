import{v as n,j as e,M as h,cu as f,cv as g,cw as w}from"./vendor-react-tt7m-l12.js";import{T as b}from"./TeamChannel-BxomwoRU.js";import"./index.dev-D8ZHRTqV.js";import"./vendor-mcp-DCT6vnr2.js";import"./vendor-misc-euQLCzIo.js";import"./vendor-network-aHtHbEbM.js";import"./vendor-terminal-D4sCRDlA.js";import"./vendor-ai-BVRLdj29.js";const v=l=>{const[i,r]=n.useState(l),[a,o]=n.useState(!1),s=n.useRef({x:0,y:0}),c=t=>{t.target.closest("button, input, select")||(o(!0),s.current={x:t.clientX-i.x,y:t.clientY-i.y})};return n.useEffect(()=>{const t=u=>{if(a){const x=Math.max(0,Math.min(u.clientX-s.current.x,window.innerWidth-50)),m=Math.max(0,Math.min(u.clientY-s.current.y,window.innerHeight-50));r({x,y:m})}},d=()=>o(!1);return window.addEventListener("mousemove",t),window.addEventListener("mouseup",d),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",d)}},[a]),{pos:i,handleMouseDown:c}},E=({currentUser:l,teamMembers:i,onDock:r})=>{const[a,o]=n.useState(!1),{pos:s,handleMouseDown:c}=v({x:window.innerWidth-420,y:100}),[t,d]=n.useState({width:400,height:600});return a?e.jsxs("button",{onClick:()=>o(!1),className:"fixed bottom-8 right-8 w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center shadow-2xl text-white hover:bg-blue-500 transition-all z-[210] animate-fade-in",title:"Open Team Channel",children:[e.jsx(h,{size:28}),e.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 bg-red-500 rounded-full border-2 border-blue-600"})]}):e.jsxs("div",{className:"fixed bg-[var(--color-background-secondary)] border border-[var(--color-border)] rounded-2xl shadow-2xl flex flex-col z-[210] animate-fade-in",style:{left:s.x,top:s.y,width:t.width,height:t.height},children:[e.jsxs("div",{onMouseDown:c,className:"p-2 border-b border-[var(--color-border)] flex items-center justify-between cursor-move bg-[var(--color-background-tertiary)] rounded-t-2xl",children:[e.jsx(f,{size:16,className:"text-slate-500"}),e.jsx("h3",{className:"text-xs font-black uppercase text-slate-400 tracking-wider",children:"Team Channel"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:r,title:"Dock to Sidebar",children:e.jsx(g,{size:16,className:"text-slate-500 hover:text-slate-800"})}),e.jsx("button",{onClick:()=>o(!0),title:"Minimize",children:e.jsx(w,{size:16,className:"text-slate-500 hover:text-slate-800"})})]})]}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:e.jsx(b,{currentUser:l,teamMembers:i,isFloating:!0,onToggleFloat:r})})]})};export{E as FloatingChatWidget};
