import{v as t,j as e,cu as v,X as w,bV as j,br as y,aq as N,A as M,bq as k}from"./vendor-react-tt7m-l12.js";import C from"./InviteMemberModal-Bs8xVX5_.js";import{T as L}from"./TeamChannel-Cpkockhf.js";import"./index.dev-Cip6vZM1.js";import"./vendor-mcp-DCT6vnr2.js";import"./vendor-misc-euQLCzIo.js";import"./vendor-network-aHtHbEbM.js";import"./vendor-terminal-D4sCRDlA.js";import"./vendor-ai-BVRLdj29.js";const S=c=>{const[o,p]=t.useState(c),[r,n]=t.useState(!1),i=t.useRef({x:0,y:0}),d=s=>{s.target.closest("button, input, select, textarea")||(n(!0),i.current={x:s.clientX-o.x,y:s.clientY-o.y})};return t.useEffect(()=>{const s=x=>{if(r){const u=Math.max(0,Math.min(x.clientX-i.current.x,window.innerWidth-50)),l=Math.max(0,Math.min(x.clientY-i.current.y,window.innerHeight-50));p({x:u,y:l})}},a=()=>n(!1);return window.addEventListener("mousemove",s),window.addEventListener("mouseup",a),()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)}},[r]),{pos:o,handleMouseDown:d}},O=({onClose:c,terminalHistory:o,chatSession:p,currentUser:r,teamMembers:n,activeFileContent:i="",onPopOut:d,onInviteSent:s})=>{const[a,x]=t.useState(!0),[u,l]=t.useState(!1),[m,b]=t.useState(!1),{pos:f,handleMouseDown:h}=S({x:window.innerWidth/2-190,y:80}),g=()=>{navigator.clipboard.writeText(`https://sai.sh/join/${Math.random().toString(36).substring(7)}`),b(!0),setTimeout(()=>b(!1),2e3),s&&s()};return e.jsxs("section",{className:"fixed w-[380px] h-[calc(100vh-120px)] max-h-[750px] bg-[var(--color-background-secondary)]/95 backdrop-blur-xl text-[var(--color-text-primary)] flex flex-col font-sans rounded-2xl shadow-2xl border border-white/10 z-[200] animate-fade-in",style:{left:f.x,top:f.y},children:[e.jsxs("div",{className:"flex justify-between items-center p-2 pl-4 flex-shrink-0 cursor-move border-b border-white/5",onMouseDown:h,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{size:16,className:"text-gray-600"}),e.jsx("h2",{className:"text-xs font-bold uppercase text-[var(--color-text-secondary)] tracking-widest",children:"Live Session"})]}),e.jsx("button",{onClick:c,title:"Close Session",className:"text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] p-1 rounded-md hover:bg-[var(--color-background-tertiary)]",children:e.jsx(w,{size:18})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-4 flex flex-col",children:[a?e.jsxs("div",{className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl text-sm font-bold bg-red-500/10 text-red-400 border border-red-500/20 shadow-md",children:[e.jsx(j,{size:16,className:"animate-pulse"})," Live Session Active"]}):null,e.jsxs("div",{className:"p-4 rounded-2xl bg-blue-50 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-200 rounded-lg text-blue-700",children:e.jsx(y,{size:18})}),e.jsx("span",{className:"text-xs font-black uppercase text-blue-900 tracking-wider",children:"Invite Hub"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-sm font-bold bg-blue-600 hover:bg-blue-700 text-white transition-all shadow-lg",children:[e.jsx(N,{size:16})," Invite Teammates"]}),e.jsxs("button",{onClick:g,className:`w-full flex items-center justify-center gap-2 px-3 py-2 rounded-xl text-xs font-bold transition-all border ${m?"bg-green-100 border-green-200 text-green-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:[m?e.jsx(M,{size:14}):e.jsx(k,{size:14}),m?"Link Copied!":"Copy Magic Link"]})]})]}),e.jsx("div",{className:"flex-1 flex flex-col rounded-2xl overflow-hidden min-h-[400px] mt-4",children:e.jsx(L,{currentUser:r,teamMembers:n,isFloating:!1,onToggleFloat:d})})]}),e.jsx(C,{isOpen:u,onClose:()=>l(!1),onInviteSent:s})]})};export{O as TeamCollaborationPane};
